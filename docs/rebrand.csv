#TYPE System.Management.Automation.PSCustomObject
"Article","LineNumber","Term","Line"
"\azure-management.md","56","log analytics","- Log Analytics"
"\azure-monitor-rebrand.md","25","log analytics","## Log Analytics redefinition"
"\azure-monitor-rebrand.md","34","log analytics","- Log Analytics"
"\continuous-monitoring.md","62","metrics explorer","- [Maintain separate monitoring instances](../application-insights/app-insights-separate-resources.md) between your different deployment environments such as Dev, Test, Canary, and Prod. This ensures that collected data is relevant across the associated applications and infrastructure. If you need to correlate data across environments, you can use [multi-resource charts in Metrics Explorer](../monitoring-and-diagnostics/monitoring-metric-charts.md) or create [cross-resource queries in Azure Monitor](log-query/cross-workspace-query.md)."
"\overview.md","37","log analytics","Log data collected by Azure Monitor can be analyzed with [queries](log-query/log-query-overview.md) that quickly retrieve, consolidate, and analyze collected data.  You can create and test queries using [log analytics](../log-analytics/log-analytics-log-search-portals.md) in the Azure portal and then either directly analyze the data using these tools or save queries for use with [visualizations](visualizations.md) or [alert rules](../monitoring-and-diagnostics/monitoring-overview-alerts.md)."
"\overview.md","39","kusto","Azure Monitor uses a version of the [Data Explorer query language](/azure/kusto/query/) that is suitable for simple log queries but also includes advanced functionality such as aggregations, joins, and smart analytics. You can quickly learn the query language using [multiple lessons](log-query/get-started-queries.md).  Particular guidance is provided to users who are already familiar with [SQL](log-query/sql-cheatsheet.md) and [Splunk](log-query/splunk-cheatsheet.md)."
"\overview.md","72","log analytics","Azure Monitor for containers is a feature designed to monitor the performance of container workloads deployed to managed Kubernetes clusters hosted on Azure Kubernetes Service (AKS). It gives you performance visibility by collecting memory and processor metrics from controllers, nodes, and containers that are available in Kubernetes through the Metrics API. Container logs are also collected.  After you enable monitoring from Kubernetes clusters, these metrics and logs are automatically collected for you through a containerized version of the Log Analytics agent for Linux."
"\visualizations.md","28","log analytics","- Deep integration into Azure. Visualizations can be pinned to dashboards from multiple Azure pages including metrics analytics, log analytics, and Application Insights."
"\insights\ad-assessment.md","2","log analytics","title: Optimize your Active Directory environment with Azure Log Analytics | Microsoft Docs"
"\insights\ad-assessment.md","17","log analytics","# Optimize your Active Directory environment with the Active Directory Health Check solution in Log Analytics"
"\insights\ad-assessment.md","37","log analytics","* The Active Directory Health Check solution requires a supported version of .NET Framework 4.5.2 or above installed on each computer that has the Microsoft Monitoring Agent (MMA) installed.  The MMA agent is used by System Center 2016 - Operations Manager and Operations Manager 2012 R2, and the Log Analytics service."
"\insights\ad-assessment.md","39","log analytics","* A Log Analytics workspace to add the Active Directory Health Check solution from the Azure marketplace in the Azure portal.  There is no further configuration required."
"\insights\ad-assessment.md","42","log analytics","  > After you've added the solution, the AdvisorAssessment.exe file is added to servers with agents. Configuration data is read and then sent to the Log Analytics service in the cloud for processing. Logic is applied to the received data and the cloud service records the data."
"\insights\ad-assessment.md","46","log analytics","To perform the health check against your domain controllers that are members of the domain to be evaluated, they require an agent and connectivity to Log Analytics using one of the following supported methods:"
"\insights\ad-assessment.md","49","log analytics","2. If it is monitored with System Center 2016 - Operations Manager or Operations Manager 2012 R2 and the management group is not integrated with the Log Analytics service, the domain controller can be multi-homed with Log Analytics to collect data and forward to the service and still be monitored by Operations Manager.  "
"\insights\ad-assessment.md","52","log analytics","The agent on your domain controller which reports to an Operations Manager management group, collects data, forwards to its assigned management server, and then is sent directly from a management server to the Log Analytics service.  The data is not written to the Operations Manager databases.  "
"\insights\ad-assessment.md","70","log analytics","Data is collected on the domain controller and forwarded to Log Analytics every seven days.  "
"\insights\ad-assessment.md","104","log analytics","3. Click the **Overview** tile for your Log Analytics workspace in the Azure portal."
"\insights\ad-assessment.md","111","log analytics","If you have recommendations that you want to ignore, you can create a text file that Log Analytics will use to prevent recommendations from appearing in your assessment results."
"\insights\ad-assessment.md","114","log analytics","1. In the Azure portal on the Log Analytics workspace page for your selected workspace, click the **Log Search** tile."
"\insights\ad-assessment.md","126","log analytics","2. Paste or type each RecommendationId for each recommendation that you want Log Analytics to ignore on a separate line and then save and close the file."
"\insights\ad-assessment.md","127","log analytics","3. Put the file in the following folder on each computer where you want Log Analytics to ignore recommendations."
"\insights\ad-assessment.md","181","log analytics","* Use [Log searches in Log Analytics](../../azure-monitor/log-query/log-query-overview.md) to learn how to analyze detailed AD Health Check data and recommendations."
"\insights\ad-replication-status.md","2","log analytics","title: Monitor Active Directory replication status with Azure Log Analytics | Microsoft Docs"
"\insights\ad-replication-status.md","18","log analytics","# Monitor Active Directory replication status with Log Analytics"
"\insights\ad-replication-status.md","29","log analytics","* You must install agents on domain controllers that are members of the domain to be evaluated. Or, you must install agents on member servers and configure the agents to send AD replication data to Log Analytics. To understand how to connect Windows computers to Log Analytics, see [Connect Windows computers to Log Analytics](../../azure-monitor/platform/agent-windows.md). If your domain controller is already part of an existing System Center Operations Manager environment that you want to connect to Log Analytics, see [Connect Operations Manager to Log Analytics](../../azure-monitor/platform/om-agents.md)."
"\insights\ad-replication-status.md","30","log analytics","* Add the Active Directory Replication Status solution to your Log Analytics workspace using the process described in [Add Log Analytics solutions from the Solutions Gallery](../../azure-monitor/insights/solutions.md).  There is no further configuration required."
"\insights\ad-replication-status.md","39","log analytics","## Optionally, enable a non-domain controller to send AD data to Log Analytics"
"\insights\ad-replication-status.md","40","log analytics","If you don't want to connect any of your domain controllers directly to Log Analytics, you can use any other computer in your domain connected to Log Analytics to collect data for the AD Replication Status solution pack and have it send the data."
"\insights\ad-replication-status.md","42","log analytics","### To enable a non-domain controller to send AD data to Log Analytics"
"\insights\ad-replication-status.md","44","log analytics","2. [Connect the Windows computer to Log Analytics](../../azure-monitor/platform/om-agents.md) or [connect it using your existing Operations Manager environment to Log Analytics](../../azure-monitor/platform/om-agents.md), if it is not already connected."
"\insights\ad-replication-status.md","57","log analytics","Once you have AD replication status data sent to Log Analytics, you see a tile similar to the following image in Log Analytics indicating how many replication errors you currently have.  "
"\insights\ad-replication-status.md","121","log analytics","**Q: Do I need to add all of my domain controllers to my Log Analytics workspace in order to see replication status?**"
"\insights\ad-replication-status.md","122","log analytics","A: No, only a single domain controller must be added. If you have multiple domain controllers in your Log Analytics workspace, data from all of them is sent to Log Analytics."
"\insights\ad-replication-status.md","124","log analytics","**Q: I don't want to add any domain controllers to my Log Analytics workspace. Can I still use the AD Replication Status solution?**"
"\insights\ad-replication-status.md","125","log analytics","A: Yes. You can set the value of a registry key to enable it. See [To enable a non-domain controller to send AD data to Log Analytics](#to-enable-a-non-domain-controller-to-send-ad-data-to-oms)."
"\insights\ad-replication-status.md","143","log analytics","In order to collect data, the AD Replication Status solution pack requires at least one domain controller to be connected to your Log Analytics workspace. Until you connect a domain controller, a message appears indicating that **data is still being collected**."
"\insights\ad-replication-status.md","145","log analytics","If you need assistance connecting one of your domain controllers, you can view documentation at [Connect Windows computers to Log Analytics](../../azure-monitor/platform/om-agents.md). Alternatively, if your domain controller is already connected to an existing System Center Operations Manager environment, you can view documentation at [Connect System Center Operations Manager to Log Analytics](../../azure-monitor/platform/om-agents.md)."
"\insights\ad-replication-status.md","147","log analytics","If you don't want to connect any of your domain controllers directly to Log Analytics or to System Center Operations Manager, see [To enable a non-domain controller to send AD data to Log Analytics](#to-enable-a-non-domain-controller-to-send-ad-data-to-oms)."
"\insights\ad-replication-status.md","150","log analytics","* Use [Log searches in Log Analytics](../../azure-monitor/log-query/log-query-overview.md) to view detailed Active Directory Replication status data."
"\insights\azure-key-vault.md","2","log analytics","title: Azure Key Vault solution in Log Analytics | Microsoft Docs"
"\insights\azure-key-vault.md","3","log analytics","description: You can use the Azure Key Vault solution in Log Analytics to review Azure Key Vault logs."
"\insights\azure-key-vault.md","18","log analytics","# Azure Key Vault Analytics solution in Log Analytics"
"\insights\azure-key-vault.md","22","log analytics","You can use the Azure Key Vault solution in Log Analytics to review Azure Key Vault AuditEvent logs."
"\insights\azure-key-vault.md","24","log analytics","To use the solution, you need to enable logging of Azure Key Vault diagnostics and direct the diagnostics to a Log Analytics workspace. It is not necessary to write the logs to Azure Blob storage."
"\insights\azure-key-vault.md","27","log analytics","> In January 2017, the supported way of sending logs from Key Vault to Log Analytics changed. If the Key Vault solution you are using shows *(deprecated)* in the title, refer to [migrating from the old Key Vault solution](#migrating-from-the-old-key-vault-solution) for steps you need to follow."
"\insights\azure-key-vault.md","34","log analytics","1. Enable the Azure Key Vault solution from [Azure marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.KeyVaultAnalyticsOMS?tab=Overview) or by using the process described in [Add Log Analytics solutions from the Solutions Gallery](../../azure-monitor/insights/solutions.md)."
"\insights\azure-key-vault.md","47","log analytics","5. Click the checkbox for *Send to Log Analytics*"
"\insights\azure-key-vault.md","48","log analytics","6. Select an existing Log Analytics workspace, or create a workspace"
"\insights\azure-key-vault.md","50","log analytics","8. Click *Save* to enable the logging of diagnostics to Log Analytics"
"\insights\azure-key-vault.md","75","log analytics","After you [install the solution](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.KeyVaultAnalyticsOMS?tab=Overview), view the Key Vault data by clicking the **Azure Key Vault** tile from the **Overview** page of Log Analytics."
"\insights\azure-key-vault.md","96","log analytics","## Log Analytics records"
"\insights\azure-key-vault.md","123","log analytics","In January 2017, the supported way of sending logs from Key Vault to Log Analytics changed. These changes provide the following advantages:"
"\insights\azure-key-vault.md","124","log analytics","+ Logs are written directly to Log Analytics without the need to use a storage account"
"\insights\azure-key-vault.md","125","log analytics","+ Less latency from the time when logs are generated to them being available in Log Analytics"
"\insights\azure-key-vault.md","131","log analytics","1. [Configure diagnostics to be sent directly to Log Analytics from Key Vault](#enable-key-vault-diagnostics-in-the-portal)  "
"\insights\azure-key-vault.md","132","log analytics","2. Enable the Azure Key Vault solution by using the process described in [Add Log Analytics solutions from the Solutions Gallery](../../azure-monitor/insights/solutions.md)"
"\insights\azure-key-vault.md","141","log analytics","4. Remove the *Key Vault Analytics (Deprecated)* solution. If you are using PowerShell, use `Set-AzureOperationalInsightsIntelligencePack -ResourceGroupName <resource group that the workspace is in> -WorkspaceName <name of the log analytics workspace> -IntelligencePackName ""KeyVault"" -Enabled $false`"
"\insights\azure-key-vault.md","149","log analytics","* Use [Log searches in Log Analytics](../../azure-monitor/log-query/log-query-overview.md) to view detailed Azure Key Vault data."
"\insights\azure-networking-analytics.md","2","log analytics","title: Azure Networking Analytics solution in Log Analytics | Microsoft Docs"
"\insights\azure-networking-analytics.md","3","log analytics","description: You can use the Azure Networking Analytics solution in Log Analytics to review Azure network security group logs and Azure Application Gateway logs."
"\insights\azure-networking-analytics.md","18","log analytics","# Azure networking monitoring solutions in Log Analytics"
"\insights\azure-networking-analytics.md","32","management solution","The [Network Performance Monitor](https://docs.microsoft.com/azure/networking/network-monitoring-overview) management solution is a network monitoring solution, that monitors the health, availability and reachability of networks.  It is used to monitor connectivity between:"
"\insights\azure-networking-analytics.md","42","log analytics","1. Add the management solution to Log Analytics, and"
"\insights\azure-networking-analytics.md","42","management solution","1. Add the management solution to Log Analytics, and"
"\insights\azure-networking-analytics.md","43","log analytics","2. Enable diagnostics to direct the diagnostics to a Log Analytics workspace. It is not necessary to write the logs to Azure Blob storage."
"\insights\azure-networking-analytics.md","50","log analytics","> In January 2017, the supported way of sending logs from Application Gateways and Network Security Groups to Log Analytics changed. If you see the **Azure Networking Analytics (deprecated)** solution, refer to [migrating from the old Networking Analytics solution](#migrating-from-the-old-networking-analytics-solution) for steps you need to follow."
"\insights\azure-networking-analytics.md","55","management solution","The Azure Application Gateway analytics and the Network Security Group analytics management solutions collect diagnostics logs directly from Azure Application Gateways and Network Security Groups. It is not necessary to write the logs to Azure Blob storage and no agent is required for data collection."
"\insights\azure-networking-analytics.md","64","log analytics","## Azure Application Gateway analytics solution in Log Analytics"
"\insights\azure-networking-analytics.md","82","log analytics","1. Enable the Azure Application Gateway analytics solution from [Azure marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.AzureAppGatewayAnalyticsOMS?tab=Overview) or by using the process described in [Add Log Analytics solutions from the Solutions Gallery](../../azure-monitor/insights/solutions.md)."
"\insights\azure-networking-analytics.md","95","log analytics","5. Click the checkbox for *Send to Log Analytics*"
"\insights\azure-networking-analytics.md","96","log analytics","6. Select an existing Log Analytics workspace, or create a workspace"
"\insights\azure-networking-analytics.md","98","log analytics","8. Click *Save* to enable the logging of diagnostics to Log Analytics"
"\insights\azure-networking-analytics.md","135","log analytics","## Azure Network Security Group analytics solution in Log Analytics"
"\insights\azure-networking-analytics.md","153","log analytics","1. Enable the Azure Network Security Group analytics solution from [Azure marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.AzureNSGAnalyticsOMS?tab=Overview) or by using the process described in [Add Log Analytics solutions from the Solutions Gallery](../../azure-monitor/insights/solutions.md)."
"\insights\azure-networking-analytics.md","166","log analytics","5. Click the checkbox for *Send to Log Analytics*"
"\insights\azure-networking-analytics.md","167","log analytics","6. Select an existing Log Analytics workspace, or create a workspace"
"\insights\azure-networking-analytics.md","169","log analytics","8. Click *Save* to enable the logging of diagnostics to Log Analytics"
"\insights\azure-networking-analytics.md","201","log analytics","In January 2017, the supported way of sending logs from Azure Application Gateways and Azure Network Security Groups to Log Analytics changed. These changes provide the following advantages:"
"\insights\azure-networking-analytics.md","202","log analytics","+ Logs are written directly to Log Analytics without the need to use a storage account"
"\insights\azure-networking-analytics.md","203","log analytics","+ Less latency from the time when logs are generated to them being available in Log Analytics"
"\insights\azure-networking-analytics.md","209","log analytics","1. [Configure diagnostics to be sent directly to Log Analytics from Azure Application Gateways](#enable-azure-application-gateway-diagnostics-in-the-portal)"
"\insights\azure-networking-analytics.md","210","log analytics","2. [Configure diagnostics to be sent directly to Log Analytics from Azure Network Security Groups](#enable-azure-network-security-group-diagnostics-in-the-portal)"
"\insights\azure-networking-analytics.md","211","log analytics","2. Enable the *Azure Application Gateway Analytics* and the *Azure Network Security Group Analytics* solution by using the process described in [Add Log Analytics solutions from the Solutions Gallery](../../azure-monitor/insights/solutions.md)"
"\insights\azure-networking-analytics.md","224","log analytics","  + If you are using PowerShell, use `Set-AzureOperationalInsightsIntelligencePack -ResourceGroupName <resource group that the workspace is in> -WorkspaceName <name of the log analytics workspace> -IntelligencePackName ""AzureNetwork"" -Enabled $false`"
"\insights\azure-networking-analytics.md","232","log analytics","* Use [Log searches in Log Analytics](../../azure-monitor/log-query/log-query-overview.md) to view detailed Azure diagnostics data."
"\insights\azure-sql.md","2","log analytics","title: Azure SQL Analytics solution in Log Analytics | Microsoft Docs"
"\insights\azure-sql.md","22","log analytics","By using metrics that you collect with the solution, you can create custom monitoring rules and alerts. The solution helps you to identify issues at each layer of your application stack. It uses Azure Diagnostic metrics along with Log Analytics views to present data about all your Azure SQL databases, elastic pools, and databases in Managed Instances in a single Log Analytics workspace. Log Analytics helps you to collect, correlate, and visualize structured and unstructured data."
"\insights\azure-sql.md","31","log analytics","Azure SQL Analytics is a cloud only monitoring solution supporting streaming of diagnostics telemetry for Azure SQL databases: single, pooled, and Managed Instance databases. As the solution does not use agents to connect to the Log Analytics service, the solution does not support monitoring of SQL Server hosted on-premises or in VMs, see the compatibility table below."
"\insights\azure-sql.md","35","log analytics","| [Azure Diagnostics](../../azure-monitor/platform/collect-azure-metrics-logs.md) | **Yes** | Azure metric and log data are sent to Log Analytics directly by Azure. |"
"\insights\azure-sql.md","36","log analytics","| [Azure storage account](../../azure-monitor/platform/collect-azure-metrics-logs.md) | No | Log Analytics doesn't read the data from a storage account. |"
"\insights\azure-sql.md","39","log analytics","| [System Center Operations Manager management group](../platform/om-agents.md) | No | A direct connection from the Operations Manager agent to Log Analytics is not used by the solution. |"
"\insights\azure-sql.md","75","log analytics","The dashboard includes the overview of all databases that are monitored through different perspectives. For different perspectives to work, you must enable proper metrics or logs on your SQL resources to be streamed to Azure Log Analytics workspace."
"\insights\azure-sql.md","77","log analytics","Note that if some metrics or logs are not streamed into Azure Log Analytics, the tiles in the solution are not populated with monitoring information."
"\insights\azure-sql.md","177","log analytics","Data analysis in Azure SQL Analytics is based on [Log Analytics language](../log-query/get-started-queries.md) for your custom querying and reporting. Find description of the available data collected from database resource for custom querying in [metrics and logs available](../../sql-database/sql-database-metrics-diag-logging.md#metrics-and-logs-available)."
"\insights\azure-sql.md","179","log analytics","Automated alerting in the solution is based on writing a Log Analytics query that triggers an alert upon a condition met. Find below several examples on Log Analytics queries upon which alerting can be set up in the solution."
"\insights\azure-sql.md","291","log analytics","While the solution is free to use, consumption of diagnostics telemetry above the free units of data ingestion allocated each month applies, see [Log Analytics pricing](https://azure.microsoft.com/en-us/pricing/details/monitor). The free units of data ingestion provided enable free monitoring of several databases each month. Note that more active databases with heavier workloads ingest more data versus idle databases. You can easily monitor your data ingestion consumption in the solution by selecting OMS Workspace on the navigation menu of Azure SQL Analytics, and then selecting Usage and Estimated Costs."
"\insights\azure-sql.md","295","log analytics","- Use [Log Searches](../../azure-monitor/log-query/log-query-overview.md) in Log Analytics to view detailed Azure SQL data."
"\insights\capacity-performance.md","2","log analytics","title: Capacity and Performance solution in Azure Log Analytics | Microsoft Docs"
"\insights\capacity-performance.md","3","log analytics","description: Use the Capacity and Performance solution in Log Analytics to help you understand the capacity of your Hyper-V servers."
"\insights\capacity-performance.md","25","log analytics","You can use the Capacity and Performance solution in Log Analytics to help you understand the capacity of your Hyper-V servers. The solution provides insights into your Hyper-V environment by showing you the overall utilization (CPU, memory, and disk) of the hosts and the VMs running on those Hyper-V hosts. Metrics are collected for CPU, memory, and disks across all your hosts and the VMs running on them."
"\insights\capacity-performance.md","48","log analytics","| [SCOM management group](../../azure-monitor/platform/om-agents.md) | Yes |The solution collects capacity and performance data from agents in a connected SCOM management group. A direct connection from the SCOM agent to Log Analytics is not required.|"
"\insights\capacity-performance.md","60","log analytics","- Add the Capacity and Performance solution to your Log Analytics workspace using the process described in [Add Log Analytics solutions from the Solutions Gallery](../../azure-monitor/insights/solutions.md)."
"\insights\capacity-performance.md","64","log analytics","If your SCOM management group is connected to your Log Analytics workspace, then the following management packs will be installed in SCOM when you add this solution. There is no configuration or maintenance of these management packs required."
"\insights\capacity-performance.md","77","log analytics","For more information on how solution management packs are updated, see [Connect Operations Manager to Log Analytics](../../azure-monitor/platform/om-agents.md)."
"\insights\capacity-performance.md","134","log analytics","* Use [Log searches in Log Analytics](../../azure-monitor/log-query/log-query-overview.md) to view detailed Capacity and Performance data."
"\insights\container-insights-agent-upgrade.md","3","log analytics","description: This article describes how you upgrade the Log Analytics agent used by Azure Monitor for containers."
"\insights\container-insights-agent-upgrade.md","19","log analytics","Azure Monitor for containers uses a containerized version of the Log Analytics agent for Linux. When a new version of the agent is released, the agent is automatically upgraded on your managed Kubernetes clusters hosted on Azure Kubernetes Service (AKS).  "
"\insights\container-insights-analyze.md","256","log analytics","![Analyze data in Log Analytics](./media/container-insights-analyze/container-health-log-search-example.png)   "
"\insights\container-insights-analyze.md","258","log analytics","The container logs output that's forwarded to Log Analytics are STDOUT and STDERR. Because Azure Monitor is monitoring Azure-managed Kubernetes (AKS), Kube-system is not collected today because of the large volume of generated data. "
"\insights\container-insights-manage-agent.md","3","log analytics","description: This article describes managing the most common maintenance tasks with the containerized Log Analytics agent used by Azure Monitor for containers."
"\insights\container-insights-manage-agent.md","19","log analytics","Azure Monitor for containers uses a containerized version of the Log Analytics agent for Linux. After initial deployment, there are routine or optional tasks you may need to perform during its lifecycle. This article details on how to manually upgrade the agent and disable collection of environmental variables from a particular container. "
"\insights\container-insights-manage-agent.md","22","log analytics","Azure Monitor for containers uses a containerized version of the Log Analytics agent for Linux. When a new version of the agent is released, the agent is automatically upgraded on your managed Kubernetes clusters hosted on Azure Kubernetes Service (AKS).  "
"\insights\container-insights-onboard.md","29","log analytics","- A Log Analytics workspace. You can create it when you enable monitoring of your new AKS cluster or let the onboarding experience create a default workspace in the default resource group of the AKS cluster subscription. If you chose to create it yourself, you can create it through [Azure Resource Manager](../../azure-monitor/platform/template-workspace-configuration.md), through [PowerShell](https://docs.microsoft.com/azure/log-analytics/scripts/log-analytics-powershell-sample-create-workspace?toc=%2fpowershell%2fmodule%2ftoc.json), or in the [Azure portal](../../azure-monitor/learn/quick-create-workspace.md)."
"\insights\container-insights-onboard.md","30","log analytics","- You are a member of the Log Analytics contributor role to enable container monitoring. For more information about how to control access to a Log Analytics workspace, see [Manage workspaces](../../azure-monitor/platform/manage-access.md)."
"\insights\container-insights-onboard.md","36","log analytics","Your ability to monitor performance relies on a containerized Log Analytics agent for Linux  specifically developed for Azure Monitor for containers. This specialized agent collects performance and event data from all nodes in the cluster, and the agent is automatically deployed and registered with the specified Log Analytics workspace during deployment. The  agent version is microsoft/oms:ciprod04202018 or later, and is represented by a date in the following format: *mmddyyyy*. "
"\insights\container-insights-onboard.md","48","log analytics","During deployment, you can enable monitoring of a new AKS cluster in the Azure portal, with Azure CLI, or with Terraform.  Follow the steps in the quickstart article [Deploy an Azure Kubernetes Service (AKS) cluster](../../aks/kubernetes-walkthrough-portal.md) if you want to enable from the portal. On the **Monitoring** page, for the **Enable Monitoring** option, select **Yes**, and then select an existing Log Analytics workspace or create a new one. "
"\insights\container-insights-onboard.md","58","log analytics","If you are [deploying a new AKS cluster using Terraform](../../terraform/terraform-create-k8s-cluster-with-tf-and-aks.md), you specify the arguments required in the profile [to create a Log Analytics workspace](https://www.terraform.io/docs/providers/azurerm/r/log_analytics_workspace.html) if you do not chose to specify an existing one. "
"\insights\container-insights-onboard.md","123","log analytics","5. On the **Onboarding to Azure Monitor for containers** page, if you have an existing Log Analytics workspace in the same subscription as the cluster, select it from the drop-down list.  "
"\insights\container-insights-onboard.md","129","log analytics","    >If you want to create a new Log Analytics workspace for storing the monitoring data from the cluster, follow the instructions in [Create a Log Analytics workspace](../../azure-monitor/learn/quick-create-workspace.md). Be sure to create the workspace in the same subscription that the AKS container is deployed to. "
"\insights\container-insights-onboard.md","145","log analytics","6. On the **Onboarding to Azure Monitor for containers** page, if you have an existing Log Analytics workspace in the same subscription as the cluster, select it in the drop-down list.  "
"\insights\container-insights-onboard.md","151","log analytics","    >If you want to create a new Log Analytics workspace for storing the monitoring data from the cluster, follow the instructions in [Create a Log Analytics workspace](../../azure-monitor/learn/quick-create-workspace.md). Be sure to create the workspace in the same subscription that the AKS container is deployed to. "
"\insights\container-insights-onboard.md","160","log analytics","* The Log Analytics workspace and region to create the workspace in. "
"\insights\container-insights-onboard.md","166","log analytics","The Log Analytics workspace has to be created manually. To create the workspace, you can set it up through [Azure Resource Manager](../../azure-monitor/platform/template-workspace-configuration.md), through [PowerShell](https://docs.microsoft.com/azure/log-analytics/scripts/log-analytics-powershell-sample-create-workspace?toc=%2fpowershell%2fmodule%2ftoc.json), or in the [Azure portal](../../azure-monitor/learn/quick-create-workspace.md)."
"\insights\container-insights-onboard.md","198","log analytics","         ""description"": ""Azure Monitor Log Analytics Resource ID"""
"\insights\container-insights-onboard.md","204","log analytics","       ""description"": ""Azure Monitor Log Analytics workspace region"""
"\insights\container-insights-onboard.md","289","log analytics","4. Edit the values for **aksResourceId** and **aksResourceLocation** by using the values on the **AKS Overview** page for the AKS cluster. The value for **workspaceResourceId** is the full resource ID of your Log Analytics workspace, which includes the workspace name. Also specify the location of the workspace for **workspaceRegion**. "
"\insights\container-insights-onboard.md","353","log analytics","To verify that the Log Analytics agent version released before *06072018* is deployed properly, run the following command:  "
"\insights\container-insights-onboard.md","368","log analytics","Use the `aks show` command to get details such as is the solution enabled or not, what is the Log Analytics workspace resourceID, and summary details about the cluster.  "
"\insights\container-insights-optout.md","24","log analytics","Use the [az aks disable-addons](https://docs.microsoft.com/cli/azure/aks?view=azure-cli-latest#az-aks-disable-addons) command to disable Azure Monitor for containers. The command removes the agent from the cluster nodes, it does not remove the solution or the data already collected and stored in your Log Analytics resource.  "
"\insights\container-insights-optout.md","110","log analytics","    While you are on the **Properties** page, also copy the **Workspace Resource ID**. This value is required if you decide you want to delete the Log Analytics workspace later. Deleting the Log Analytics workspace is not performed as part of this process. "
"\insights\container-insights-optout.md","146","log analytics","If the workspace was created only to support monitoring the cluster and it's no longer needed, you have to manually delete it. If you are not familiar with how to delete a workspace, see [Delete an Azure Log Analytics workspace with the Azure portal](../../azure-monitor/platform/delete-workspace.md). Don't forget about the **Workspace Resource ID** we copied earlier in step 4, you're going to need that. "
"\insights\container-insights-overview.md","22","log analytics","Azure Monitor for containers gives you performance visibility by collecting memory and processor metrics from controllers, nodes, and containers that are available in Kubernetes through the Metrics API. Container logs are also collected.  After you enable monitoring from Kubernetes clusters, these metrics and logs are automatically collected for you through a containerized version of the Log Analytics agent for Linux and stored in your [Log Analytics](../../azure-monitor/log-query/log-query-overview.md) workspace. "
"\insights\container-insights-troubleshoot.md","23","log analytics","If Azure Monitor for containers is successfully enabled and configured, but you cannot view status information or no results are returned from a Log Analytics log query, you diagnose the problem by following these steps: "
"\insights\container-insights-troubleshoot.md","96","log analytics","| Error Message `Error retrieving data` | While Azure Kubenetes Service cluster is setting up for health and performance monitoring, a connection is established between the cluster and Azure Log Analytics workspace. A Log Analytics workspace is used to store all monitoring data for your cluster. This error may occur when your Log Analytics workspace has been deleted or lost. Check whether your workspace is available by reviewing [manage access](../../azure-monitor/platform/manage-access.md?toc=/azure/azure-monitor/toc.json#workspace-information). If the workspace is missing, you will need to re-onboard your cluster with Azure Monitor for containers. To re-onboard, you will need to [disable](container-insights-optout.md) monitoring for the cluster and [enable](container-insights-onboard.md?toc=%2fazure%2fmonitoring%2ftoc.json#enable-monitoring-for-a-new-cluster) Azure Monitor for containers again. |  "
"\insights\container-insights-troubleshoot.md","97","log analytics","| `Error retrieving data` after adding Azure Monitor for containers through az aks cli | When onboarding using `az aks cli`, very seldom, Azure Monitor for containers may not be properly onboarded. Check whether the solution is onboarded. To do this, go to your Log Analytics workspace and see if the solution is available by selecting **Solutions** from the pane on the left-hand side. To resolve this issue, you will need to redeploy the solution by following the instructions on [how to deploy Azure Monitor for containers](container-insights-onboard.md?toc=%2fazure%2fmonitoring%2ftoc.json) |  "
"\insights\container-overview.md","21","log analytics","Using [Azure Monitor for containers](container-insights-overview.md), you can view the performance and health of your Linux container infrastructure at a glance and investigate issues quickly. The telemetry is stored in a Log Analytics workspace and integrated in the Azure portal, where you can explore, filter, and segment aggregated data with dashboards to keep an eye on load, performance, and health.  "
"\insights\container-overview.md","23","log analytics","For containers running outside of the hosted Azure Kubernetes service, the Log Analytics [Windows and Docker Container solution](../../azure-monitor/insights/containers.md) helps you view and manage your Windows and Docker container hosts. From your Log Analytics workspace, you can view inventory details, performance, and events from nodes and containers in the environment. You can view detailed audit information showing commands used with containers, and you can troubleshoot containers by viewing and searching centralized logs without having to remotely access Docker or Windows hosts."
"\insights\container-overview.md","25","log analytics","To achieve holistic or end-to-end monitoring of the application, any dependency whether it is an Azure or on-premises resource, should be monitored with Azure Monitor or Log Analytics.  The application layer should be included in order to add an additional layer of health awareness, both at the platform and application level using Application Insights. At the platform level, there are Application Insights SDKs for [Kubernetes]( https://github.com/Microsoft/ApplicationInsights-Kubernetes), [Docker](https://hub.docker.com/r/microsoft/applicationinsights/), and [Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-diagnostics-event-analysis-appinsights). For microservice applications, there is support for [Java](../../application-insights/app-insights-java-get-started.md), [Node.js](../../application-insights/app-insights-nodejs-quick-start.md), [.Net](../../application-insights/app-insights-asp-net.md), [.Net  Core](../../application-insights/app-insights-asp-net-core.md), as well as a number of other [languages/frameworks](../../application-insights/app-insights-platforms.md). "
"\insights\containers.md","2","log analytics","title: Container Monitoring solution in Azure Log Analytics | Microsoft Docs"
"\insights\containers.md","3","log analytics","description: The Container Monitoring solution in Log Analytics helps you view and manage your Docker and Windows container hosts in a single location."
"\insights\containers.md","18","log analytics","# Container Monitoring solution in Log Analytics"
"\insights\containers.md","22","log analytics","This article describes how to set up and use the Container Monitoring solution in Log Analytics, which helps you view and manage your Docker and Windows container hosts in a single location. Docker is a software virtualization system used to create containers that automate software deployment to their IT infrastructure."
"\insights\containers.md","34","log analytics","The following diagram shows the relationships between various container hosts and agents with Log Analytics."
"\insights\containers.md","43","log analytics","The following table outlines the Docker orchestration and operating system monitoring support of container inventory, performance, and logs with Log Analytics.   "
"\insights\containers.md","75","log analytics","    - Kubernetes events, Kubernetes inventory, and container processes are only supported with version 1.4.1-45 and later of the Log Analytics agent for Linux"
"\insights\containers.md","93","log analytics","1. Add the Container Monitoring solution to your Log Analytics workspace from [Azure marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.ContainersOMS?tab=Overview) or by using the process described in [Add Log Analytics solutions from the Solutions Gallery](../../azure-monitor/insights/solutions.md)."
"\insights\containers.md","95","log analytics","2. Install and use Docker with a Log Analytics agent. Based on your operating system and Docker orchestrator, you can use the following methods to configure your agent."
"\insights\containers.md","97","log analytics","    - On supported Linux operating systems, install and run Docker and then install and configure the [Log Analytics agent for Linux](../../azure-monitor/learn/quick-collect-linux-computer.md).  "
"\insights\containers.md","98","log analytics","    - On CoreOS, you cannot run the Log Analytics agent for Linux. Instead, you run a containerized version of the Log Analytics agent for Linux. Review [Linux container hosts including CoreOS](#for-all-linux-container-hosts-including-coreos) or [Azure Government Linux container hosts including CoreOS](#for-all-azure-government-linux-container-hosts-including-coreos) if you are working with containers in Azure Government Cloud."
"\insights\containers.md","99","log analytics","    - On Windows Server 2016 and Windows 10, install the Docker Engine and client then connect an agent to gather information and send it to Log Analytics. Review [Install and configure Windows container hosts](#install-and-configure-windows-container-hosts) if you have a Windows environment."
"\insights\containers.md","101","log analytics","    - If you have a Red Hat OpenShift environment, review [Configure a Log Analytics agent for Red Hat OpenShift](#configure-an-oms-agent-for-red-hat-openshift)."
"\insights\containers.md","103","log analytics","       - Review [Configure a Log Analytics Linux agent for Kubernetes](#configure-an-oms-linux-agent-for-kubernetes)."
"\insights\containers.md","104","log analytics","       - Review [Configure an Log Analytics Windows agent for Kubernetes](#configure-an-oms-windows-agent-for-kubernetes)."
"\insights\containers.md","105","log analytics","       - Review [Use Helm to deploy Log Analytics agent on Linux Kubernetes](#use-helm-to-deploy-oms-agent-on-linux-kubernetes)."
"\insights\containers.md","106","log analytics","    - If you have an Azure Container Service DC/OS cluster, learn more at [Monitor an Azure Container Service DC/OS cluster with Log Analytics](../../container-service/dcos-swarm/container-service-monitoring-oms.md)."
"\insights\containers.md","107","log analytics","    - If you have a Docker Swarm mode environment, learn more at [Configure an Log Analytics agent for Docker Swarm](#configure-an-oms-agent-for-docker-swarm)."
"\insights\containers.md","108","log analytics","    - If you have a Service Fabric cluster, learn more at [Monitor containers with Log Analytics Log Analytics](../../service-fabric/service-fabric-diagnostics-oms-containers.md)."
"\insights\containers.md","113","log analytics","> Docker must be running **before** you install the [Log Analytics agent for Linux](../../azure-monitor/learn/quick-collect-linux-computer.md) on your container hosts. If you've already installed the agent before installing Docker, you need to reinstall the Log Analytics agent for Linux. For more information about Docker, see the [Docker website](https://www.docker.com)."
"\insights\containers.md","118","log analytics","After you've installed Docker, use the following settings for your container host to configure the agent for use with Docker. First you need your Log Analytics workspace ID and key, which you can find in the Azure portal. In your workspace, click **Quick Start** > **Computers** to view your **Workspace ID** and **Primary Key**.  Copy and paste both into your favorite editor."
"\insights\containers.md","122","log analytics","- For more information and steps on how to install the Log Analytics agent for Linux, see [Log Analytics agent overview](../../azure-monitor/platform/log-analytics-agent.md)."
"\insights\containers.md","142","log analytics","If you previously used the directly-installed agent and want to instead use an agent running in a container, you must first remove the Log Analytics agent for Linux. See [Uninstalling the Log Analytics agent for Linux](../../azure-monitor/learn/quick-collect-linux-computer.md) to understand how to successfully uninstall the agent.  "
"\insights\containers.md","144","log analytics","#### Configure a Log Analytics agent for Docker Swarm"
"\insights\containers.md","146","log analytics","You can run the Log Analytics agent as a global service on Docker Swarm. Use the following information to create a Log Analytics agent service. You need to provide your Log Analytics Workspace ID and Primary Key."
"\insights\containers.md","177","log analytics","3. Run the following command to mount the secrets to the containerized Log Analytics agent."
"\insights\containers.md","183","log analytics","#### Configure a Log Analytics agent for Red Hat OpenShift"
"\insights\containers.md","184","log analytics","There are three ways to add the Log Analytics agent to Red Hat OpenShift to start collecting container monitoring data."
"\insights\containers.md","186","log analytics","* [Install the Log Analytics agent for Linux](../../azure-monitor/learn/quick-collect-linux-computer.md) directly on each OpenShift node  "
"\insights\containers.md","187","log analytics","* [Enable Log Analytics VM Extension](../../azure-monitor/learn/quick-collect-azurevm.md) on each OpenShift node residing in Azure  "
"\insights\containers.md","188","log analytics","* Install the Log Analytics agent as a OpenShift daemon-set  "
"\insights\containers.md","190","log analytics","In this section we cover the steps required to install the Log Analytics agent as an OpenShift daemon-set.  "
"\insights\containers.md","192","log analytics","1. Sign on to the OpenShift master node and copy the yaml file [ocp-omsagent.yaml](https://github.com/Microsoft/OMS-docker/blob/master/OpenShift/ocp-omsagent.yaml) from GitHub to your master node and modify the value with your Log Analytics Workspace ID and with your Primary Key."
"\insights\containers.md","193","log analytics","2. Run the following commands to create a project for Log Analytics and set the user account."
"\insights\containers.md","229","log analytics","If you want to use secrets to secure your Log Analytics Workspace ID and Primary Key when using the Log Analytics agent daemon-set yaml file, perform the following steps."
"\insights\containers.md","231","log analytics","1. Sign on to the OpenShift master node and copy the yaml file [ocp-ds-omsagent.yaml](https://github.com/Microsoft/OMS-docker/blob/master/OpenShift/ocp-ds-omsagent.yaml) and secret generating script [ocp-secretgen.sh](https://github.com/Microsoft/OMS-docker/blob/master/OpenShift/ocp-secretgen.sh) from GitHub.  This script will generate the secrets yaml file for Log Analytics Workspace ID and Primary Key to secure your secrete information.  "
"\insights\containers.md","232","log analytics","2. Run the following commands to create a project for Log Analytics and set the user account. The secret generating script asks for your Log Analytics Workspace ID <WSID> and Primary Key <KEY> and upon completion, it creates the ocp-secret.yaml file.  "
"\insights\containers.md","268","log analytics","6. Deploy the Log Analytics agent daemon-set yaml file by running the following:"
"\insights\containers.md","293","log analytics","#### Configure a Log Analytics Linux agent for Kubernetes"
"\insights\containers.md","295","log analytics","For Kubernetes, you use a script to generate the secrets yaml file for your Workspace ID and Primary Key to install the Log Analytics agent for Linux. At the [Log Analytics Docker Kubernetes GitHub](https://github.com/Microsoft/OMS-docker/tree/master/Kubernetes) page, there are files that you can use with or without your secret information."
"\insights\containers.md","297","log analytics","- The Default Log Analytics agent for Linux DaemonSet does not have secret information (omsagent.yaml)"
"\insights\containers.md","298","log analytics","- The Log Analytics agent for Linux DaemonSet yaml file uses secret information (omsagent-ds-secrets.yaml) with secret generation scripts to generate the secrets yaml (omsagentsecret.yaml) file."
"\insights\containers.md","304","log analytics","- For the default Log Analytics agent DaemonSet yaml file, replace the `<WSID>` and `<KEY>` to your WSID and KEY. Copy the file to your master node and run the following:"
"\insights\containers.md","312","log analytics","1. To use Log Analytics agent DaemonSet using secret information, create the secrets first."
"\insights\containers.md","316","log analytics","    2. Run the script, like the following example. The script asks for the Log Analytics Workspace ID and Primary Key and after you enter them, the script creates a secret yaml file so you can run it.   "
"\insights\containers.md","363","log analytics","2. Verify that the Log Analytics agent DaemonSet is running, similar to the following:"
"\insights\containers.md","375","log analytics","For Kubernetes, use a script to generate the secrets yaml file for Workspace ID and Primary Key for the Log Analytics agent for Linux. Use the following example information with the [omsagent yaml file](https://github.com/Microsoft/OMS-docker/blob/master/Kubernetes/omsagent.yaml) to secure your secret information."
"\insights\containers.md","392","log analytics","#### Configure a Log Analytics Windows agent for Kubernetes"
"\insights\containers.md","393","log analytics","For Windows Kubernetes, you use a script to generate the secrets yaml file for your Workspace ID and Primary Key to install the Log Analytics agent. At the [Log Analytics Docker Kubernetes GitHub](https://github.com/Microsoft/OMS-docker/tree/master/Kubernetes/windows) page, there are files that you can use with your secret information.  You need to install the Log Analytics agent separately for the master and agent nodes.  "
"\insights\containers.md","395","log analytics","1. To use Log Analytics agent DaemonSet using secret information on the Master node, sign in and create the secrets first."
"\insights\containers.md","400","log analytics","    2. Run the script, like the following example. The script asks for the Log Analytics Workspace ID and Primary Key and after you enter them, the script creates a secret yaml file so you can run it.   "
"\insights\containers.md","434","log analytics","2. Verify that the Log Analytics agent DaemonSet is running, similar to the following:"
"\insights\containers.md","444","log analytics","#### Use Helm to deploy Log Analytics agent on Linux Kubernetes"
"\insights\containers.md","445","log analytics","To use helm to deploy Log Analytics agent on your Linux Kubernetes environment, perform the following steps."
"\insights\containers.md","490","log analytics","Before you install agents on computers running Windows, you need to configure the Docker service. The configuration allows the Windows agent or the Log Analytics virtual machine extension to use the Docker TCP socket so that the agents can access the Docker daemon remotely and to capture data for monitoring."
"\insights\containers.md","520","log analytics","To enable Windows and Hyper-V container monitoring, install the Microsoft Monitoring Agent (MMA) on Windows computers that are container hosts. For computers running Windows in your on-premises environment, see [Connect Windows computers to Log Analytics](../../azure-monitor/platform/agent-windows.md). For virtual machines running in Azure, connect them to Log Analytics using the [virtual machine extension](../../azure-monitor/learn/quick-collect-azurevm.md)."
"\insights\containers.md","538","log analytics","- [Log Analytics agent for Linux](../../azure-monitor/learn/quick-collect-linux-computer.md)"
"\insights\containers.md","540","log analytics","- [Log Analytics VM extension](../../azure-monitor/learn/quick-collect-azurevm.md)"
"\insights\containers.md","563","log analytics","After you have the solution enabled in the Log Analytics portal, the **Containers** tile shows summary information about your container hosts and the containers running in hosts."
"\insights\containers.md","600","log analytics","From here, you can edit the search query to modify it to find the specific information you're interested in. For more information about Log Searches, see [Log searches in Log Analytics](../../azure-monitor/log-query/log-query-overview.md)."
"\insights\containers.md","663","log analytics","Saving queries is a standard feature in Log Analytics. By saving them, you'll have those that you've found useful handy for future use."
"\insights\dns-analytics.md","2","log analytics","title: DNS Analytics solution in Azure Log Analytics | Microsoft Docs"
"\insights\dns-analytics.md","3","log analytics","description: Set up and use the DNS Analytics solution in Log Analytics to gather insights into DNS infrastructure on security, performance, and operations."
"\insights\dns-analytics.md","22","log analytics","This article describes how to set up and use the Azure DNS Analytics solution in Azure Log Analytics to gather insights into DNS infrastructure on security, performance, and operations."
"\insights\dns-analytics.md","42","log analytics","| [System Center Operations Manager management group](../../azure-monitor/platform/om-agents.md) | Yes | The solution collects DNS information from agents in a connected Operations Manager management group. A direct connection from the Operations Manager agent to Log Analytics is not required. Data is forwarded from the management group to the Log Analytics workspace. |"
"\insights\dns-analytics.md","47","log analytics","The solution collects DNS inventory and DNS event-related data from the DNS servers where a Log Analytics agent is installed. This data is then uploaded to Log Analytics and displayed in the solution dashboard. Inventory-related data, such as the number of DNS servers, zones, and resource records, is collected by running the DNS PowerShell cmdlets. The data is updated once every two days. The event-related data is collected near real time from the [analytic and audit logs](https://technet.microsoft.com/library/dn800669.aspx#enhanc) provided by enhanced DNS logging and diagnostics in Windows Server 2012 R2."
"\insights\dns-analytics.md","54","log analytics","- You can add the DNS Analytics solution to your Log Analytics workspace from the [Azure Marketplace](https://aka.ms/dnsanalyticsazuremarketplace). You can also use the process described in [Add Log Analytics solutions from the Solutions Gallery](../../azure-monitor/insights/solutions.md)."
"\insights\dns-analytics.md","62","log analytics","- **Whitelisted Domain Names**. The solution does not process all the lookup queries. It maintains a whitelist of domain name suffixes. The lookup queries that resolve to the domain names that match domain name suffixes in this whitelist are not processed by the solution. Not processing whitelisted domain names helps to optimize the data sent to Log Analytics. The default whitelist includes popular public domain names, such as www.google.com and www.facebook.com. You can view the complete default list by scrolling."
"\insights\dns-analytics.md","72","log analytics","If you are using the Microsoft Monitoring Agent to connect to your Log Analytics workspace, the following management pack is installed:"
"\insights\dns-analytics.md","76","log analytics","If your Operations Manager management group is connected to your Log Analytics workspace, the following management packs are installed in Operations Manager when you add this solution. There is no required configuration or maintenance of these management packs:"
"\insights\dns-analytics.md","81","log analytics","For more information on how solution management packs are updated, see [Connect Operations Manager to Log Analytics](../../azure-monitor/platform/om-agents.md)."
"\insights\dns-analytics.md","87","log analytics","After you've added the solution to your workspace, Log Analytics Overview page in Azure portal includes a **View Solutions** link to a quick summary of your DNS infrastructure. It includes the number of DNS servers where the data is being collected. It also includes the number of requests made by clients to resolve malicious domains in the past 24 hours. When you click the tile, the solution dashboard opens."
"\insights\dns-analytics.md","181","log analytics","- **UserVoice**. Post ideas for DNS Analytics features to work on. Visit the [Log Analytics UserVoice page](https://aka.ms/dnsanalyticsuservoice)."
"\insights\network-performance-monitor-expressroute.md","2","log analytics","title: Network Performance Monitor solution in Azure Log Analytics | Microsoft Docs"
"\insights\network-performance-monitor-expressroute.md","32","log analytics","For the servers in Azure that are used for monitoring via Network Performance Monitor, configure network security group (NSG) rules to allow TCP traffic on the port used by Network Performance Monitor for synthetic transactions. The default port is 8084. This configuration allows the Log Analytics agent installed on Azure VMs to communicate with an on-premises monitoring agent. "
"\insights\network-performance-monitor-expressroute.md","43","log analytics","2. Select **Discover Now** to discover all the ExpressRoute private peerings that are connected to the virtual networks in the Azure subscription linked with this Azure Log Analytics workspace."
"\insights\network-performance-monitor-expressroute.md","49","log analytics","    > Only private peerings connected to the virtual networks associated with the subscription linked with this Log Analytics workspace are discovered. If ExpressRoute is connected to virtual networks outside of the subscription linked to this workspace, create a Log Analytics workspace in those subscriptions. Then use Network Performance Monitor to monitor those peerings. "
"\insights\network-performance-monitor-faq.md","128","log analytics","NPM can monitor your ExpressRoute circuits located in any Azure region. To onboard to NPM, you will require a Log Analytics workspace that must be hosted in one of the [supported regions](/azure/expressroute/how-to-npm#regions)"
"\insights\network-performance-monitor-performance-monitor.md","2","log analytics","title: Performance Monitor feature in Network Performance Monitor solution in Azure Log Analytics | Microsoft Docs"
"\insights\network-performance-monitor-performance-monitor.md","70","management solution","After you save a monitoring rule, you can integrate that rule with Alert Management by selecting **Create Alert**. An alert rule is automatically created with the search query. Other required parameters are automatically filled in. Using an alert rule, you can receive e-mail-based alerts, in addition to the existing alerts within Network Performance Monitor. Alerts also can trigger remedial actions with runbooks, or they can integrate with existing service management solutions by using webhooks. Select **Manage Alert** to edit the alert settings. "
"\insights\network-performance-monitor-pricing-faq.md","37","log analytics","* **Data**: The results of the various network tests are stored in the Azure Log Analytics repository."
"\insights\network-performance-monitor-pricing-faq.md","62","log analytics","The charge for ingestion (data upload to Log Analytics, processing, and indexing) is available on the [pricing page](https://azure.microsoft.com/pricing/details/log-analytics/) for Log Analytics, in the Data Ingestion section. The charge for data retention (that is, data retained at customer's option, beyond the first month) is also available on the [pricing page](https://azure.microsoft.com/pricing/details/log-analytics/), in the Data Retention section."
"\insights\network-performance-monitor-pricing-faq.md","114","log analytics","Refer to the [Connection Monitoring](https://azure.microsoft.com/pricing/details/network-watcher/) section for the cost of monitoring an endpoint for the entire month. The charge for data is available on the [pricing page](https://azure.microsoft.com/pricing/details/log-analytics/) for Log Analytics, in the Data Ingestion section."
"\insights\network-performance-monitor-pricing-faq.md","118","log analytics","[Log Analytics Pricing FAQ](https://azure.microsoft.com/pricing/details/log-analytics/): The FAQ section has information on free tier, per node pricing and other pricing details."
"\insights\network-performance-monitor-service-endpoint.md","2","log analytics","title: Network Performance Monitor solution in Azure Log Analytics | Microsoft Docs"
"\insights\network-performance-monitor-service-endpoint.md","40","log analytics","### Configure Log Analytics agents for monitoring"
"\insights\network-performance-monitor.md","57","log analytics","Use the basic processes to install agents at [Connect Windows computers to Azure Log Analytics](../../azure-monitor/platform/om-agents.md) and [Connect Operations Manager to Log Analytics](../../azure-monitor/platform/om-agents.md)."
"\insights\network-performance-monitor.md","61","log analytics","* **Performance Monitor**: Install Log Analytics agents on at least one node connected to each subnetwork from which you want to monitor network connectivity to other subnetworks."
"\insights\network-performance-monitor.md","65","log analytics","* **Service Connectivity Monitor**: Install an Log Analytics agent on each node from which you want to monitor the network connectivity to the service endpoint. An example is if you want to monitor network connectivity to Office 365 from your office sites labeled O1, O2, and O3. Install the Log Analytics agent on at least one node each in O1, O2, and O3. "
"\insights\network-performance-monitor.md","67","log analytics","* **ExpressRoute Monitor**: Install at least one Log Analytics agent in your Azure virtual network. Also install at least one agent in your on-premises subnetwork, which is connected through ExpressRoute private peering.??? "
"\insights\network-performance-monitor.md","69","log analytics","### Configure Log Analytics agents for monitoring "
"\insights\network-performance-monitor.md","71","log analytics","Network Performance Monitor uses synthetic transactions to monitor network performance between source and destination agents. You can choose between TCP and ICMP as the protocol for monitoring in Performance Monitor and Service Connectivity Monitor capabilities. Only TCP is available as the monitoring protocol for ExpressRoute Monitor. Make sure that the firewall allows communication between the Log Analytics agents used for monitoring on the protocol you choose. "
"\insights\network-performance-monitor.md","99","log analytics","1. Add the Network Performance Monitor solution to your workspace from the [Azure marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.NetworkMonitoringOMS?tab=Overview). You also can use the process described in [Add Log Analytics solutions from the Solutions Gallery](../../azure-monitor/insights/solutions.md). "
"\insights\network-performance-monitor.md","100","log analytics","2. Open your Log Analytics workspace, and select the **Overview** tile. "
"\insights\network-performance-monitor.md","105","log analytics","4. On the **Setup** page, you see the option to install Log Analytics agents and configure the agents for monitoring in the **Common Settings** view. As previously explained, if you installed and configured Log Analytics agents, select the **Setup** view to configure the capability you want to use. "
"\insights\network-performance-monitor.md","115","log analytics","   **ExpressRoute Monitor**: Select **Discover Now** to discover all the ExpressRoute private peerings that are connected to the virtual networks in the Azure subscription linked with this Log Analytics workspace. "
"\insights\network-performance-monitor.md","121","log analytics","   > Only private peerings that are connected to the virtual networks associated with the subscription linked with this Log Analytics workspace are discovered. If ExpressRoute is connected to virtual networks outside of the subscription linked to this workspace, create a Log Analytics workspace in those subscriptions. Use Network Performance Monitor to monitor those peerings."
"\insights\network-performance-monitor.md","131","log analytics","After the setup is finished, it takes 30 minutes to an hour for the data to populate. While the solution aggregates data from your network, you see the message *Solution requires additional configuration* on the Network Performance Monitor **Overview** tile. After the data is collected and indexed, the **Overview** tile changes and informs you of your network health in a summary. You then can edit the monitoring of the nodes on which Log Analytics agents are installed, as well as the subnets discovered from your environment."
"\insights\network-performance-monitor.md","172","log analytics","The solution uses synthetic transactions to assess the health of the network. Log Analytics agents installed at various points in the network exchange TCP packets or ICMP Echo with one another. Whether the agents use TCP packets or ICMP Echo depends on the protocol you selected for monitoring. In the process, agents learn the round-trip time and packet loss, if any. Periodically, each agent also performs a trace route to other agents to find all the various routes in the network that must be tested. Using this data, the agents can deduce the network latency and packet loss figures. The tests are repeated every five seconds. Data is aggregated for about three minutes by the agents before it's uploaded to the Log Analytics service."
"\insights\network-performance-monitor.md","245","log analytics","## Log Analytics search "
"\insights\network-performance-monitor.md","247","log analytics","All data that is exposed graphically through the Network Performance Monitor dashboard and drill-down pages is also available natively in [Log Analytics search](../../azure-monitor/log-query/log-query-overview.md). You can perform interactive analysis of data in the repository and correlate data from different sources. You also can create custom alerts and views and export the data to Excel, Power BI, or a shareable link. The???**Common Queries**???area in the dashboard has some useful queries that you can use as the starting point to create your own queries and reports. "
"\insights\network-performance-monitor.md","255","log analytics","If you are an NPM user creating an alert via Log Analytics: "
"\insights\scom-assessment.md","2","log analytics","title: Optimize your System Center Operations Manager environment with Azure Log Analytics | Microsoft Docs"
"\insights\scom-assessment.md","42","log analytics"," - Before you can use the Health Check solution in Log Analytics, you must have the solution installed. Install the solution from [Azure marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.SCOMAssessmentOMS?tab=Overview)."
"\insights\scom-assessment.md","49","log analytics","> Configuration of System Center Operations Manager can be done using a script by following the steps mentioned in the configuration page of the solution in Log Analytics."
"\insights\scom-assessment.md","65","log analytics","Data is collected on the management server and forwarded to Log Analytics every seven days.  "
"\insights\scom-assessment.md","67","log analytics","## Operations Manager run-as accounts for Log Analytics"
"\insights\scom-assessment.md","208","log analytics","Before you can use a health check solution in Log Analytics, you must have the solution installed. To read more about installing solutions, see [Install a management solution](../../azure-monitor/insights/solutions.md). After it is installed, you can view the summary of recommendations by using the System Center Operations Manager Health Check tile on the **Overview** page for your workspace in the Azure portal."
"\insights\scom-assessment.md","208","management solution","Before you can use a health check solution in Log Analytics, you must have the solution installed. To read more about installing solutions, see [Install a management solution](../../azure-monitor/insights/solutions.md). After it is installed, you can view the summary of recommendations by using the System Center Operations Manager Health Check tile on the **Overview** page for your workspace in the Azure portal."
"\insights\scom-assessment.md","214","log analytics","2. In the Azure portal, click **More services** found on the lower left-hand corner. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**."
"\insights\scom-assessment.md","215","log analytics","3. In the Log Analytics subscriptions pane, select a workspace and then click the **Workspace summary** menu item.  "
"\insights\scom-assessment.md","223","log analytics","If you have recommendations that you want to ignore, you can create a text file that Log Analytics uses to prevent recommendations from appearing in your assessment results."
"\insights\scom-assessment.md","226","log analytics","1. In the Azure portal on the Log Analytics workspace page for your selected workspace, click the **Log Search** menu item."
"\insights\scom-assessment.md","234","log analytics","    > If your workspace has been upgraded to the [new Log Analytics query language](../../azure-monitor/log-query/log-query-overview.md), then the above query would change to the following."
"\insights\scom-assessment.md","234","log analytics query language","    > If your workspace has been upgraded to the [new Log Analytics query language](../../azure-monitor/log-query/log-query-overview.md), then the above query would change to the following."
"\insights\scom-assessment.md","245","log analytics","2. Paste or type each RecommendationId for each recommendation that you want Log Analytics to ignore on a separate line and then save and close the file."
"\insights\scom-assessment.md","246","log analytics","3. Put the file in the following folder on each computer where you want Log Analytics to ignore recommendations."
"\insights\scom-assessment.md","259","log analytics","    > If your workspace has been upgraded to the [new Log Analytics query language](../../azure-monitor/log-query/log-query-overview.md), then the above query would change to the following."
"\insights\scom-assessment.md","259","log analytics query language","    > If your workspace has been upgraded to the [new Log Analytics query language](../../azure-monitor/log-query/log-query-overview.md), then the above query would change to the following."
"\insights\scom-assessment.md","267","log analytics","*I added the Health Check solution to my Log Analytics workspace. But I don???t see the recommendations. Why not?* After adding the solution, use the following steps view the recommendations on the Log Analytics dashboard.  "
"\insights\service-map-configure.md","125","log analytics","Service Map gets its data from the Microsoft Dependency agent. The Dependency agent relies on the Log Analytics agent for its connections to Log Analytics. This means that a server must have the Log Analytics agent installed and configured with the Dependency agent.  The following table describes the connected sources that the Service Map solution supports."
"\insights\service-map-configure.md","129","log analytics","| Windows agents | Yes | Service Map analyzes and collects data from Windows computers. <br><br>In addition to the [Log Analytics agent for Windows](../../azure-monitor/platform/log-analytics-agent.md), Windows agents require the Microsoft Dependency agent. See the [supported operating systems](#supported-operating-systems) for a complete list of operating system versions. |"
"\insights\service-map-configure.md","130","log analytics","| Linux agents | Yes | Service Map analyzes and collects data from Linux computers. <br><br>In addition to the [Log Analytics agent for Linux](../../azure-monitor/platform/log-analytics-agent.md), Linux agents require the Microsoft Dependency agent. See the [supported operating systems](#supported-operating-systems) for a complete list of operating system versions. |"
"\insights\service-map-configure.md","131","log analytics","| System Center Operations Manager management group | Yes | Service Map analyzes and collects data from Windows and Linux agents in a connected [System Center Operations Manager management group](../../azure-monitor/platform/om-agents.md). <br><br>A direct connection from the System Center Operations Manager agent computer to Log Analytics is required. |"
"\insights\service-map-configure.md","134","log analytics","On Windows, the Microsoft Monitoring Agent (MMA) is used by both System Center Operations Manager and Log Analytics to gather and send monitoring data. (This agent is called the System Center Operations Manager agent, Log Analytics agent, MMA, or Direct Agent, depending on the context.) System Center Operations Manager and Log Analytics provide different out-of-the box versions of the MMA. These versions can each report to System Center Operations Manager, to Log Analytics, or to both.  "
"\insights\service-map-configure.md","136","log analytics","On Linux, the Log Analytics agent for Linux gathers and sends monitoring data to Log Analytics. You can use Service Map on servers with Log Analytics agents connected directly to the service, or that are reporting to an Operations Manager management group integrated with Log Analytics.  "
"\insights\service-map-configure.md","138","log analytics","In this article, we'll refer to all agents, whether Linux or Windows connected to a System Center Operations Manager management group or directly to Log Analytics, as the *Log Analytics agent*. "
"\insights\service-map-configure.md","140","log analytics","The Service Map agent does not transmit any data itself, and it does not require any changes to firewalls or ports. The data in Service Map is always transmitted by the Log Analytics agent to the Log Analytics service, either directly or through the Log Analytics gateway."
"\insights\service-map-configure.md","144","log analytics","If you are a System Center Operations Manager customer with a management group connected to Log Analytics:"
"\insights\service-map-configure.md","146","log analytics","- If your System Center Operations Manager agents can access the Internet to connect to Log Analytics, no additional configuration is required.  "
"\insights\service-map-configure.md","147","log analytics","- If your System Center Operations Manager agents cannot access Log Analytics over the Internet, you need to configure the Log Analytics gateway to work with System Center Operations Manager."
"\insights\service-map-configure.md","149","log analytics","If your Windows or Linux computers cannot directly connect to the service, you need to configure the Log Analytics agent to connect to the Log Analytics workspace using the gateway. For further information on how to deploy and configure the Log Analytics gateway, see [Connect computers without Internet access using the Log Analytics gateway](../../azure-monitor/platform/gateway.md).  "
"\insights\service-map-configure.md","152","log analytics","When Service Map is activated in a Log Analytics workspace, a 300-KB management pack is forwarded to all the Windows servers in that workspace. If you are using System Center Operations Manager agents in a [connected management group](../../azure-monitor/platform/om-agents.md), the Service Map management pack is deployed from System Center Operations Manager. "
"\insights\service-map-configure.md","226","log analytics","1.	Install the Log Analytics agent for Windows following one of the methods described in [Log Analytics agent overview](../../azure-monitor/platform/log-analytics-agent.md)."
"\insights\service-map-configure.md","254","log analytics","1.	Install the Log Analytics agent following one of the methods described in [Log Analytics agent overview](../../azure-monitor/platform/log-analytics-agent.md)."
"\insights\service-map-configure.md","380","log analytics","* Are you on the [Free pricing tier of Operations Management Suite/Log Analytics](https://docs.microsoft.com/azure/log-analytics/log-analytics-add-solutions#offers-and-pricing-tiers)? The Free plan allows for up to five unique Service Map servers. Any subsequent servers won't show up in Service Map, even if the prior five are no longer sending data."
"\insights\service-map-configure.md","382","log analytics","* Is your server sending log and perf data to Log Analytics? Go to Log Search and run the following query for your computer: "
"\insights\service-map-configure.md","386","log analytics","Did you get a variety of events in the results? Is the data recent? If so, your Log Analytics Agent is operating correctly and communicating with Log Analytics. If not, check the agent on your server: [Log Analytics agent for Windows troubleshooting](https://support.microsoft.com/help/3126513/how-to-troubleshoot-monitoring-onboarding-issues) or [Log Analytics agent for Linux troubleshooting](../../azure-monitor/platform/agent-linux-troubleshoot.md)."
"\insights\service-map-scom.md","29","log analytics","* A Log Analytics workspace with the Service Map solution enabled."
"\insights\service-map-scom.md","31","log analytics","* A service principal with access to the Azure subscription that is associated with the Log Analytics workspace. For more information, go to [Create a service principal](#create-a-service-principal)."
"\insights\service-map-scom.md","44","log analytics",">[Operations Management Suite was a collection of services](https://github.com/MicrosoftDocs/azure-docs-pr/pull/azure-monitor/azure-monitor-rebrand.md#retirement-of-operations-management-suite-brand) that included Log Analytics, which is now part of [Azure Monitor](https://github.com/MicrosoftDocs/azure-docs-pr/pull/azure-monitor/overview.md)."
"\insights\service-map-scom.md","56","log analytics","3. In the **Subscription Selection** window, select the Azure subscription, Azure resource group (the one that contains the Log Analytics workspace), and Log Analytics workspace, and then click **Next**."
"\insights\service-map-scom.md","74","log analytics","6. Optional: Select the Management Server resource pool to communicate with Log Analytics, and then click **Add Workspace**."
"\insights\service-map-scom.md","78","log analytics","    It might take a minute to configure and register the Log Analytics workspace. After it is configured, Operations Manager initiates the first Service Map sync."
"\insights\service-map-scom.md","84","log analytics","After the Log Analytics workspace is connected, a new folder, Service Map, is displayed in the **Monitoring** pane of the Operations Manager console."
"\insights\service-map-scom.md","89","log analytics","* **Active Alerts**: Lists all the active alerts about the communication between Operations Manager and Service Map.  Note that these alerts are not Log Analytics alerts being synced to Operations Manager. "
"\insights\service-map-scom.md","107","log analytics",">[Operations Management Suite was a collection of services](https://github.com/MicrosoftDocs/azure-docs-pr/pull/azure-monitor/azure-monitor-rebrand.md#retirement-of-operations-management-suite-brand) that included Log Analytics, which is now part of [Azure Monitor](https://github.com/MicrosoftDocs/azure-docs-pr/pull/azure-monitor/overview.md)."
"\insights\service-map-scom.md","109","log analytics","You can configure only one Log Analytics workspace for now."
"\insights\service-map-scom.md","126","log analytics","* You can only connect to a single Log Analytics workspace."
"\insights\service-map.md","34","log analytics","4. On the **Service Map** overview pane, review the solution details and then click **Create** to begin the onboarding process to your Log Analytics workspace.<br><br> ![Onboard the Service Map solution](./media/service-map/service-map-onboard.png)."
"\insights\service-map.md","35","log analytics","5. In the **Configure a solution** pane, select an existing or create a new Log Analytics workspace.  For further information on how to create a new workspace, see [Create a Log Analytics workspace in the Azure portal](../../azure-monitor/learn/quick-create-workspace.md). After providing the required information, click **Create**.  "
"\insights\service-map.md","39","log analytics","You access Service Map in the Azure portal from your Log Analytics workspace, and select the option **Solutions** from the left pane.<br><br> ![Select Solutions option in workspace](./media/service-map/select-solution-from-workspace.png).<br> From the list of solutions, select **ServiceMap(workspaceName)** and in the Service Map solution overview page click on the Service Map summary tile.<br><br> ![Service Map summary tile](./media/service-map/service-map-summary-tile.png)."
"\insights\service-map.md","217","log analytics","Service Map integration with the IT Service Management Connector is automatic when both solutions are enabled and configured in your Log Analytics workspace. The integration in Service Map is labeled ""Service Desk."" For more information, see [Centrally manage ITSM work items using IT Service Management Connector](https://docs.microsoft.com/azure/log-analytics/log-analytics-itsmc-overview)."
"\insights\service-map.md","226","log analytics","Connection metrics are written to two new tables in Log Analytics "
"\insights\service-map.md","229","log analytics","Service Map integration with Change Tracking is automatic when both solutions are enabled and configured in your Log Analytics workspace."
"\insights\service-map.md","235","log analytics","The following image is a detailed view of a ConfigurationChange event that you might see after you select **Show in Log Analytics**."
"\insights\service-map.md","244","log analytics","To see performance data, you may need to [enable the appropriate Log Analytics performance counters](https://docs.microsoft.com/azure/log-analytics/log-analytics-data-sources-performance-counters).  The counters you will want to enable:"
"\insights\service-map.md","261","log analytics","Service Map integration with Security and Audit is automatic when both solutions are enabled and configured in your Log Analytics workspace."
"\insights\service-map.md","270","management solution","The **Machine Updates** pane displays data from the Update Management solution for the selected server. The pane lists a summary of any missing updates for the server during the selected time range."
"\insights\service-map.md","274","log analytics","## Log Analytics records"
"\insights\service-map.md","275","log analytics","Service Map computer and process inventory data is available for [search](../../azure-monitor/log-query/log-query-overview.md) in Log Analytics. You can apply this data to scenarios that include migration planning, capacity analysis, discovery, and on-demand performance troubleshooting."
"\insights\service-map.md","284","log analytics","- Computer: Use *ResourceId* or *ResourceName_s* to uniquely identify a computer within a Log Analytics workspace."
"\insights\service-map.md","285","log analytics","- Process: Use *ResourceId* to uniquely identify a process within a Log Analytics workspace. *ResourceName_s* is unique within the context of the machine on which the process is running (MachineResourceName_s) "
"\insights\service-map.md","290","log analytics","Connection metrics are written to a new table in Log Analytics - VMConnection. This table provides information about the connections for a machine (inbound and outbound). Connection Metrics are also exposed with APIs that provide the means to obtain a specific metric during a time window.  TCP connections resulting from ""*accept*-ing on a listening socket are inbound, while those created by *connect*-ing to a given IP and port are outbound. The direction of a connection is represented by the Direction property, which can be set to either **inbound** or **outbound**. "
"\insights\service-map.md","502","log analytics","Learn more about [log searches](../../azure-monitor/log-query/log-query-overview.md) in Log Analytics to retrieve data that's collected by Service Map."
"\insights\solution-agenthealth.md","3","log analytics","description: This article is intended to help you understand how to use this solution to monitor the health of your agents reporting directly to Log Analytics or System Center Operations Manager."
"\insights\solution-agenthealth.md","18","log analytics","The Agent Health solution in Azure helps you understand, for all of the agents reporting directly to the Log Analytics workspace or a System Center Operations Manager management group  connected to Log Analytics, which are unresponsive and submitting operational data.  You can also keep track of how many agents are deployed, where they are distributed geographically, and perform other queries to maintain awareness of the distribution of agents deployed in Azure, other cloud environments, or on-premises.    "
"\insights\solution-agenthealth.md","21","log analytics","Before you deploy this solution, confirm you have currently supported [Windows agents](../../log-analytics/log-analytics-windows-agent.md) reporting to the Log Analytics workspace or reporting to an [Operations Manager management group](../../azure-monitor/platform/om-agents.md) integrated with your workspace.    "
"\insights\solution-agenthealth.md","27","log analytics","If your System Center Operations Manager management group is connected to a Log Analytics workspace,  the following management packs are installed in Operations Manager.  These management packs are also installed on directly connected Windows computers after adding this solution. There is nothing to configure or manage with these management packs."
"\insights\solution-agenthealth.md","32","log analytics","For more information on how solution management packs are updated, see [Connect Operations Manager to Log Analytics](../../azure-monitor/platform/om-agents.md)."
"\insights\solution-agenthealth.md","35","log analytics","Add the Agent Health solution to your Log Analytics workspace using the process described in [Add solutions](solutions.md). There is no further configuration required."
"\insights\solution-agenthealth.md","45","log analytics","| System Center Operations Manager management group | Yes | Heartbeat events are collected from  agents reporting to the management group every 60 seconds and then forwarded to Log Analytics. A direct connection from Operations Manager agents to Log Analytics is not required. Heartbeat event data is forwarded from the management group to the Log Analytics repository.|"
"\insights\solution-agenthealth.md","48","log analytics","When you add the solution to your Log Analytics workspace, the **Agent Health** tile will be added to your dashboard. This tile shows the total number of agents and the number of unresponsive agents in the last 24 hours.<br><br> ![Agent Health Solution tile on dashboard](./media/solution-agenthealth/agenthealth-solution-tile-homepage.png)"
"\insights\solution-agenthealth.md","61","log analytics","| Count of Gateways Installed | The number of servers that have the Log Analytics gateway installed, and a list of these servers.|"
"\insights\solution-agenthealth.md","65","log analytics","## Log Analytics records"
"\insights\solution-agenthealth.md","66","log analytics","The solution creates one type of record in the Log Analytics workspace.  "
"\insights\solution-agenthealth.md","79","log analytics","| Version | Log Analytics Agent or Operations Manager Agent version.|"
"\insights\solution-agenthealth.md","81","log analytics","| IsGatewayInstalled | If Log Analytics gateway is installed, value is *true*, otherwise value is *false*.|"
"\insights\solution-agenthealth.md","89","log analytics","Each agent reporting to an Operations Manager management server will send two heartbeats, and SCAgentChannel property's value will include both **Direct** and **SCManagementServer** depending on what Log Analytics data sources and solutions you have enabled in your subscription. If you recall, data from solutions are either sent directly from an Operations Manager management server to Log Analytics, or because of the volume of data collected on the agent, are sent directly from the agent to Log Analytics. For heartbeat events which have the value **SCManagementServer**, the ComputerIP value is the IP address of the management server since the data is actually uploaded by it.  For heartbeats where SCAgentChannel is set to **Direct**, it is the public IP address of the agent.  "
"\insights\solution-agenthealth.md","107","log analytics","| Heartbeat &#124; where iff(isnotnull(toint(IsGatewayInstalled)), IsGatewayInstalled == true, IsGatewayInstalled == ""true"") == true &#124; distinct Computer |Number of Log Analytics Gateways Installed |"
"\insights\solution-agenthealth.md","114","log analytics","* Learn about [Alerts in Log Analytics](../../monitoring-and-diagnostics/monitoring-overview-alerts.md) for details on generating alerts from Log Analytics. "
"\insights\solution-office-365.md","2","management solution","title: Office 365 management solution in Azure | Microsoft Docs"
"\insights\solution-office-365.md","3","log analytics","description: This article provides details on configuration and use of the Office 365 solution in Azure.  It includes detailed description of the Office 365 records created in Log Analytics."
"\insights\solution-office-365.md","16","management solution","# Office 365 management solution in Azure (Preview)"
"\insights\solution-office-365.md","20","log analytics","The Office 365 management solution allows you to monitor your Office 365 environment in Log Analytics."
"\insights\solution-office-365.md","20","management solution","The Office 365 management solution allows you to monitor your Office 365 environment in Log Analytics."
"\insights\solution-office-365.md","45","log analytics","From your Log Analytics workspace:"
"\insights\solution-office-365.md","59","management solution","The first step is to create an application in Azure Active Directory that the management solution will use to access your Office 365 solution."
"\insights\solution-office-365.md","169","log analytics","### Subscribe to Log Analytics workspace"
"\insights\solution-office-365.md","170","log analytics","The last step is to subscribe the application to your Log Analytics workspace. You also do this with a PowerShell script."
"\insights\solution-office-365.md","338","log analytics","    .\office365_subscription.ps1 -WorkspaceName <Log Analytics workspace name> -ResourceGroupName <Resource Group name> -SubscriptionId <Subscription ID> -OfficeUsername <OfficeUsername> -OfficeTennantID <Tenant ID> -OfficeClientId <Client ID> -OfficeClientSecret <Client secret>"
"\insights\solution-office-365.md","372","log analytics","You can remove the Office 365 management solution using the process in [Remove a management solution](solutions.md#remove-a-management-solution). This will not stop data being collected from Office 365 into Log Analytics though. Follow the procedure below to unsubscribe from Office 365 and stop collecting data."
"\insights\solution-office-365.md","372","management solution","You can remove the Office 365 management solution using the process in [Remove a management solution](solutions.md#remove-a-management-solution). This will not stop data being collected from Office 365 into Log Analytics though. Follow the procedure below to unsubscribe from Office 365 and stop collecting data."
"\insights\solution-office-365.md","462","log analytics","    .\office365_unsubscribe.ps1 -WorkspaceName <Log Analytics workspace name> -ResourceGroupName <Resource Group name> -SubscriptionId <Subscription ID> -OfficeTennantID <Tenant ID> "
"\insights\solution-office-365.md","473","log analytics","The Office 365 solution doesn't retrieve data from any of the [Log Analytics agents](../../azure-monitor/platform/agent-data-sources.md).  It retrieves data directly from Office 365."
"\insights\solution-office-365.md","476","log analytics","It may take a few hours for data to initially be collected. Once it starts collecting, Office 365 sends a [webhook notification](https://msdn.microsoft.com/office-365/office-365-management-activity-api-reference#receiving-notifications) with detailed data to Log Analytics each time a record is created. This record is available in Log Analytics within a few minutes after being received."
"\insights\solution-office-365.md","479","log analytics","When you add the Office 365 solution to your Log Analytics workspace, the **Office 365** tile will be added to your dashboard. This tile displays a count and graphical representation of the number of computers in your environment and their update compliance.<br><br>"
"\insights\solution-office-365.md","498","log analytics","## Log Analytics records"
"\insights\solution-office-365.md","500","log analytics","All records created in the Log Analytics workspace by the Office 365 solution have a **Type** of **OfficeActivity**.  The **OfficeWorkload** property determines which Office 365 service the record refers to - Exchange, AzureActiveDirectory, SharePoint, or OneDrive.  The **RecordType** property specifies the type of operation.  The properties will vary for each operation type and are shown in the tables below."
"\insights\solution-office-365.md","705","log analytics","* Use Log Searches in [Log Analytics](../../azure-monitor/log-query/log-query-overview.md) to view detailed update data."
"\insights\solution-targeting.md","2","management solution","title: Targeting Management Solutions in Azure | Microsoft Docs"
"\insights\solution-targeting.md","3","management solution","description: Targeting management solutions allows you to limit management solutions to a specific set of agents.  This article describes how to create a scope configuration and apply it to a solution."
"\insights\solution-targeting.md","17","management solution","# Targeting Management Solutions in Azure (Preview)"
"\insights\solution-targeting.md","18","log analytics","When you add a management solution to your subscription, it's automatically deployed by default to all Windows and Linux agents connected to your Log Analytics workspace.  You may want to manage your costs and limit the amount of data collected for a solution by limiting it to a particular set of agents.  This article describes how to use **Solution Targeting** which is a feature that allows you to apply a scope to your solutions."
"\insights\solution-targeting.md","18","management solution","When you add a management solution to your subscription, it's automatically deployed by default to all Windows and Linux agents connected to your Log Analytics workspace.  You may want to manage your costs and limit the amount of data collected for a solution by limiting it to a particular set of agents.  This article describes how to use **Solution Targeting** which is a feature that allows you to apply a scope to your solutions."
"\insights\solution-targeting.md","25","log analytics","You specify the computers that you want to include in a scope by creating a [computer group](../../azure-monitor/platform/computer-groups.md) in Log Analytics.  The computer group can be based on a log search or imported from other sources such as Active Directory or WSUS groups. As [described below](#solutions-and-agents-that-cant-be-targeted), only computers that are directly connected to Log Analytics will be included in the scope."
"\insights\solution-targeting.md","35","log analytics"," 1. In the Azure portal, navigate to **Log Analytics** and select your workspace."
"\insights\solution-targeting.md","49","log analytics"," 1. In the Azure portal, navigate to **Log Analytics** and select your workspace."
"\insights\solution-targeting.md","62","log analytics","- You can only filter out agents that connect directly to Log Analytics.  Solutions will automatically deploy to any agents that are part of a connected Operations Manager management group whether or not they're included in a scope configuration."
"\insights\solution-targeting.md","70","log analytics","- Learn more about management solutions including the solutions that are available to install in your environment at [Add Azure Log Analytics management solutions to your workspace](solutions.md)."
"\insights\solution-targeting.md","70","management solution","- Learn more about management solutions including the solutions that are available to install in your environment at [Add Azure Log Analytics management solutions to your workspace](solutions.md)."
"\insights\solution-targeting.md","71","log analytics","- Learn more about creating computer groups at [Computer groups in Log Analytics log searches](../../azure-monitor/platform/computer-groups.md)."
"\insights\solutions-best-practices.md","2","management solution","title: Management solution in Azure best practices | Microsoft Docs"
"\insights\solutions-best-practices.md","17","management solution","# Best practices for creating management solutions in Azure (Preview)"
"\insights\solutions-best-practices.md","19","management solution","> This is preliminary documentation for creating management solutions in Azure which are currently in preview. Any schema described below is subject to change.  "
"\insights\solutions-best-practices.md","21","management solution","This article provides best practices for [creating a management solution file](solutions-solution-file.md) in Azure.  This information will be updated as additional best practices are identified."
"\insights\solutions-best-practices.md","32","log analytics","- Include the [IngestionAPI module](https://www.powershellgallery.com/packages/OMSIngestionAPI/1.5) in your solution to be used by runbooks writing data to the Log Analytics repository.  Configure the solution to [reference](solutions-solution-file.md#solution-resource) this resource so that it remains if the solution is removed.  This allows multiple solutions to share the module."
"\insights\solutions-best-practices.md","46","management solution","* Walk through the basic process of [designing and building a management solution](solutions-creating.md)."
"\insights\solutions-best-practices.md","48","management solution","* [Add saved searches and alerts](solutions-resources-searches-alerts.md) to your management solution."
"\insights\solutions-best-practices.md","49","management solution","* [Add views](solutions-resources-views.md) to your management solution."
"\insights\solutions-best-practices.md","50","management solution","* [Add Automation runbooks and other resources](solutions-resources-automation.md) to your management solution."
"\insights\solutions-creating.md","2","management solution","title: Build a management solution in Azure | Microsoft Docs"
"\insights\solutions-creating.md","3","log analytics","description: Management solutions include packaged management scenarios in Azure that customers can add to their Log Analytics workspace.  This article provides details on how you can create management solutions to be used in your own environment or made available to your customers."
"\insights\solutions-creating.md","3","management solution","description: Management solutions include packaged management scenarios in Azure that customers can add to their Log Analytics workspace.  This article provides details on how you can create management solutions to be used in your own environment or made available to your customers."
"\insights\solutions-creating.md","18","management solution","# Design and build a management solution in Azure (Preview)"
"\insights\solutions-creating.md","20","management solution","> This is preliminary documentation for creating management solutions in Azure which are currently in preview. Any schema described below is subject to change."
"\insights\solutions-creating.md","22","log analytics","[Management solutions]( solutions.md) provide packaged management scenarios that customers can add to their Log Analytics workspace.  This article presents a basic process to design and build a management solution that is suitable for most common requirements.  If you are new to building management solutions then you can use this process as a starting point and then leverage the concepts for more complex solutions as your requirements evolve."
"\insights\solutions-creating.md","22","management solution","[Management solutions]( solutions.md) provide packaged management scenarios that customers can add to their Log Analytics workspace.  This article presents a basic process to design and build a management solution that is suitable for most common requirements.  If you are new to building management solutions then you can use this process as a starting point and then leverage the concepts for more complex solutions as your requirements evolve."
"\insights\solutions-creating.md","24","management solution","## What is a management solution?"
"\insights\solutions-creating.md","28","management solution","The basic strategy is to start your management solution by building the individual components in your Azure environment.  Once you have the functionality working properly, then you can start packaging them into a [management solution file]( solutions-solution-file.md). "
"\insights\solutions-creating.md","32","management solution","The most common pattern for a management solution is shown in the following diagram.  The different components in this pattern are discussed in the below."
"\insights\solutions-creating.md","34","management solution","![Management solution overview](media/solutions-creating/solution-overview.png)"
"\insights\solutions-creating.md","38","log analytics","The first step in designing a solution is determining the data that you require from the Log Analytics repository.  This data may be collected by a [data source](../../azure-monitor/platform/agent-data-sources.md) or [another solution]( solutions.md), or your solution may need to provide the process to collect it."
"\insights\solutions-creating.md","40","log analytics","There are a number of ways data sources that can be collected in the Log Analytics repository as described in [Data sources in Log Analytics](../../azure-monitor/platform/agent-data-sources.md).  This includes events in the Windows Event Log or generated by Syslog in addition to performance counters for both Windows and Linux clients.  You can also gather data from Azure resources collected by Azure Monitor.  "
"\insights\solutions-creating.md","42","log analytics","If you require data that's not accessible through any of the available data sources, then you can use the [HTTP Data Collector API](../../azure-monitor/platform/data-collector-api.md) which allows you to write data to the Log Analytics repository from any client that can call a REST API.  The most common means of custom data collection in a management solution is to create a [runbook in Azure Automation](../../automation/automation-runbook-types.md) that collects the required data from Azure or external resources and uses the Data Collector API to write to the repository.  "
"\insights\solutions-creating.md","42","management solution","If you require data that's not accessible through any of the available data sources, then you can use the [HTTP Data Collector API](../../azure-monitor/platform/data-collector-api.md) which allows you to write data to the Log Analytics repository from any client that can call a REST API.  The most common means of custom data collection in a management solution is to create a [runbook in Azure Automation](../../automation/automation-runbook-types.md) that collects the required data from Azure or external resources and uses the Data Collector API to write to the repository.  "
"\insights\solutions-creating.md","45","log analytics","[Log searches](../../azure-monitor/log-query/log-query-overview.md) are used to extract and analyze data in the Log Analytics repository.  They are used by views and alerts in addition to allowing the user to perform ad hoc analysis of data in the repository.  "
"\insights\solutions-creating.md","50","log analytics","[Alerts in Log Analytics](../../monitoring-and-diagnostics/monitoring-overview-alerts.md) identify issues through [log searches](#log-searches) against the data in the repository.  They either notify the user or automatically run an action in response. You should identify different alert conditions for your application and include corresponding alert rules in your solution file."
"\insights\solutions-creating.md","57","log analytics","Views in Log Analytics are used to visualize data from the Log Analytics repository.  Each solution will typically contain a single view with a [tile](../../azure-monitor/platform/view-designer-tiles.md) that is displayed on the user's main dashboard.  The view can contain any number of [visualization parts](../../azure-monitor/platform/view-designer-parts.md) to provide different visualizations of the collected data to the user."
"\insights\solutions-creating.md","78","management solution","* Learn how to [create a solution file]( solutions-solution-file.md) for your management solution."
"\insights\solutions-inventory.md","2","management solution","title: Data collection details for management solutions in Azure | Microsoft Docs"
"\insights\solutions-inventory.md","3","management solution","description: Management solutions in Azure are a collection of logic, visualization, and data acquisition rules that provide metrics pivoted around a particular problem area.  This article provides a list of management solutions available from Microsoft and details about their method and frequency of data collection."
"\insights\solutions-inventory.md","17","management solution","# Data collection details for management solutions in Azure"
"\insights\solutions-inventory.md","18","log analytics","This article includes a list of [management solutions](solutions.md) available from Microsoft with links to their detailed documentation.  It also provides information on their method and frequency of data collection into Log Analytics.  You can use the information in this article to identify the different solutions available and to understand the data flow and connection requirements for different management solutions. "
"\insights\solutions-inventory.md","18","management solution","This article includes a list of [management solutions](solutions.md) available from Microsoft with links to their detailed documentation.  It also provides information on their method and frequency of data collection into Log Analytics.  You can use the information in this article to identify the different solutions available and to understand the data flow and connection requirements for different management solutions. "
"\insights\solutions-inventory.md","20","management solution","## List of management solutions"
"\insights\solutions-inventory.md","22","log analytics","The following table lists the [management solutions](solutions.md) in Azure provided by Microsoft. An entry in the column means that the solution collects data into Log Analytics using that method.  If a solution has no columns selected, then it writes directly to Log Analytics from another Azure service. Follow the link for each one to its detailed documentation for more information."
"\insights\solutions-inventory.md","22","management solution","The following table lists the [management solutions](solutions.md) in Azure provided by Microsoft. An entry in the column means that the solution collects data into Log Analytics using that method.  If a solution has no columns selected, then it writes directly to Log Analytics from another Azure service. Follow the link for each one to its detailed documentation for more information."
"\insights\solutions-inventory.md","26","log analytics","- **Microsoft monitoring agent** - Agent used on Windows and Linux to run managements pack from SCOM and management solutions from Azure. In this configuration, the agent is connected directly to Log Analytics without being connected to an Operations Manager management group. "
"\insights\solutions-inventory.md","26","management solution","- **Microsoft monitoring agent** - Agent used on Windows and Linux to run managements pack from SCOM and management solutions from Azure. In this configuration, the agent is connected directly to Log Analytics without being connected to an Operations Manager management group. "
"\insights\solutions-inventory.md","27","log analytics","- **Operations Manager** - Identical agent as Microsoft monitoring agent. In this configuration, it's [connected to an Operations Manager management group](../../azure-monitor/platform/om-agents.md) that's connected to Log Analytics. "
"\insights\solutions-inventory.md","29","management solution","- **Operations Manager required?** - A connected Operations Manager management group is required for data collection by the management solution. "
"\insights\solutions-inventory.md","30","log analytics","- **Operations Manager agent data sent via management group** - If the agent is [connected to a SCOM management group](../../azure-monitor/platform/om-agents.md), then data is sent to Log Analytics from the management server. In this case, the agent doesn't need to connect directly to Log Analytics. If this box isn't selected, then data is sent from the agent directly to Log Analytics even if the agent is connected to a SCOM management group. It will need to be able to communicate to Log Analytics through the [Log Analytics gateway](../../azure-monitor/platform/gateway.md)."
"\insights\solutions-inventory.md","31","management solution","- **Collection frequency** - Specifies the frequency that data is collected by the management solution. "
"\insights\solutions-inventory.md","35","management solution","| **Management solution** | **Platform** | **Microsoft monitoring agent** | **Operations Manager agent** | **Azure storage** | **Operations Manager required?** | **Operations Manager agent data sent via management group** | **Collection frequency** |"
"\insights\solutions-inventory.md","37","log analytics","| [Activity Log Analytics](../../azure-monitor/platform/collect-activity-logs.md) | Azure | | | | | | on notification |"
"\insights\solutions-inventory.md","48","management solution","| **Management solution** | **Platform** | **Microsoft monitoring agent** | **Operations Manager agent** | **Azure storage** | **Operations Manager required?** | **Operations Manager agent data sent via management group** | **Collection frequency** |"
"\insights\solutions-inventory.md","60","management solution","| **Management solution** | **Platform** | **Microsoft monitoring agent** | **Operations Manager agent** | **Azure storage** | **Operations Manager required?** | **Operations Manager agent data sent via management group** | **Collection frequency** |"
"\insights\solutions-inventory.md","75","management solution","* Learn how to [create queries](../../azure-monitor/log-query/log-query-overview.md) to analyze data collected by management solutions."
"\insights\solutions-resources-automation.md","2","management solution","title: Azure Automation resources in management solutions | Microsoft Docs"
"\insights\solutions-resources-automation.md","3","management solution","description: Management solutions will typically include runbooks in Azure Automation to automate processes such as collecting and processing monitoring data.  This article describes how to include runbooks and their related resources in a solution."
"\insights\solutions-resources-automation.md","18","management solution","# Adding Azure Automation resources to a management solution (Preview)"
"\insights\solutions-resources-automation.md","20","management solution","> This is preliminary documentation for creating management solutions which are currently in preview. Any schema described below is subject to change.   "
"\insights\solutions-resources-automation.md","23","management solution","[Management solutions]( solutions.md) will typically include runbooks in Azure Automation to automate processes such as collecting and processing monitoring data.  In addition to runbooks, Automation accounts includes assets such as variables and schedules that support the runbooks used in the solution.  This article describes how to include runbooks and their related resources in a solution."
"\insights\solutions-resources-automation.md","26","management solution","> The samples in this article use parameters and variables that are either required or common to management solutions  and described in [Design and build a management solution in Azure ]( solutions-creating.md) "
"\insights\solutions-resources-automation.md","32","management solution","- How to [create a management solution]( solutions-creating.md)."
"\insights\solutions-resources-automation.md","37","log analytics","All resources in Azure Automation are contained in an [Automation account](../../automation/automation-security-overview.md#automation-account-overview).  As described in [Log Analytics workspace and Automation account]( solutions.md#log-analytics-workspace-and-automation-account) the Automation account isn't included in the management solution but must exist before the solution is installed.  If it isn't available, then the solution install will fail."
"\insights\solutions-resources-automation.md","37","management solution","All resources in Azure Automation are contained in an [Automation account](../../automation/automation-security-overview.md#automation-account-overview).  As described in [Log Analytics workspace and Automation account]( solutions.md#log-analytics-workspace-and-automation-account) the Automation account isn't included in the management solution but must exist before the solution is installed.  If it isn't available, then the solution install will fail."
"\insights\solutions-resources-automation.md","82","management solution","When you start a runbook in Azure Automation, it creates an automation job.  You can add an automation job resource to your solution to automatically start a runbook when the management solution is installed.  This method is typically used to start runbooks that are used for initial configuration of the solution.  To start a runbook at regular intervals, create a [schedule](#schedules) and a [job schedule](#job-schedules)"
"\insights\solutions-resources-automation.md","115","management solution","The name of a job resource must contain a GUID which is typically assigned by a parameter.  You can read more about GUID parameters in [Creating a management solution file in Azure]( solutions-solution-file.md#parameters).  "
"\insights\solutions-resources-automation.md","284","management solution","Your management solution does not need to define [global modules](../../automation/automation-integration-modules.md) used by your runbooks because they will always be available in your Automation account.  You do need to include a resource for any other module used by your runbooks."
"\insights\solutions-resources-automation.md","311","management solution","If you update a management solution that includes a runbook that uses a schedule, and the new version of your solution has a new module used by that runbook, then the runbook may use the old version of the module.  You should include the following runbooks in your solution and create a job to run them before any other runbooks.  This will ensure that any modules are updated as required before the runbooks are loaded."
"\insights\solutions-resources-automation.md","328","log analytics","- Module.  This is the [OMSIngestionAPI module](https://www.powershellgallery.com/packages/OMSIngestionAPI/1.5) for writing data to Log Analytics. "
"\insights\solutions-resources-automation.md","340","log analytics","	        ""Description"": ""Name of Log Analytics workspace."""
"\insights\solutions-resources-automation.md","352","log analytics","	        ""Description"": ""Region of Log Analytics workspace."""
"\insights\solutions-resources-automation.md","364","log analytics","	        ""Description"": ""Pricing tier of both Log Analytics workspace and Azure Automation account."""
"\insights\solutions-resources-searches-alerts.md","2","management solution","title: Saved searches and alerts in management solutions | Microsoft Docs"
"\insights\solutions-resources-searches-alerts.md","3","log analytics","description: Management solutions typically include saved searches in Log Analytics to analyze data collected by the solution.  They may also define alerts to notify the user or automatically take action in response to a critical issue.  This article describes how to define Log Analytics saved searches and alerts in a Resource Manager template so they can be included in management solutions."
"\insights\solutions-resources-searches-alerts.md","3","management solution","description: Management solutions typically include saved searches in Log Analytics to analyze data collected by the solution.  They may also define alerts to notify the user or automatically take action in response to a critical issue.  This article describes how to define Log Analytics saved searches and alerts in a Resource Manager template so they can be included in management solutions."
"\insights\solutions-resources-searches-alerts.md","18","log analytics","# Adding Log Analytics saved searches and alerts to management solution (Preview)"
"\insights\solutions-resources-searches-alerts.md","18","management solution","# Adding Log Analytics saved searches and alerts to management solution (Preview)"
"\insights\solutions-resources-searches-alerts.md","21","management solution","> This is preliminary documentation for creating management solutions which are currently in preview. Any schema described below is subject to change.   "
"\insights\solutions-resources-searches-alerts.md","24","management solution","[Management solutions](solutions.md) will typically include "
"\insights\solutions-resources-searches-alerts.md","25","log analytics","[saved searches](../../azure-monitor/log-query/log-query-overview.md) in Log Analytics to analyze data collected by the solution.  They may also define [alerts](../../monitoring-and-diagnostics/monitoring-overview-alerts.md) to notify the user or automatically take action in response to a critical issue.  This article describes how to define Log Analytics saved searches and alerts in a [Resource Management template](../../azure-resource-manager/resource-manager-quickstart-create-templates-use-the-portal.md) so they can be included in [management solutions](solutions-creating.md)."
"\insights\solutions-resources-searches-alerts.md","25","management solution","[saved searches](../../azure-monitor/log-query/log-query-overview.md) in Log Analytics to analyze data collected by the solution.  They may also define [alerts](../../monitoring-and-diagnostics/monitoring-overview-alerts.md) to notify the user or automatically take action in response to a critical issue.  This article describes how to define Log Analytics saved searches and alerts in a [Resource Management template](../../azure-resource-manager/resource-manager-quickstart-create-templates-use-the-portal.md) so they can be included in [management solutions](solutions-creating.md)."
"\insights\solutions-resources-searches-alerts.md","28","management solution","> The samples in this article use parameters and variables that are either required or common to management solutions  and described in [Design and build a management solution in Azure](solutions-creating.md)  "
"\insights\solutions-resources-searches-alerts.md","31","management solution","This article assumes that you're already familiar with how to [create a management solution](solutions-creating.md) and the structure of a [Resource Manager template](../../azure-resource-manager/resource-group-authoring-templates.md) and solution file."
"\insights\solutions-resources-searches-alerts.md","34","log analytics","## Log Analytics Workspace"
"\insights\solutions-resources-searches-alerts.md","35","log analytics","All resources in Log Analytics are contained in a [workspace](../../azure-monitor/platform/manage-access.md).  As described in [Log Analytics workspace and Automation account](solutions.md#log-analytics-workspace-and-automation-account), the workspace isn't included in the management solution but must exist before the solution is installed.  If it isn't available, then the solution install fails."
"\insights\solutions-resources-searches-alerts.md","35","management solution","All resources in Log Analytics are contained in a [workspace](../../azure-monitor/platform/manage-access.md).  As described in [Log Analytics workspace and Automation account](solutions.md#log-analytics-workspace-and-automation-account), the workspace isn't included in the management solution but must exist before the solution is installed.  If it isn't available, then the solution install fails."
"\insights\solutions-resources-searches-alerts.md","37","log analytics","The name of the workspace is in the name of each Log Analytics resource.  This is done in the solution with the **workspace** parameter as in the following example of a SavedSearch resource."
"\insights\solutions-resources-searches-alerts.md","41","log analytics","## Log Analytics API version"
"\insights\solutions-resources-searches-alerts.md","42","log analytics","All Log Analytics resources defined in a Resource Manager template have a property **apiVersion** that defines the version of the API the resource should use.   "
"\insights\solutions-resources-searches-alerts.md","54","log analytics","[Log Analytics saved search](../../azure-monitor/log-query/log-query-overview.md) resources have a type of `Microsoft.OperationalInsights/workspaces/savedSearches` and have the following structure.  This includes common variables and parameters so that you can copy and paste this code snippet into your solution file and change the parameter names. "
"\insights\solutions-resources-searches-alerts.md","88","log analytics","> Beginning May 14, 2018, all alerts in an Azure public cloud instance of Log Analytics workspace began to extend into Azure. For more information, see [Extend Alerts into Azure](../../monitoring-and-diagnostics/monitoring-alerts-extend.md). For users that extend alerts to Azure, actions are now controlled in Azure action groups. When a workspace and its alerts are extended to Azure, you can retrieve or add actions by using the [Action Group - Azure Resource Manager Template](../../monitoring-and-diagnostics/monitoring-create-action-group-with-resource-manager-template.md)."
"\insights\solutions-resources-searches-alerts.md","90","management solution","Alert rules in a management solution are made up of the following three different resources."
"\insights\solutions-resources-searches-alerts.md","135","log analytics","> Schedule Name must be unique in a given workspace; two schedules cannot have the same ID even if they are associated with different saved searches. Also name for all saved searches, schedules, and actions created with the Log Analytics API must be in lowercase."
"\insights\solutions-resources-searches-alerts.md","144","log analytics","> Beginning May 14, 2018, all alerts in an Azure public cloud instance of Log Analytics workspace began to automatically extend into Azure. For more information, see [Extend Alerts into Azure](../../monitoring-and-diagnostics/monitoring-alerts-extend.md). For users that extend alerts to Azure, actions are now controlled in Azure action groups. When a workspace and its alerts are extended to Azure, you can retrieve or add actions by using the [Action Group - Azure Resource Manager Template](../../monitoring-and-diagnostics/monitoring-create-action-group-with-resource-manager-template.md)."
"\insights\solutions-resources-searches-alerts.md","240","log analytics","> Beginning May 14, 2018, all alerts in an Azure public cloud instance of Log Analytics workspace began to automatically extend into Azure. For more information, see [Extend Alerts into Azure](../../monitoring-and-diagnostics/monitoring-alerts-extend.md). For users that extend alerts to Azure, actions are now controlled in Azure action groups. When a workspace and its alerts are extended to Azure, you can retrieve or add actions by using the [Action Group - Azure Resource Manager Template](../../monitoring-and-diagnostics/monitoring-create-action-group-with-resource-manager-template.md)."
"\insights\solutions-resources-searches-alerts.md","311","log analytics","	          ""Description"": ""Name of Log Analytics workspace"""
"\insights\solutions-resources-searches-alerts.md","317","log analytics","	          ""Description"": ""Region of Log Analytics workspace"""
"\insights\solutions-resources-searches-alerts.md","489","management solution","* [Add views](solutions-resources-views.md) to your management solution."
"\insights\solutions-resources-searches-alerts.md","490","management solution","* [Add Automation runbooks and other resources](solutions-resources-automation.md) to your management solution."
"\insights\solutions-resources-views.md","2","management solution","title: Views in management solutions | Microsoft Docs"
"\insights\solutions-resources-views.md","3","management solution","description: 'Management solutions will typically include one or more views to visualize data.  This article describes how to export a view created by the View Designer and include it in a management solution. '"
"\insights\solutions-resources-views.md","17","management solution","# Views in management solutions (Preview)"
"\insights\solutions-resources-views.md","19","management solution","> This is preliminary documentation for creating management solutions which are currently in preview. Any schema described below is subject to change.    "
"\insights\solutions-resources-views.md","22","management solution","[Management solutions](solutions.md) will typically include one or more views to visualize data.  This article describes how to export a view created by the [View Designer](../../azure-monitor/platform/view-designer.md) and include it in a management solution.  "
"\insights\solutions-resources-views.md","25","management solution","> The samples in this article use parameters and variables that are either required or common to management solutions  and described in [Design and build a management solution in Azure](solutions-creating.md)"
"\insights\solutions-resources-views.md","30","management solution","This article assumes that you're already familiar with how to [create a management solution](solutions-creating.md) and the structure of a solution file."
"\insights\solutions-resources-views.md","33","management solution","To include a view in a management solution, you create a **resource** for it in the [solution file](solutions-creating.md).  The JSON that describes the view's detailed configuration is typically complex though and not something that a typical solution author would be able to create manually.  The most common method is to create the view using the [View Designer](../../azure-monitor/platform/view-designer.md), export it, and then add its detailed configuration to the solution."
"\insights\solutions-resources-views.md","42","log analytics","Follow the instructions at [Log Analytics View Designer](../../azure-monitor/platform/view-designer.md) to export a view to a file.  The exported file will be in JSON format with the same [elements as the solution file](solutions-solution-file.md).  "
"\insights\solutions-resources-views.md","44","log analytics","The **resources** element of the view file will have a resource with a type of **Microsoft.OperationalInsights/workspaces** that represents the Log Analytics workspace.  This element will have a subelement with a type of **views** that represents the view and contains its detailed configuration.  You will copy the details of this element and then copy it into your solution."
"\insights\solutions-resources-views.md","85","log analytics","### Log Analytics API version"
"\insights\solutions-resources-views.md","86","log analytics","All Log Analytics resources defined in a Resource Manager template have a property **apiVersion** that defines the version of the API the resource should use.  This version is different for views with queries that use the [legacy and the upgraded query language](../../azure-monitor/log-query/log-query-overview.md).  "
"\insights\solutions-resources-views.md","88","log analytics"," The following table specifies the Log Analytics API versions for views in legacy and upgraded workspaces: "
"\insights\solutions-resources-views.md","184","management solution","* Learn complete details of creating [management solutions](solutions-creating.md)."
"\insights\solutions-resources-views.md","185","management solution","* Include [Automation runbooks in your management solution](solutions-resources-automation.md)."
"\insights\solutions-solution-file.md","2","management solution","title: Creating a management solution file in Azure | Microsoft Docs"
"\insights\solutions-solution-file.md","3","management solution","description: Management solutions provide packaged management scenarios that customers can add to their Azure environment.  This article provides details on how you can create management solutions to be used in your own environment or made available to your customers."
"\insights\solutions-solution-file.md","18","management solution","# Creating a management solution file in Azure (Preview)"
"\insights\solutions-solution-file.md","20","management solution","> This is preliminary documentation for creating management solutions in Azure which are currently in preview. Any schema described below is subject to change.  "
"\insights\solutions-solution-file.md","36","management solution","The basic structure of a management solution file is the same as a [Resource Manager Template](../../azure-resource-manager/resource-group-authoring-templates.md#template-format), which is as follows.  Each of the sections below describes the top-level elements and their contents in a solution.  "
"\insights\solutions-solution-file.md","48","management solution","[Parameters](../../azure-resource-manager/resource-group-authoring-templates.md#parameters) are values that you require from the user when they install the management solution.  There are standard parameters that all solutions will have, and you can add additional parameters as required for your particular solution.  How users will provide parameter values when they install your solution will depend on the particular parameter and how the solution is being installed."
"\insights\solutions-solution-file.md","50","log analytics","When a user [installs your management solution](solutions.md#install-a-management-solution) through the Azure Marketplace or Azure QuickStart templates they are prompted to select a [Log Analytics workspace and Automation account](solutions.md#log-analytics-workspace-and-automation-account).  These are used to populate the values of each of the standard parameters.  The user is not prompted to directly provide values for the standard parameters, but they are prompted to provide values for any additional parameters."
"\insights\solutions-solution-file.md","50","management solution","When a user [installs your management solution](solutions.md#install-a-management-solution) through the Azure Marketplace or Azure QuickStart templates they are prompted to select a [Log Analytics workspace and Automation account](solutions.md#log-analytics-workspace-and-automation-account).  These are used to populate the values of each of the standard parameters.  The user is not prompted to directly provide values for the standard parameters, but they are prompted to provide values for any additional parameters."
"\insights\solutions-solution-file.md","73","management solution","The following table lists the standard parameters for all management solutions.  These values are populated for the user instead of prompting for them when your solution is installed from the Azure Marketplace or Quickstart templates.  The user must provide values for them if the solution is installed with another method."
"\insights\solutions-solution-file.md","83","log analytics","| pricingTier |string |Pricing tier of both Log Analytics workspace and Azure Automation account. |"
"\insights\solutions-solution-file.md","86","log analytics","| workspaceName |string |Log Analytics workspace name. |"
"\insights\solutions-solution-file.md","87","log analytics","| workspaceRegionId |string |Region of the Log Analytics workspace. |"
"\insights\solutions-solution-file.md","96","log analytics","                ""description"": ""A valid Log Analytics workspace name"""
"\insights\solutions-solution-file.md","108","log analytics","                   ""description"": ""Region of the Log Analytics workspace"""
"\insights\solutions-solution-file.md","120","log analytics","                ""description"": ""Pricing tier of both Log Analytics workspace and Azure Automation account"""
"\insights\solutions-solution-file.md","129","management solution","[Variables](../../azure-resource-manager/resource-group-authoring-templates.md#variables) are values that you will use in the rest of the management solution.  These values are not exposed to the user installing the solution.  They are intended to provide the author with a single location where they can manage values that may be used multiple times throughout the solution. You should put any values specific to your solution in variables as opposed to hard coding them in the **resources** element.  This makes the code more readable and allows you to easily change these values in later versions."
"\insights\solutions-solution-file.md","143","management solution","You can also define complex variables that multiple sets of values.  These are particularly useful in management solutions where you are defining multiple properties for different types of resources.  For example, you could restructure the solution variables shown above to the following."
"\insights\solutions-solution-file.md","158","management solution","[Resources](../../azure-resource-manager/resource-group-authoring-templates.md#resources) define the different resources that your management solution will install and configure.  This will be the largest and most complex portion of the template.  You can get the structure and complete description of resource elements in [Authoring Azure Resource Manager templates](../../azure-resource-manager/resource-group-authoring-templates.md#resources).  Different resources that you will typically define are detailed in other articles in this documentation. "
"\insights\solutions-solution-file.md","164","log analytics","### Log Analytics workspace and Automation account"
"\insights\solutions-solution-file.md","165","log analytics","Management solutions require a [Log Analytics workspace](../../azure-monitor/platform/manage-access.md) to contain views and an [Automation account](../../automation/automation-security-overview.md#automation-account-overview) to contain runbooks and related resources.  These must be available before the resources in the solution are created and should not be defined in the solution itself.  The user will [specify a workspace and account](solutions.md#log-analytics-workspace-and-automation-account) when they deploy your solution, but as the author you should consider the following points."
"\insights\solutions-solution-file.md","210","log analytics","| workspaceResourceId |ID of the Log Analytics workspace in the form *<Resource Group ID>/providers/Microsoft.OperationalInsights/workspaces/\<Workspace Name\>*. |"
"\insights\solutions-solution-file.md","236","management solution","* [Add saved searches and alerts](solutions-resources-searches-alerts.md) to your management solution."
"\insights\solutions-solution-file.md","237","management solution","* [Add views](solutions-resources-views.md) to your management solution."
"\insights\solutions-solution-file.md","238","management solution","* [Add runbooks and other Automation resources](solutions-resources-automation.md) to your management solution."
"\insights\solutions.md","2","management solution","title: Management solutions in Azure Monitor | Microsoft Docs"
"\insights\solutions.md","3","management solution","description: Management solutions in Azure Monitor are a collection of logic, visualization, and data acquisition rules that provide metrics pivoted around a particular problem area.  This article provides information on installing and using management solutions."
"\insights\solutions.md","17","management solution","# Management solutions in Azure Monitor"
"\insights\solutions.md","22","management solution","You can add management solutions to Azure Monitor for any applications and services that you use. They are typically available at no cost but collect data that could invoke usage charges. In addition to solutions provided by Microsoft, partners and customers can [create management solutions](solutions-creating.md) to be used in their own environment or made available to customers through the community."
"\insights\solutions.md","24","management solution","## Use management solutions"
"\insights\solutions.md","25","log analytics","Open the **Overview** page for your Log Analytics workspace display a tile for each solution installed in the workspace. "
"\insights\solutions.md","35","log analytics","Management solutions can contain multiple types of Azure resources, and you can view any resources included with a solution just like any other resource. For example, any log queries included in the solution are listed under **Solution Queries** in [Query explorer](../log-query/get-started-portal.md#load-queries) You can use those queries when performing ad hoc analysis with Log Analytics."
"\insights\solutions.md","37","management solution","## List installed management solutions "
"\insights\solutions.md","38","management solution","Use the following procedure to list the management solutions installed in your subscription."
"\insights\solutions.md","42","log analytics","4. Solutions installed in all your workspaces are listed. The name of the solution is followed by the name of the Log Analytics workspace it's installed in."
"\insights\solutions.md","54","management solution","## Install a management solution"
"\insights\solutions.md","55","log analytics","Management solutions from Microsoft and partners are available from the [Azure Marketplace](https://azuremarketplace.microsoft.com). You can search available solutions and install them using the following procedure. When you install a solution, you must select a [Log Analytics workspace](../platform/manage-access.md) where the solution will be installed and where its data will be collected."
"\insights\solutions.md","58","management solution","1. To the right of **Management Solutions**, click **More**. "
"\insights\solutions.md","59","management solution","1. Locate the management solution you want and read through its description."
"\insights\solutions.md","66","management solution","Members of the community can submit management solutions to Azure Quickstart Templates. You can install these solutions directly or download them templates for later installation."
"\insights\solutions.md","68","log analytics","1. Follow the process described in [Log Analytics workspace and Automation account](#log-analytics-workspace-and-automation-account) to link a workspace and account."
"\insights\solutions.md","77","log analytics","## Log Analytics workspace and Automation account"
"\insights\solutions.md","78","log analytics","All management solutions require a [Log Analytics workspace](../platform/manage-access.md) to store data collected by the solution and to host its log searches and views. Some solutions also require an [Automation account](../../automation/automation-security-overview.md#automation-account-overview) to contain runbooks and related resources. The workspace and account must meet the following requirements."
"\insights\solutions.md","78","management solution","All management solutions require a [Log Analytics workspace](../platform/manage-access.md) to store data collected by the solution and to host its log searches and views. Some solutions also require an [Automation account](../../automation/automation-security-overview.md#automation-account-overview) to contain runbooks and related resources. The workspace and account must meet the following requirements."
"\insights\solutions.md","80","log analytics","* Each installation of a solution can only use one Log Analytics workspace and one Automation account. You can install the solution separately into multiple workspaces."
"\insights\solutions.md","81","log analytics","* If a solution requires an Automation account, then the Log Analytics workspace and Automation account must be linked to one another. A Log Analytics workspace may only be linked to one Automation account, and an Automation account may only be linked to one Log Analytics workspace."
"\insights\solutions.md","82","log analytics","* To be linked, the Log Analytics workspace and Automation account must be in the same resource group and region. The exception is a workspace in East US region and Automation account in East US 2."
"\insights\solutions.md","84","log analytics","### Create a link between a Log Analytics workspace and Automation account"
"\insights\solutions.md","85","log analytics","How you specify the Log Analytics workspace and Automation account depends on the installation method for your solution."
"\insights\solutions.md","88","log analytics","* For solutions outside of the Azure Marketplace, you must link the Log Analytics workspace and Automation account before installing the solution. You can do this by selecting any solution in the Azure Marketplace and selecting the Log Analytics workspace and Automation account. You don't have to actually install the solution because the link is created as soon as the Log Analytics workspace and Automation account are selected. Once the link is created, then you can use that Log Analytics workspace and Automation account for any solution."
"\insights\solutions.md","90","log analytics","### Verify the link between a Log Analytics workspace and Automation account"
"\insights\solutions.md","91","log analytics","You can verify the link between a Log Analytics workspace and an Automation account using the following procedure."
"\insights\solutions.md","95","log analytics","1. If the **Workspace** setting is enabled, then this account is linked to a Log Analytics workspace. You can click on **Workspace** to view the details of the workspace."
"\insights\solutions.md","97","management solution","## Remove a management solution"
"\insights\solutions.md","104","management solution","* Get a [list of management solutions from Microsoft](solutions-inventory.md)."
"\insights\solutions.md","105","management solution","* Learn how to [create queries](../../azure-monitor/log-query/log-query-overview.md) to analyze data collected by management solutions."
"\insights\sql-assessment.md","2","log analytics","title: Optimize your SQL Server environment with Azure Log Analytics | Microsoft Docs"
"\insights\sql-assessment.md","3","log analytics","description: With Azure Log Analytics, you can use the SQL Health Check solution to assess the risk and health of your environments on a regular interval."
"\insights\sql-assessment.md","18","log analytics","# Optimize your SQL environment with the SQL Server Health Check solution in Log Analytics"
"\insights\sql-assessment.md","38","log analytics","* The SQL Health Check solution requires a supported version of .NET Framework 4 installed on each computer that has the Microsoft Monitoring Agent (MMA) installed.  The MMA agent is used by System Center 2016 - Operations Manager and Operations Manager 2012 R2, and the Log Analytics service.  "
"\insights\sql-assessment.md","40","log analytics","* A Log Analytics workspace to add the SQL Health Check solution from the Azure marketplace in the Azure portal.  In order to install the solution, you must be an administrator or contributor in the Azure subscription."
"\insights\sql-assessment.md","43","log analytics","  > After you've added the solution, the AdvisorAssessment.exe file is added to servers with agents. Configuration data is read and then sent to the Log Analytics service in the cloud for processing. Logic is applied to the received data and the cloud service records the data."
"\insights\sql-assessment.md","47","log analytics","To perform the health check against your SQL Server servers, they require an agent and connectivity to Log Analytics using one of the following supported methods:"
"\insights\sql-assessment.md","50","log analytics","2. If it is monitored with System Center 2016 - Operations Manager or Operations Manager 2012 R2 and the management group is not integrated with the Log Analytics service, the server can be multi-homed with Log Analytics to collect data and forward to the service and still be monitored by Operations Manager.  "
"\insights\sql-assessment.md","53","log analytics","The agent on your SQL Server which reports to an Operations Manager management group, collects data, forwards to its assigned management server, and then is sent directly from a management server to the Log Analytics service.  The data is not written to the Operations Manager databases.  "
"\insights\sql-assessment.md","55","log analytics","If the SQL Server is monitored by Operations Manager, you need to configure an Operations Manager Run As account. See [Operations Manager run-as accounts for Log Analytics](#operations-manager-run-as-accounts-for-log-analytics) below for more information."
"\insights\sql-assessment.md","65","log analytics","Data is collected on the SQL Server and forwarded to Log Analytics every seven days."
"\insights\sql-assessment.md","67","log analytics","## Operations Manager run-as accounts for Log Analytics"
"\insights\sql-assessment.md","155","log analytics","Before you can use an assessment solution in Log Analytics, you must have the solution installed.  After it is installed, you can view the summary of recommendations by using the SQL Health Check tile on the solution page in the Azure portal."
"\insights\sql-assessment.md","161","log analytics","2. In the Azure portal, click **More services** found on the lower left-hand corner. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**."
"\insights\sql-assessment.md","162","log analytics","3. In the Log Analytics subscriptions pane, select a workspace and then click the **Overview** tile.  "
"\insights\sql-assessment.md","169","log analytics","If you have recommendations that you want to ignore, you can create a text file that Log Analytics will use to prevent recommendations from appearing in your assessment results."
"\insights\sql-assessment.md","172","log analytics","1. In the Azure portal on the Log Analytics workspace page for your selected workspace, click the **Log Search** tile."
"\insights\sql-assessment.md","180","log analytics","    > If your workspace has been upgraded to the [new Log Analytics query language](../../azure-monitor/log-query/log-query-overview.md), then the above query would change to the following."
"\insights\sql-assessment.md","180","log analytics query language","    > If your workspace has been upgraded to the [new Log Analytics query language](../../azure-monitor/log-query/log-query-overview.md), then the above query would change to the following."
"\insights\sql-assessment.md","190","log analytics","2. Paste or type each RecommendationId for each recommendation that you want Log Analytics to ignore on a separate line and then save and close the file."
"\insights\sql-assessment.md","191","log analytics","3. Put the file in the following folder on each computer where you want Log Analytics to ignore recommendations."
"\insights\sql-assessment.md","205","log analytics","    > If your workspace has been upgraded to the [new Log Analytics query language](../../azure-monitor/log-query/log-query-overview.md), then the above query would change to the following."
"\insights\sql-assessment.md","205","log analytics query language","    > If your workspace has been upgraded to the [new Log Analytics query language](../../azure-monitor/log-query/log-query-overview.md), then the above query would change to the following."
"\insights\sql-assessment.md","254","log analytics","* Instead of giving you an exhaustive overwhelming list of tasks, we recommend that you focus on addressing the prioritized recommendations first. After you address them, additional recommendations will become available. If you prefer to see the detailed list, you can view all recommendations using the Log Analytics log search."
"\insights\surface-hubs.md","2","log analytics","title: Monitor Surface Hubs with Azure Log Analytics | Microsoft Docs"
"\insights\surface-hubs.md","18","log analytics","# Monitor Surface Hubs with Log Analytics to track their health"
"\insights\surface-hubs.md","22","log analytics","This article describes how you can use the Surface Hub solution in Log Analytics to monitor Microsoft Surface Hub devices. Log Analytics helps you track the health of your Surface Hubs as well as understand how they are being used."
"\insights\surface-hubs.md","24","log analytics","Each Surface Hub has the Microsoft Monitoring Agent installed. Its through the agent that you can send data from your Surface Hub to Log Analytics. Log files are read from your Surface Hubs and are then are sent to Log Analytics. Issues like servers being offline, the calendar not syncing, or if the device account is unable to log into Skype are shown in the Surface Hub dashboard in Log Analytics. By using the data in the dashboard, you can identify devices that are not running, or that are having other problems, and potentially apply fixes for the detected issues."
"\insights\surface-hubs.md","27","log analytics","Use the following information to install and configure the solution. In order to manage your Surface Hubs in Log Analytics, you'll need the following:"
"\insights\surface-hubs.md","29","log analytics","* A [Log Analytics subscription](https://azure.microsoft.com/pricing/details/log-analytics/) level that will support the number of devices you want to monitor. Log Analytics pricing varies depending on how many devices are enrolled, and how much data it processes. You'll want to take this into consideration when planning your Surface Hub rollout."
"\insights\surface-hubs.md","31","log analytics","Next, you will either add an existing Log Analytics workspace or create a new one. Detailed instructions for using either method is at [Create a Log Analytics workspace in the Azure portal](../../azure-monitor/learn/quick-create-workspace.md). Once the Log Analytics workspace is configured, there are two ways to enroll your Surface Hub devices:"
"\insights\surface-hubs.md","37","log analytics","You can monitor the health and activity of your Surface Hub using Log Analytics. You can enroll the Surface Hub by using Intune, or locally by using **Settings** on the Surface Hub."
"\insights\surface-hubs.md","39","log analytics","## Connect Surface Hubs to Log Analytics through Intune"
"\insights\surface-hubs.md","40","log analytics","You'll need the workspace ID and workspace key for the Log Analytics workspace that will manage your Surface Hubs. You can get those from the workspace settings in the Azure portal."
"\insights\surface-hubs.md","42","log analytics","Intune is a Microsoft product that allows you to centrally manage the Log Analytics configuration settings that are applied to one or more of your devices. Follow these steps to configure your devices through Intune:"
"\insights\surface-hubs.md","47","log analytics","4. Navigate to the Azure Operational Insights section of the policy, and add the Log Analytics *Workspace ID* and *Workspace Key* to the policy."
"\insights\surface-hubs.md","53","log analytics","Intune then syncs the Log Analytics settings with the devices in the target group, enrolling them in your Log Analytics workspace."
"\insights\surface-hubs.md","55","log analytics","## Connect Surface Hubs to Log Analytics using the Settings app"
"\insights\surface-hubs.md","56","log analytics","You'll need the workspace ID and workspace key for the Log Analytics workspace that will manage your Surface Hubs. You can get those from the settings for the Log Analytics workspace in the Azure portal."
"\insights\surface-hubs.md","62","log analytics","3. Click **This device**, and the under **Monitoring**, click **Configure Log Analytics Settings**."
"\insights\surface-hubs.md","64","log analytics","5. In the Log Analytics settings dialog, type the Log Analytics **Workspace ID** and type the **Workspace Key**.  "
"\insights\surface-hubs.md","68","log analytics","A confirmation appears telling you whether or not the configuration was successfully applied to the device. If it was, a message appears stating that the agent successfully connected to Log Analytics. The device then starts sending data to Log Analytics where you can view and act on it."
"\insights\surface-hubs.md","71","log analytics","Monitoring your Surface Hubs using Log Analytics is much like monitoring any other enrolled devices."
"\insights\surface-hubs.md","74","log analytics","2. Navigate to your Log Analytics workspace and select **Overview**."
"\insights\surface-hubs.md","80","log analytics","You can create [alerts](../../monitoring-and-diagnostics/monitoring-overview-alerts.md) based on existing or custom log searches. Using the data Log Analytics collects from your Surface Hubs, you can search for issues and alert on the conditions that you define for your devices."
"\insights\surface-hubs.md","83","log analytics","* Use [Log searches in Log Analytics](../../azure-monitor/log-query/log-query-overview.md) to view detailed Surface Hub data."
"\insights\vminsights-faq.md","22","log analytics","If your virtual machines are already connected to a Log Analytics workspace, you may continue to use that workspace when you deploy them to Azure Monitor for VMs. The workspace must exist in one of the supported regions listed in the ""Prerequisites"" section of [Deploy Azure Monitor for VMs (preview)](vminsights-onboard.md#prerequisites)."
"\insights\vminsights-faq.md","29","log analytics","If your VMs aren't currently connected to an existing Log Analytics workspace, you need to create a new workspace to store your data. You can create one automatically by configuring a single VM for Azure Monitor for VMs in the Azure portal."
"\insights\vminsights-faq.md","34","log analytics","If you're already collecting data from your virtual machines, you might have already configured them to report data to an existing Log Analytics workspace. As long as that workspace is in one of our supported regions, you can enable Azure Monitor for VMs for that pre-existing workspace. "
"\insights\vminsights-faq.md","38","log analytics",">We configure performance counters for the workspace, which affects all VMs that report to the workspace, whether or not you have chosen to deploy them to Azure Monitor for VMs. For more information about how performance counters are configured for the workspace, see the ""Configuring Performance counters"" section of [Windows and Linux performance data sources in Log Analytics](../../azure-monitor/platform/data-sources-performance-counters.md). For information about the counters configured for Azure Monitor for VMs, see [Deploy Azure Monitor for VMs (preview)](vminsights-onboard.md). "
"\insights\vminsights-faq.md","43","log analytics","* A default Log Analytics workspace is created, if that option was selected."
"\insights\vminsights-faq.md","45","log analytics","* The Log Analytics agent is installed on Azure VMs with a VM extension, if it's required. "
"\insights\vminsights-faq.md","95","log analytics","## What are the limitations of the Log Analytics Free pricing plan?"
"\insights\vminsights-faq.md","96","log analytics","If you've configured Azure Monitor with a Log Analytics workspace by using the *Free* pricing tier, the Azure Monitor for VMs Map feature supports connecting only five machines to the workspace. "
"\insights\vminsights-health.md","19","log analytics","Azure includes multiple services that individually perform a specific role or task in the monitoring space, but providing an in-depth health perspective of the operating system hosted on Azure virtual machines wasn't available.  While you could monitor for different conditions using Log Analytics or Azure Monitor, they were not designed to model and represent health of core components or overall health of the virtual machine.  With Azure Monitor for VMs health feature, it proactively monitors the availability and performance of the Windows or Linux guest OS with a model that represent key components and their relationships, criteria that specifies how to measure the health of those components, and alert you when an unhealthy condition is detected.  "
"\insights\vminsights-health.md","252","log analytics","Alerts from other resource types or services are not intended to be included in this view, such as log alerts based on Log Analytics queries or metric alerts that you would normally view from the default Azure Monitor [All Alerts](../../monitoring-and-diagnostics/monitoring-overview-alerts.md#all-alerts-page) page. "
"\insights\vminsights-known-issues.md","24","log analytics","- The Health feature is enabled for all VMs that are connected to the Log Analytics workspace. This is so even when the action begins and ends in a single VM."
"\insights\vminsights-log-search.md","3","log analytics","description: Azure Monitor for VMs solution forwards metrics and log data to Log Analytics and this article describes the records and includes sample queries."
"\insights\vminsights-log-search.md","19","log analytics","Azure Monitor for VMs collects performance and connection metrics, computer and process inventory data, and health state information and forwards it to the Log Analytics data store in Azure Monitor.  This data is available for [search](../../azure-monitor/log-query/log-query-overview.md) in Log Analytics. You can apply this data to scenarios that include migration planning, capacity analysis, discovery, and on-demand performance troubleshooting."
"\insights\vminsights-log-search.md","26","log analytics","- Computer: Use *ResourceId* or *ResourceName_s* to uniquely identify a computer within a Log Analytics workspace."
"\insights\vminsights-log-search.md","27","log analytics","- Process: Use *ResourceId* to uniquely identify a process within a Log Analytics workspace. *ResourceName_s* is unique within the context of the machine on which the process is running (MachineResourceName_s) "
"\insights\vminsights-log-search.md","32","log analytics","Connection metrics are written to a new table in Log Analytics - VMConnection. This table provides information about the connections for a machine (inbound and outbound). Connection Metrics are also exposed with APIs that provide the means to obtain a specific metric during a time window.  TCP connections resulting from ""*accept*-ing on a listening socket are inbound, while those created by *connect*-ing to a given IP and port are outbound. The direction of a connection is represented by the Direction property, which can be set to either **inbound** or **outbound**. "
"\insights\vminsights-log-search.md","235","log analytics","* If you are new to writing queries in Log Analytics, review [how to use the Log Analytics page](../../azure-monitor/log-query/get-started-portal.md) in the Azure portal to write Log Analytics queries."
"\insights\vminsights-maps.md","37","log analytics","On the right-side of the pane, click on the **Log Events** icon to switch focus of the pane to show a list of tables that collected data from the VM has sent to Log Analytics and is available for querying.  Clicking on any one of the record types listed will open the **Logs** page to view the results for that type with a pre-configured query filtered against the specific virtual machine.  "
"\insights\vminsights-maps.md","104","log analytics","From the **Workspace** selector at the top of the page, if you have more than one Log Analytics workspace, choose the workspace that is enabled with the solution and has virtual machines reporting to it. The **Group** selector will return subscriptions, resource groups, [computer groups](../../azure-monitor/platform/computer-groups.md), and VM scale sets of computers related to the selected workspace. Your selection only applies to the Map feature and does not carry over to Performance or Map."
"\insights\vminsights-onboard.md","32","log analytics","### Log Analytics "
"\insights\vminsights-onboard.md","34","log analytics","A Log Analytics workspace is currently supported in the following regions:"
"\insights\vminsights-onboard.md","44","log analytics",">Azure virtual machines can be deployed from any region and  aren't limited to the supported regions for the Log Analytics workspace."
"\insights\vminsights-onboard.md","55","log analytics","To enable the solution for the at-scale scenario, first configure the following in your Log Analytics workspace:"
"\insights\vminsights-onboard.md","58","log analytics","* Configure the Log Analytics workspace to collect performance counters."
"\insights\vminsights-onboard.md","60","log analytics","To configure your workspace for the at-scale scenario, see [Set up Log Analytics workspace for an at-scale deployment](#setup-log-analytics-workspace)."
"\insights\vminsights-onboard.md","150","log analytics","The Azure Monitor for VMs Map feature gets its data from the Microsoft Dependency agent. The Dependency agent relies on the Log Analytics agent for its connection to Log Analytics. Therefore, your system must have the Log Analytics agent installed and configured with the Dependency agent. "
"\insights\vminsights-onboard.md","160","log analytics","| Windows agents | Yes | In addition to the [Log Analytics agent for Windows](../../azure-monitor/platform/log-analytics-agent.md), Windows agents require the Microsoft Dependency agent. For a complete list of operating system versions, see [supported operating systems](#supported-operating-systems). |"
"\insights\vminsights-onboard.md","161","log analytics","| Linux agents | Yes | In addition to the [Log Analytics agent for Linux](../../azure-monitor/platform/log-analytics-agent.md), Linux agents require the Microsoft Dependency agent. For a complete list of operating system versions, see [supported operating systems](#supported-operating-systems). |"
"\insights\vminsights-onboard.md","174","log analytics","- To enable the solution, you must have the *Log Analytics contributor* role. "
"\insights\vminsights-onboard.md","176","log analytics","- To view performance, health, and map data, you must have the *Monitoring Reader* role for the Azure VM. The Log Analytics workspace must be configured for Azure Monitor for VMs.  "
"\insights\vminsights-onboard.md","178","log analytics","For more information about how to control access to a Log Analytics workspace, see [Manage workspaces](../../azure-monitor/platform/manage-access.md)."
"\insights\vminsights-onboard.md","191","log analytics","1. On the **Azure Monitor Insights Onboarding** page, if you have an existing Log Analytics workspace in the same subscription, select it in the drop-down list.  "
"\insights\vminsights-onboard.md","195","log analytics","    >If you want to create a new Log Analytics workspace for storing the monitoring data from the VM, follow the instructions in [Create a Log Analytics workspace](../../azure-monitor/learn/quick-create-workspace.md) in one of the supported regions listed earlier.  "
"\insights\vminsights-onboard.md","205","log analytics","Before you deploy your VMs, pre-configure your Log Analytics workspace by doing the following:"
"\insights\vminsights-onboard.md","216","log analytics","### Set up a Log Analytics workspace"
"\insights\vminsights-onboard.md","217","log analytics","If you don't have a Log Analytics workspace, create one by reviewing the methods that are suggested in the [""Prerequisites""](#log-analytics) section. "
"\insights\vminsights-onboard.md","220","log analytics","If the Log Analytics workspace that's referenced by the solution isn't already configured to collect the performance counters required by the solution, you need to enable them. You can do so in either of two ways:"
"\insights\vminsights-onboard.md","221","log analytics","* Manually, as described in [Windows and Linux performance data sources in Log Analytics](../../azure-monitor/platform/data-sources-performance-counters.md)"
"\insights\vminsights-onboard.md","225","log analytics","This method includes a JSON template that specifies the configuration for enabling the solution components in your Log Analytics workspace. "
"\insights\vminsights-onboard.md","298","log analytics","1. Edit the values for *WorkspaceName*, *ResourceGroupName*, and *WorkspaceLocation*. The value for *WorkspaceName* is the full resource ID of your Log Analytics workspace, which includes the workspace name. The value for *WorkspaceLocation* is the region the workspace is defined in."
"\insights\vminsights-onboard.md","314","log analytics","* Deploy the Log Analytics agent and the Dependency agent. "
"\insights\vminsights-onboard.md","329","log analytics","|[Preview]: Enable Azure Monitor for VMs |Enable Azure Monitor for the Virtual Machines (VMs) in the specified scope (management group, subscription, or resource group). Takes Log Analytics workspace as a parameter. |Initiative |  "
"\insights\vminsights-onboard.md","331","log analytics","|[Preview]: Audit Log Analytics Agent Deployment ??? VM Image (OS) unlisted |Reports VMs as non-compliant if the VM Image (OS) isn't defined in the list and the agent isn't installed. |Policy |  "
"\insights\vminsights-onboard.md","334","log analytics","|[Preview]: Deploy Log Analytics Agent for Linux VMs |Deploy Log Analytics Agent for Linux VMs if the VM Image (OS) is defined in the list and the agent isn't installed. |Policy |  "
"\insights\vminsights-onboard.md","335","log analytics","|[Preview]: Deploy Log Analytics Agent for Windows VMs |Deploy Log Analytics Agent for Windows VMs if the VM Image (OS) is defined in the list and the agent isn't installed. |Policy |  "
"\insights\vminsights-onboard.md","341","log analytics","|[Preview]: Audit Log Analytics Workspace for VM - Report Mismatch |Report VMs as non-compliant if they aren't logging to the Log Analytics workspace specified in the policy/initiative assignment. |Policy |"
"\insights\vminsights-onboard.md","356","log analytics","1. In the **Log Analytics workspace** drop-down list for the supported region, select a workspace."
"\insights\vminsights-onboard.md","359","log analytics","    >If the workspace is beyond the scope of the assignment, grant *Log Analytics Contributor* permissions to the policy assignment's Principal ID. If you don't do this, you might see a deployment failure such as: `The client '343de0fe-e724-46b8-b1fb-97090f7054ed' with object id '343de0fe-e724-46b8-b1fb-97090f7054ed' does not have authorization to perform action 'microsoft.operationalinsights/workspaces/read' over scope ... ` "
"\insights\vminsights-onboard.md","374","log analytics","* Log Analytics or the Dependency agent isn't deployed. "
"\insights\vminsights-onboard.md","379","log analytics","    - [Preview]: Deploy Log Analytics Agent for Linux VMs  "
"\insights\vminsights-onboard.md","380","log analytics","    - [Preview]: Deploy Log Analytics Agent for Windows VMs  "
"\insights\vminsights-onboard.md","386","log analytics","    - [Preview]: Audit Log Analytics Agent Deployment ??? VM Image (OS) unlisted"
"\insights\vminsights-onboard.md","388","log analytics","* VMs aren't logging in to the specified Log Analytics workspace.  "
"\insights\vminsights-onboard.md","389","log analytics","    It's possible that some VMs in the initiative scope are logging in to a Log Analytics workspace other than the one that's specified in the policy assignment. This policy is a tool to identify which VMs are reporting to a non-compliant workspace. "
"\insights\vminsights-onboard.md","391","log analytics","    - [Preview]: Audit Log Analytics Workspace for VM - Report Mismatch  "
"\insights\vminsights-onboard.md","394","log analytics","To enable Azure Monitor for VMs for multiple VMs or virtual machine scale sets, you can use the PowerShell script [Install-VMInsights.ps1](https://www.powershellgallery.com/packages/Install-VMInsights/1.0), available from the Azure PowerShell Gallery. This script iterates through every virtual machine and virtual machine scale set in your subscription, in the scoped resource group that's specified by *ResourceGroup*, or to a single VM or virtual machine scale set that's specified by *Name*. For each VM or virtual machine scale set, the script verifies whether the VM extension is already installed. If the VM extension is not installed, the script tries to reinstall it. If the VM extension is installed, the script installs the Log Analytics and Dependency agent VM extensions.  "
"\insights\vminsights-onboard.md","404","log analytics","    This script installs VM extensions for Log Analytics and the Dependency agent as needed for VM Insights."
"\insights\vminsights-onboard.md","415","log analytics","    - Log Analytics VM Extension configured to supplied Log Analytics Workspace"
"\insights\vminsights-onboard.md","435","log analytics","        Log Analytics WorkspaceID (GUID) for the data to be sent to"
"\insights\vminsights-onboard.md","438","log analytics","        Log Analytics Workspace primary or secondary key"
"\insights\vminsights-onboard.md","464","log analytics","        Region the Log Analytics Workspace is in"
"\insights\vminsights-onboard.md","515","log analytics","This operation will install the Log Analytics and Dependency agent extensions on above 2 VMs or VM Scale Sets."
"\insights\vminsights-onboard.md","552","log analytics","The Azure Monitor for VMs Map Dependency agent doesn't transmit any data itself, and it doesn't require any changes to firewalls or ports. The Map data is always transmitted by the Log Analytics agent to the Azure Monitor service, either directly or through the [OMS Gateway](../../azure-monitor/platform/gateway.md) if your IT security policies don't allow computers on the network to connect to the internet."
"\insights\vminsights-onboard.md","554","log analytics","Review the requirements and deployment methods for the [Log Analytics Linux and Windows agent](../../log-analytics/log-analytics-agent-overview.md). "
"\insights\vminsights-onboard.md","560","log analytics","1. Install Log Analytics Agent for Windows or Linux."
"\insights\vminsights-onboard.md","612","log analytics","If the Log Analytics workspace that's referenced by the solution isn't already configured to collect the performance counters required by the solution, you will need to enable them. You can do so in either of two ways: "
"\insights\vminsights-onboard.md","613","log analytics","* Manually, as described in [Windows and Linux performance data sources in Log Analytics](../../azure-monitor/platform/data-sources-performance-counters.md)"
"\insights\vminsights-onboard.md","617","log analytics","This method includes a JSON template that specifies the configuration for enabling the solution components in your Log Analytics workspace. "
"\insights\vminsights-onboard.md","692","log analytics","1. Edit the values for *WorkspaceName*, *ResourceGroupName*, and *WorkspaceLocation*. The value for *WorkspaceName* is the full resource ID of your Log Analytics workspace, which includes the workspace name. The value for *WorkspaceLocation* is the region the workspace is defined in."
"\insights\vminsights-onboard.md","707","log analytics","Azure Monitor for VMs configures a Log Analytics workspace to collect the performance counters that are used by the solution. The following table lists the objects and counters configured by the solution that are collected every 60 seconds."
"\insights\vminsights-optout.md","22","log analytics","Currently, Azure Monitor for VMs does not support selectively disabling monitoring of your VMs. If your Log Analytics workspace is configured to support this solution and other solutions, as well as collect other monitoring data, it's important you understand the impact and methods described below before proceeding."
"\insights\vminsights-optout.md","26","log analytics","* A Log Analytics workspace, which stores monitoring data collected from VMs and other sources."
"\insights\vminsights-optout.md","33","log analytics","* If you are evaluating with a single VM and you accepted the pre-selected default Log Analytics workspace, you can disable monitoring by uninstalling the Dependency agent from the VM and disconnecting the Log Analytics agent from this workspace. This approach is appropriate if you intend on using the VM for other purposes and decide later to reconnect it to a different workspace."
"\insights\vminsights-optout.md","34","log analytics","* If you are using the Log Analytics workspace to support other monitoring solutions and collection of data from other sources, you can remove Azure Monitor for VMs solution components from the workspace without interruption or impact to your workspace.  "
"\insights\vminsights-optout.md","41","log analytics","The following steps describe how to completely remove Azure Monitor for VMs if you still require the Log Analytics workspace. You are going to remove the **InfastructureInsights** and **ServiceMap** solutions from the workspace.  "
"\insights\vminsights-optout.md","48","log analytics","2. In the Azure portal, click **All services**. In the list of resources, type Log Analytics. As you begin typing, the list filters based on your input. Select **Log Analytics**."
"\insights\vminsights-optout.md","49","log analytics","3. In your list of Log Analytics workspaces, select the workspace you chose when onboarding Azure Monitor for VMs."
"\insights\vminsights-optout.md","58","log analytics","The following steps describe how to disable monitoring for a virtual machine that was enabled to evaluate Azure Monitor for VMs, but the Log Analytics workspace is still required to support monitoring from other sources. If this is an Azure VM, you are going to remove the Dependency agent VM extension and Log Analytics agent VM extension for Windows/Linux directly from the VM. "
"\insights\vminsights-optout.md","61","log analytics",">If the virtual machine is managed by Azure Automation to orchestrate processes, manage configuration, or manage updates, or managed by Azure Security Center for security management and threat detection, the Log Analytics agent should not be removed. Otherwise, you will prevent those services and solutions from proactively managing your VM. "
"\insights\vminsights-overview.md","39","log analytics","Integration with Log Analytics delivers powerful aggregation and filtering, and it can analyze data trends over time. Such comprehensive workload monitoring can't be achieved with Azure Monitor, Service Map, or Log Analytics alone.  "
"\insights\vminsights-overview.md","44","log analytics","* **Map** and **Performance**: The VMs are configured to report to a specific Log Analytics workspace."
"\insights\vminsights-performance.md","30","log analytics","On the **Top N Charts** tab, if you have more than one Log Analytics workspace, choose the workspace enabled with the solution from the **Workspace** selector at the top of the page. The **Group** selector will return subscriptions, resource groups, [computer groups](../../azure-monitor/platform/computer-groups.md), and virtual machine scale sets of computers related to the selected workspace that you can use to further filter results presented in the charts on this page and across the other pages. Your selection only applies to the Performance feature and does not carry over to Health or Map.  "
"\insights\vminsights-performance.md","101","log analytics","Performance metrics enabled as part of Azure Monitor for VMs do not include pre-configured alert rules. While there are [health alerts](vminsights-health.md#alerting-and-alert-management) corresponding to performance issues detected on your Azure VM, such as high CPU utilization, low memory available, disk I/O, low disk space, etc., these health alerts are only applied to all the VMs connected to the same Log Analytics workspace enabled for Azure Monitor for VMs. "
"\insights\vminsights-performance.md","103","log analytics","However, we may only collect and store a subset of the performance metrics you require in the Log Analytics workspace. If your monitoring strategy requires analysis or alerting that includes other performance metrics in order to effectively evaluate capacity or health of the virtual machine, or you need the flexibility to specify your own alerting criteria or logic, you can configure [collection of those performance counters](../../azure-monitor/platform/data-sources-performance-counters.md?toc=/azure/azure-monitor/toc.json) in Log Analytics and define [log alerts](../../azure-monitor/platform/alerts-log.md?toc=/azure/azure-monitor/toc.json). While Log Analytics allows you to perform complex analysis with other data types, and provide longer retention to support trend analysis, metrics on the other hand, are lightweight and capable of supporting near real-time scenarios. They are collected by the [Azure Diagnostic agent](../../virtual-machines/windows/monitor.md) and stored in the Azure Monitor metrics store, allowing you to create alerts with lower latency and at a lower cost."
"\insights\vmware.md","2","log analytics","title: VMware Monitoring solution in Log Analytics | Microsoft Docs"
"\insights\vmware.md","18","log analytics","# VMware Monitoring (Preview) solution in Log Analytics"
"\insights\vmware.md","25","log analytics","The VMware Monitoring solution in Log Analytics is a solution that helps you create a centralized logging and monitoring approach for large VMware logs. This article describes how you can troubleshoot, capture, and manage the ESXi hosts in a single location using the solution. With the solution, you can see detailed data for all your ESXi hosts in a single location. You can see top event counts, status, and trends of VM and ESXi hosts provided through the ESXi host logs. You can troubleshoot by viewing and searching centralized ESXi host logs. And, you can create alerts based on log search queries."
"\insights\vmware.md","27","log analytics","The solution uses native syslog functionality of the ESXi host to push data to a target VM, which has the Log Analytics agent. However, the solution doesn't write files into syslog within the target VM. The Log Analytics agent opens port 1514 and listens to this. Once it receives the data, the Log Analytics agent pushes the data into Log Analytics."
"\insights\vmware.md","32","management solution","* Add the VMware Monitoring solution to your subscription using the process described in [Install a management solution](../../azure-monitor/insights/solutions.md#install-a-management-solution)."
"\insights\vmware.md","38","log analytics","Create a Linux operating system VM to receive all syslog data from the ESXi hosts. The [Log Analytics Linux agent](../../azure-monitor/learn/quick-collect-linux-computer.md) is the collection point for all ESXi host syslog data. You can use multiple ESXi hosts to forward logs to a single Linux server, as in the following example."
"\insights\vmware.md","54","log analytics","1. Download and install the Log Analytics agent for Linux on the Linux server. For more information, see the [Documentation for Log Analytics agent for Linux](https://github.com/Microsoft/OMS-Agent-for-Linux)."
"\insights\vmware.md","55","log analytics","1. After the Log Analytics agent for Linux is installed, go to the  /etc/opt/microsoft/omsagent/sysconf/omsagent.d directory and copy the vmware_esxi.conf file to the /etc/opt/microsoft/omsagent/conf/omsagent.d directory and the change the owner/group and permissions of the file. For example:"
"\insights\vmware.md","61","log analytics","1. Restart the Log Analytics agent for Linux by running `sudo /opt/microsoft/omsagent/bin/service_control restart`."
"\insights\vmware.md","69","log analytics","1. In the Azure portal, perform a log search for `VMware_CL`. When Log Analytics collects the syslog data, it retains the syslog format. In the portal, some specific fields are captured, such as *Hostname* and *ProcessName*.  "
"\insights\vmware.md","76","log analytics","The VMware Monitoring solution collects various performance metrics and log data from ESXi hosts using the Log Analytics agents for Linux that you have enabled."
"\insights\vmware.md","80","log analytics","| platform | Log Analytics agent for Linux | SCOM agent | Azure Storage | SCOM required? | SCOM agent data sent via management group | collection frequency |"
"\insights\vmware.md","108","log analytics","The VMware tile appears in your Log Analytics workspace. It provides a high-level view of any failures. When you click the tile, you go into a dashboard view."
"\insights\vmware.md","125","log analytics","Click any blade to open Log Analytics search pane that shows detailed information specific for the blade."
"\insights\vmware.md","127","log analytics","From here, you can edit the search query to modify it for something specific. For details on creating log searches, see [Find data using log searches in Log Analytics](../../azure-monitor/log-query/log-query-overview.md)."
"\insights\vmware.md","156","log analytics","Saving search queries is a standard feature in Log Analytics and can help you keep any queries that you???ve found useful. After you create a query that you find useful, save it by clicking the **Favorites**. A saved query lets you easily reuse it later from the [My Dashboard](../../azure-monitor/platform/dashboards.md) page where you can create your own custom dashboards."
"\insights\vmware.md","161","log analytics","After you???ve created your queries, you might want to use the queries to alert you when specific events occur. See [Alerts in Log Analytics](../../monitoring-and-diagnostics/monitoring-overview-alerts.md) for information about how to create alerts. For examples of alerting queries and other query examples, see the [Monitor VMware using Log Analytics](https://blogs.technet.microsoft.com/msoms/2016/06/15/monitor-vmware-using-oms-log-analytics) blog post."
"\insights\vmware.md","170","log analytics","### Can I increase or decrease the volume of log data sent to Log Analytics?"
"\insights\vmware.md","173","log analytics","### Why is Hostd not providing data to Log Analytics? My log setting is set to info."
"\insights\vmware.md","179","log analytics","### Why don't I see data flowing into Log Analytics?"
"\insights\vmware.md","188","log analytics","* The VM with Log Analytics agent is not set correctly. To test this, perform the following steps:"
"\insights\vmware.md","190","log analytics","  1. Log Analytics listens to the port 1514. To verify that it is open, run the following command: `netstat -a | grep 1514`"
"\insights\vmware.md","193","log analytics","    a. Verify that the Log Analytics agent is running by using `ps -ef | grep oms`. If it is not running, start the process by running the command ` sudo /opt/microsoft/omsagent/bin/service_control start`"
"\insights\vmware.md","202","log analytics","* Use [Log Searches](../../azure-monitor/log-query/log-query-overview.md) in Log Analytics to view detailed VMware host data."
"\insights\wire-data.md","2","log analytics","title: Wire Data solution in Log Analytics | Microsoft Docs"
"\insights\wire-data.md","3","log analytics","description: Wire data is consolidated network and performance data from computers with Log Analytics agents. Network data is combined with your log data to help you correlate data."
"\insights\wire-data.md","18","log analytics","# Wire Data 2.0 (Preview) solution in Log Analytics"
"\insights\wire-data.md","22","log analytics","Wire data is consolidated network and performance data collected from Windows-connected and Linux-connected computers with the Log Analytics agent, including those monitored by Operations Manager in your environment. Network data is combined with your other log data to help you correlate data."
"\insights\wire-data.md","24","log analytics","In addition to the Log Analytics agent, the Wire Data solution uses Microsoft Dependency Agents that you install on computers in your IT infrastructure. Dependency Agents monitor network data sent to and from your computers for network levels 2-3 in the [OSI model](https://en.wikipedia.org/wiki/OSI_model), including the various protocols and ports used. Data is then sent to Log Analytics using agents.  "
"\insights\wire-data.md","27","log analytics",">If you have already deployed Service Map, or are considering Service Map or [Azure Monitor for VMs](../../azure-monitor/insights/vminsights-overview.md), there is a new connection metrics data set they collect and store in Log Analytics that provides comparable information to Wire Data."
"\insights\wire-data.md","29","log analytics","By default, Log Analytics logs data for CPU, memory, disk, and network performance data from counters built into Windows and Linux, as well as other performance counters that you can specify. Network and other data collection is done in real-time for each agent, including subnets and application-level protocols being used by the computer.  Wire Data looks at network data at the application level, not down at the TCP transport layer. ??The solution doesn't look at individual ACKs and SYNs. ??Once the handshake is completed, it is considered a live connection and marked as Connected. That connection stays live as long as both sides agree the socket is open and data can pass back and forth. ??Once either sides closes the connection, it is marked as Disconnected.  Therefore, it only counts the bandwidth of successfully completed packets, it doesn't report on resends or failed packets."
"\insights\wire-data.md","48","log analytics","However, since you're viewing metadata, it's not necessarily useful for in-depth troubleshooting. Wire data in Log Analytics is not a full capture of network data.  It is not intended for deep packet-level troubleshooting. The advantage of using the agent, compared to other collection methods, is that you don't have to install appliances, reconfigure your network switches, or preform complicated configurations. Wire data is simply agent-based???you install the agent on a computer and it will monitor its own network traffic. Another advantage is when you want to monitor workloads running in cloud providers or hosting service provider or Microsoft Azure, where the user doesn't own the fabric layer."
"\insights\wire-data.md","52","log analytics","Wire Data gets its data from the Microsoft Dependency Agent. The Dependency Agent depends on the Log Analytics agent for its connections to Log Analytics. This means that a server must have the Log Analytics agent installed and configured with the Dependency agent. The following table describes the connected sources that the Wire Data solution supports."
"\insights\wire-data.md","56","log analytics","| Windows agents | Yes | Wire Data analyzes and collects data from Windows agent computers. <br><br> In addition to the [Log Analytics agent for Windows](../../azure-monitor/platform/agent-windows.md), Windows agents require the Microsoft Dependency Agent. See the [supported operating systems](../../azure-monitor/insights/service-map-configure.md#supported-windows-operating-systems) for a complete list of operating system versions. |"
"\insights\wire-data.md","57","log analytics","| Linux agents | Yes | Wire Data analyzes and collects data from Linux agent computers.<br><br> In addition to the [Log Analytics agent for Linux](../../azure-monitor/learn/quick-collect-linux-computer.md), Linux agents require the Microsoft Dependency Agent. See the [supported operating systems](../../azure-monitor/insights/service-map-configure.md#supported-linux-operating-systems) for a complete list of operating system versions. |"
"\insights\wire-data.md","58","log analytics","| System Center Operations Manager management group | Yes | Wire Data analyzes and collects data from Windows and Linux agents in a connected [System Center Operations Manager management group](../../azure-monitor/platform/om-agents.md). <br><br> A direct connection from the System Center Operations Manager agent computer to Log Analytics is required. |"
"\insights\wire-data.md","61","log analytics","On Windows, the Microsoft Monitoring Agent (MMA) is used by both System Center Operations Manager and Log Analytics to gather and send data. Depending on the context, the agent is called the System Center Operations Manager Agent, Log Analytics agent, MMA, or Direct Agent. System Center Operations Manager and Log Analytics provide slightly different versions of the MMA. These versions can each report to System Center Operations Manager, to Log Analytics, or to both."
"\insights\wire-data.md","63","log analytics","On Linux, the Log Analytics agent for Linux gathers and sends data to Log Analytics. You can use Wire Data on servers with agents directly connected to Log Analytics, or on servers that are connecting to Log Analytics via System Center Operations Manager management groups."
"\insights\wire-data.md","65","log analytics","The Dependency Agent does not transmit any data itself, and it does not require any changes to firewalls or ports. The data in Wire Data is always transmitted by the Log Analytics agent to Log Analytics, either directly or through the Log Analytics gateway."
"\insights\wire-data.md","69","log analytics","If you are a System Center Operations Manager user with a management group connected to Log Analytics:"
"\insights\wire-data.md","71","log analytics","- No additional configuration is required when your System Center Operations Manager agents can access the Internet to connect to Log Analytics."
"\insights\wire-data.md","72","log analytics","- You need to configure the Log Analytics gateway to work with System Center Operations Manager when your System Center Operations Manager agents cannot access Log Analytics over the Internet."
"\insights\wire-data.md","74","log analytics","If your Windows or Linux computers cannot directly connect to the service, you need to configure the Log Analytics agent to connect to Log Analytics using the Log Analytics gateway. You can download the Log Analytics gateway from the [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=52666)."
"\insights\wire-data.md","193","log analytics","1. Enable the Activity Log Analytics solution from the [Azure marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.WireData2OMS?tab=Overview) or by using the process described in [Add Log Analytics solutions from the Solutions Gallery](../../azure-monitor/insights/solutions.md)."
"\insights\wire-data.md","207","log analytics","1. Install the Log Analytics agent following the steps in [Collect data from Windows computers hosted in your environment](../../azure-monitor/platform/agent-windows.md)."
"\insights\wire-data.md","233","log analytics","1. Install the Log Analytics agent following the steps in [Collect data from Linux computers hosted in your environment](../../azure-monitor/learn/quick-collect-linux-computer.md#obtain-workspace-id-and-key)."
"\insights\wire-data.md","358","log analytics","When Wire Data is activated in a Log Analytics workspace, a 300-KB management pack is sent to all the Windows servers in that workspace. If you are using System Center Operations Manager agents in a [connected management group](../../azure-monitor/platform/om-agents.md), the Dependency Monitor management pack is deployed from System Center Operations Manager. If the agents are directly connected, Log Analytics delivers the management pack."
"\insights\wire-data.md","370","log analytics","- Add the Wire Data solution to your Log Analytics workspace using the process described in [Add Log Analytics solutions from the Solutions Gallery](../../azure-monitor/insights/solutions.md). There is no further configuration required."
"\insights\wire-data.md","379","log analytics","In the **Overview** page for your Log Analytics workspace in the Azure portal, click the **Wire Data 2.0** tile to open the Wire Data dashboard. The dashboard includes the blades in the following table. Each blade lists up to 10 items matching that blade's criteria for the specified scope and time range. You can run a log search that returns all records by clicking **See all** at the bottom of the blade or by clicking the blade header."
"\learn\quick-collect-azurevm.md","3","log analytics","description: Learn how to enable the Log Analytics agent VM Extension and enable collection of data from your Azure VMs with Log Analytics."
"\learn\quick-collect-azurevm.md","20","log analytics","[Azure Log Analytics](../../azure-monitor/log-query/log-query-overview.md) can collect data directly from your Azure virtual machines and other resources in your environment into a single repository for detailed analysis and correlation.  This quickstart shows you how to configure and collect data from your Azure Linux or Windows VMs with a few easy steps.  "
"\learn\quick-collect-azurevm.md","28","log analytics","1. In the Azure portal, click **All services**. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**."
"\learn\quick-collect-azurevm.md","34","log analytics","  * Provide a name for the new **Log Analyics workspace**, such as *DefaultLAWorkspace*. OMS workspaces are now referred to as Log Analytics workspaces.  "
"\learn\quick-collect-azurevm.md","37","log analytics","  * Select the **Location** your VMs are deployed to.  For additional information, see which [regions Log Analytics is available in](https://azure.microsoft.com/regions/services/)."
"\learn\quick-collect-azurevm.md","38","log analytics","  * If you are creating a workspace in a new subscription created after April 2, 2018, it will automatically use the *Per GB* pricing plan and the option to select a pricing tier will not be available.  If you are creating a workspace for an existing subscription created before April 2, or to subscription that was tied to an existing EA enrollment, select your preferred pricing tier.  For additional information about the particular tiers, see [Log Analytics Pricing Details](https://azure.microsoft.com/pricing/details/log-analytics/)."
"\learn\quick-collect-azurevm.md","40","log analytics","        ![Create Log Analytics resource blade](media/quick-collect-azurevm/create-loganalytics-workspace-02.png) "
"\learn\quick-collect-azurevm.md","42","log analytics","3. After providing the required information on the **Log Analytics workspace** pane, click **OK**.  "
"\learn\quick-collect-azurevm.md","46","log analytics","## Enable the Log Analytics VM Extension"
"\learn\quick-collect-azurevm.md","50","log analytics","For Windows and Linux virtual machines already deployed in Azure, you install the Log Analytics agent with the Log Analytics VM Extension. Using the extension simplifies the installation process and automatically configures the agent to send data to the Log Analytics workspace that you specify. The agent is also upgraded automatically, ensuring that you have the latest features and fixes. Before proceeding, verify the VM is running otherwise the process will fail to complete successfully.  "
"\learn\quick-collect-azurevm.md","53","log analytics",">The Log Analytics agent for Linux cannot be configured to report to more than one Log Analytics workspace. "
"\learn\quick-collect-azurevm.md","55","log analytics","1. In the Azure portal, click **All services** found in the upper left-hand corner. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**."
"\learn\quick-collect-azurevm.md","56","log analytics","2. In your list of Log Analytics workspaces, select *DefaultLAWorkspace* created earlier."
"\learn\quick-collect-azurevm.md","58","log analytics","4. In the list of **Virtual machines**, select a virtual machine you want to install the agent on. Notice that the **Log Analytics connection status** for the VM indicates that it is **Not connected**."
"\learn\quick-collect-azurevm.md","59","log analytics","5. In the details for your virtual machine, select **Connect**. The agent is automatically installed and configured for your Log Analytics workspace. This process takes a few minutes, during which time the **Status** is **Connecting**."
"\learn\quick-collect-azurevm.md","60","log analytics","6. After you install and connect the agent, the **Log Analytics connection status** will be updated with **This workspace**."
"\learn\quick-collect-azurevm.md","68","log analytics","    ![Log Analytics Advance Settings](media/quick-collect-azurevm/log-analytics-advanced-settings-01.png)"
"\learn\quick-collect-azurevm.md","75","log analytics","8. When you first configure Windows Performance counters for a new Log Analytics workspace, you are given the option to quickly create several common counters. They are listed with a checkbox next to each."
"\learn\quick-collect-azurevm.md","90","log analytics","6. When you first configure Linux Performance counters for a new Log Analytics workspace, you are given the option to quickly create several common counters. They are listed with a checkbox next to each."
"\learn\quick-collect-azurevm.md","101","log analytics","1. In the Azure portal, navigate to Log Analytics and select the workspace created earlier."
"\learn\quick-collect-azurevm.md","104","log analytics","    ![Log Analytics log search query example](./media/quick-collect-azurevm/log-analytics-portal-perf-query.png) "
"\learn\quick-collect-azurevm.md","108","log analytics","![Log Analytics log search result](media/quick-collect-azurevm/log-analytics-search-perf.png)"
"\learn\quick-collect-azurevm.md","111","log analytics","When no longer needed, delete the Log Analytics workspace. To do so, select the Log Analytics workspace you created earlier and on the resource page click **Delete**."
"\learn\quick-collect-azurevm.md","114","log analytics","![Delete Log Analytics resource](media/quick-collect-azurevm/log-analytics-portal-delete-resource.png)"
"\learn\quick-collect-azurevm.md","122","log analytics","> [View or analyze data in Log Analytics](../../azure-monitor/learn/tutorial-viewdata.md)"
"\learn\quick-collect-linux-computer.md","2","log analytics","title: Configure Azure Log Analytics Agent for Hybrid Linux Computer | Microsoft Docs"
"\learn\quick-collect-linux-computer.md","3","log analytics","description: Learn how to deploy the Log Analytics agent for Linux running on computers outside of Azure and enable data collection with Log Analytics."
"\learn\quick-collect-linux-computer.md","19","log analytics","# Configure Log Analytics agent for Linux computers in a hybrid environment"
"\learn\quick-collect-linux-computer.md","20","log analytics","[Azure Log Analytics](../../azure-monitor/platform/agent-windows.md) can collect data directly from your physical or virtual Linux computer in your datacenter or other cloud environment into a single repository for detailed analysis and correlation.  This quickstart shows you how to configure and collect data from your Linux computer with a few easy steps.  For Azure Linux VMs, see the following topic [Collect data about Azure Virtual Machines](quick-collect-azurevm.md).  "
"\learn\quick-collect-linux-computer.md","30","log analytics","1. In the Azure portal, click **All services**. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**.<br><br> ![Azure portal](media/quick-collect-linux-computer/azure-portal-01.png)<br><br>  "
"\learn\quick-collect-linux-computer.md","33","log analytics","  * Provide a name for the new **Log Analytics workspace**, such as *DefaultLAWorkspace*. OMS workspaces are now referred to as Log Analytics workspaces.   "
"\learn\quick-collect-linux-computer.md","36","log analytics","  * Select the **Location** your VMs are deployed to.  For additional information, see which [regions Log Analytics is available in](https://azure.microsoft.com/regions/services/).  "
"\learn\quick-collect-linux-computer.md","37","log analytics","  * If you are creating a workspace in a new subscription created after April 2, 2018, it will automatically use the *Per GB* pricing plan and the option to select a pricing tier will not be available.  If you are creating a workspace for an existing subscription created before April 2, or to subscription that was tied to an existing EA enrollment, select your preferred pricing tier.  For additional information about the particular tiers, see [Log Analytics Pricing Details](https://azure.microsoft.com/pricing/details/log-analytics/)."
"\learn\quick-collect-linux-computer.md","39","log analytics","        ![Create Log Analytics resource blade](media/quick-collect-linux-computer/create-loganalytics-workspace-02.png)<br>  "
"\learn\quick-collect-linux-computer.md","41","log analytics","3. After providing the required information on the **Log Analytics workspace** pane, click **OK**.  "
"\learn\quick-collect-linux-computer.md","46","log analytics","Before installing the Log Analytics agent for Linux, you need the workspace ID and key for your Log Analytics workspace.  This information is required by the agent wrapper script to properly configure the agent and ensure it can successfully communicate with Log Analytics."
"\learn\quick-collect-linux-computer.md","50","log analytics","1. In the Azure portal, click **All services** found in the upper left-hand corner. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**."
"\learn\quick-collect-linux-computer.md","51","log analytics","2. In your list of Log Analytics workspaces, select *DefaultLAWorkspace* created earlier."
"\learn\quick-collect-linux-computer.md","52","log analytics","3. Select **Advanced settings**.<br><br> ![Log Analytics Advance Settings](media/quick-collect-linux-computer/log-analytics-advanced-settings-01.png)<br><br>  "
"\learn\quick-collect-linux-computer.md","57","log analytics","The following steps configure setup of the agent for Log Analytics in Azure and Azure Government cloud.  "
"\learn\quick-collect-linux-computer.md","60","log analytics",">The Log Analytics agent for Linux cannot be configured to report to more than one Log Analytics workspace.  "
"\learn\quick-collect-linux-computer.md","62","log analytics","If your Linux computer needs to communicate through a proxy server to Log Analytics, the proxy configuration can be specified on the command line by including `-p [protocol://][user:password@]proxyhost[:port]`.  The *proxyhost* property accepts a fully qualified domain name or IP address of the proxy server. "
"\learn\quick-collect-linux-computer.md","66","log analytics","1. To configure the Linux computer to connect to Log Analytics, run the following command providing the workspace ID and primary key copied earlier.  The following command downloads the agent, validates its checksum, and installs it. "
"\learn\quick-collect-linux-computer.md","78","log analytics","2. To configure the Linux computer to connect to Log Analytics in Azure Government cloud, run the following command providing the workspace ID and primary key copied earlier.  The following command downloads the agent, validates its checksum, and installs it. "
"\learn\quick-collect-linux-computer.md","103","log analytics","6. When you first configure Linux Performance counters for a new Log Analytics workspace, you are given the option to quickly create several common counters. They are listed with a checkbox next to each.<br><br> ![Default Windows performance counters selected](media/quick-collect-linux-computer/linux-perfcounters-default.png)<br> Click **Add the selected performance counters**.  They are added and preset with a ten second collection sample interval.  "
"\learn\quick-collect-linux-computer.md","109","log analytics","1. In the Azure portal, navigate to Log Analytics and select the workspace created earlier."
"\learn\quick-collect-linux-computer.md","110","log analytics","2. Click the **Log Search** tile and on the Log Search pane, in the query field type `Perf` and then hit enter or click the search button to the right of the query field.<br><br> ![Log Analytics log search query example](media/quick-collect-linux-computer/log-analytics-portal-queryexample.png)<br><br> For example, the query in the following image returned 735 Performance records.<br><br> ![Log Analytics log search result](media/quick-collect-linux-computer/log-analytics-search-perf.png)"
"\learn\quick-collect-linux-computer.md","113","log analytics","When no longer needed, you can remove the agent from the Linux computer and delete the Log Analytics workspace.  "
"\learn\quick-collect-linux-computer.md","119","log analytics","To delete the workspace, select the Log Analytics workspace you created earlier and on the resource page click **Delete**.<br><br> ![Delete Log Analytics resource](media/quick-collect-linux-computer/log-analytics-portal-delete-resource.png)"
"\learn\quick-collect-linux-computer.md","127","log analytics","> [View or analyze data in Log Analytics](../../azure-monitor/learn/tutorial-viewdata.md)"
"\learn\quick-collect-windows-computer.md","2","log analytics","title: Configure Azure Log Analytics Agent for Hybrid Windows Computer | Microsoft Docs"
"\learn\quick-collect-windows-computer.md","3","log analytics","description: Learn how to deploy the Log Analytics agent for Windows running on computers outside of Azure and enable data collection with Log Analytics."
"\learn\quick-collect-windows-computer.md","19","log analytics","# Configure Log Analytics agent for Windows computers in a hybrid environment"
"\learn\quick-collect-windows-computer.md","20","log analytics","[Azure Log Analytics](../../azure-monitor/platform/agent-windows.md) can collect data directly from your physical or virtual Windows computers in your datacenter or other cloud environment into a single repository for detailed analysis and correlation.  This quickstart shows you how to configure and collect data from your Windows computer with a few easy steps.  For Azure Windows VMs, see the following topic [Collect data about Azure Virtual Machines](../../azure-monitor/learn/quick-collect-azurevm.md).  "
"\learn\quick-collect-windows-computer.md","30","log analytics","1. In the Azure portal, click **All services**. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**.<br><br> ![Azure portal](media/quick-collect-windows-computer/azure-portal-01.png)<br><br>  "
"\learn\quick-collect-windows-computer.md","33","log analytics","  * Provide a name for the new **Log Analytics Workspace**, such as *DefaultLAWorkspace*. "
"\learn\quick-collect-windows-computer.md","36","log analytics","  * Select the **Location** your VMs are deployed to.  For additional information, see which [regions Log Analytics is available in](https://azure.microsoft.com/regions/services/).  "
"\learn\quick-collect-windows-computer.md","37","log analytics","  * If you are creating a workspace in a new subscription created after April 2, 2018, it will automatically use the *Per GB* pricing plan and the option to select a pricing tier will not be available.  If you are creating a workspace for an existing subscription created before April 2, or to subscription that was tied to an existing EA enrollment, select your preferred pricing tier.  For additional information about the particular tiers, see [Log Analytics Pricing Details](https://azure.microsoft.com/pricing/details/log-analytics/)."
"\learn\quick-collect-windows-computer.md","39","log analytics","        ![Create Log Analytics resource blade](media/quick-collect-windows-computer/create-loganalytics-workspace-02.png)<br>  "
"\learn\quick-collect-windows-computer.md","41","log analytics","3. After providing the required information on the **Log Analytics Workspace** pane, click **OK**.  "
"\learn\quick-collect-windows-computer.md","46","log analytics","Before installing the Microsoft Monitoring Agent for Windows, you need the workspace ID and key for your Log Analytics workspace.  This information is required by the setup wizard to properly configure the agent and ensure it can successfully communicate with Log Analytics.  "
"\learn\quick-collect-windows-computer.md","48","log analytics","1. In the Azure portal, click **All services** found in the upper left-hand corner. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**."
"\learn\quick-collect-windows-computer.md","49","log analytics","2. In your list of Log Analytics workspaces, select *DefaultLAWorkspace* created earlier."
"\learn\quick-collect-windows-computer.md","50","log analytics","3. Select **Advanced settings**.<br><br> ![Log Analytics Advance Settings](media/quick-collect-windows-computer/log-analytics-advanced-settings-01.png)<br><br>  "
"\learn\quick-collect-windows-computer.md","55","log analytics","The following steps install and configure the agent for Log Analytics in Azure and Azure Government cloud using setup for the Microsoft Monitoring Agent on your computer.  "
"\learn\quick-collect-windows-computer.md","62","log analytics","5. On the **Agent Setup Options** page, choose to connect the agent to Azure Log Analytics and then click **Next**.   "
"\learn\quick-collect-windows-computer.md","63","log analytics","6. On the **Azure Log Analytics** page, perform the following:"
"\learn\quick-collect-windows-computer.md","64","log analytics","   1. Paste the **Workspace ID** and **Workspace Key (Primary Key)** that you copied earlier.  If the computer should report to a Log Analytics workspace in Azure Government cloud, select **Azure US Government** from the **Azure Cloud** drop-down list.  "
"\learn\quick-collect-windows-computer.md","65","log analytics","   2. If the computer needs to communicate through a proxy server to the Log Analytics service, click **Advanced** and provide the URL and port number of the proxy server.  If your proxy server requires authentication, type the username and password to authenticate with the proxy server and then click **Next**.  "
"\learn\quick-collect-windows-computer.md","70","log analytics","When complete, the **Microsoft Monitoring Agent** appears in **Control Panel**. You can review your configuration and verify that the agent is connected to Log Analytics. When connected, on the **Azure Log Analytics** tab, the agent displays a message stating: **The Microsoft Monitoring Agent has successfully connected to the Microsoft Log Analytics service.**<br><br> ![MMA connection status to Log Analytics](media/quick-collect-windows-computer/log-analytics-mma-laworkspace-status.png)"
"\learn\quick-collect-windows-computer.md","75","log analytics","1. In the Azure portal, click **More services** found on the lower left-hand corner. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**."
"\learn\quick-collect-windows-computer.md","76","log analytics","2. Select **Advanced settings**.<br><br> ![Log Analytics Advance Settings](media/quick-collect-windows-computer/log-analytics-advanced-settings-01.png)<br><br> "
"\learn\quick-collect-windows-computer.md","82","log analytics","8. When you first configure Windows Performance counters for a new Log Analytics workspace, you are given the option to quickly create several common counters. They are listed with a checkbox next to each.<br> ![Default Windows performance counters selected](media/quick-collect-windows-computer/windows-perfcounters-default.png).<br> Click **Add the selected performance counters**.  They are added and preset with a ten second collection sample interval.  "
"\learn\quick-collect-windows-computer.md","89","log analytics","2. On the Log Search pane, in the query field type `Perf` and then hit enter or click the search button to the right of the query field.<br><br> ![Log Analytics log search query example](media/quick-collect-windows-computer/log-analytics-portal-queryexample.png)<br><br> For example, the query in the following image returned 735 Performance records.<br><br> ![Log Analytics log search result](media/quick-collect-windows-computer/log-analytics-search-perf.png)"
"\learn\quick-collect-windows-computer.md","92","log analytics","When no longer needed, you can remove the agent from the Windows computer and delete the Log Analytics workspace.  "
"\learn\quick-collect-windows-computer.md","100","log analytics","To delete the workspace, select the Log Analytics workspace you created earlier and on the resource page click **Delete**.<br><br> ![Delete Log Analytics resource](media/quick-collect-windows-computer/log-analytics-portal-delete-resource.png)"
"\learn\quick-collect-windows-computer.md","108","log analytics","> [View or analyze data in Log Analytics](tutorial-viewdata.md)"
"\learn\quick-create-workspace-cli.md","2","log analytics","title: Create a Log Analytics workspace using Azure CLI | Microsoft Docs"
"\learn\quick-create-workspace-cli.md","3","log analytics","description: Learn how to create a Log Analytics workspace to enable management solutions and data collection from your cloud and on-premises environments with Azure CLI."
"\learn\quick-create-workspace-cli.md","3","management solution","description: Learn how to create a Log Analytics workspace to enable management solutions and data collection from your cloud and on-premises environments with Azure CLI."
"\learn\quick-create-workspace-cli.md","18","log analytics","# Create a Log Analytics workspace with Azure CLI 2.0"
"\learn\quick-create-workspace-cli.md","20","log analytics","The Azure CLI 2.0 is used to create and manage Azure resources from the command line or in scripts. This quickstart shows you how to use Azure CLI 2.0 to deploy a Log Analytics workspace in Azure, which is a unique environment with its own data repository, data sources, and solutions.  The steps described in this article are required if you intend on collecting data from the following sources:"
"\learn\quick-create-workspace-cli.md","48","log analytics",">If creating or configuring a Log Analytics workspace in a subscription that has opted into the new April 2018 pricing model, the only valid Log Analytics pricing tier is **PerGB2018**. "
"\learn\quick-create-workspace-cli.md","122","management solution","Now that you have a workspace available, you can configure collection of monitoring telemetry, run log searches to analyze that data, and add a management solution to provide additional data and analytic insights.  "
"\learn\quick-create-workspace-cli.md","124","log analytics","* To enable data collection from Azure resources with Azure Diagnostics or Azure storage, see [Collect Azure service logs and metrics for use in Log Analytics](../../azure-monitor/platform/collect-azure-metrics-logs.md).  "
"\learn\quick-create-workspace-cli.md","125","log analytics","* Add [System Center Operations Manager as a data source](../../azure-monitor/platform/om-agents.md) to collect data from agents reporting your Operations Manager management group and store it in your Log Analytics workspace.  "
"\learn\quick-create-workspace-cli.md","127","management solution","* Review the [management solutions](../../azure-monitor/insights/solutions.md) available and how to add or remove a solution from your workspace."
"\learn\quick-create-workspace-posh.md","2","log analytics","title: Create a Log Analytics workspace using Azure PowerShell| Microsoft Docs"
"\learn\quick-create-workspace-posh.md","3","log analytics","description: Learn how to create a Log Analytics workspace to enable management solutions and data collection from your cloud and on-premises environments with Azure PowerShell."
"\learn\quick-create-workspace-posh.md","3","management solution","description: Learn how to create a Log Analytics workspace to enable management solutions and data collection from your cloud and on-premises environments with Azure PowerShell."
"\learn\quick-create-workspace-posh.md","18","log analytics","# Create a Log Analytics workspace with Azure PowerShell"
"\learn\quick-create-workspace-posh.md","20","log analytics","The Azure PowerShell module is used to create and manage Azure resources from the PowerShell command line or in scripts. This quickstart shows you how to use the Azure PowerShell module to deploy a Log Analytics workspace in Azure, which is a unique environment with its own data repository, data sources, and solutions.  The steps described in this article are required if you intend on collecting data from the following sources:"
"\learn\quick-create-workspace-posh.md","48","log analytics",">If creating or configuring a Log Analytics workspace in a subscription that has opted into the new April 2018 pricing model, the only valid Log Analytics pricing tier is **PerGB2018**. "
"\learn\quick-create-workspace-posh.md","122","management solution","Now that you have a workspace available, you can configure collection of monitoring telemetry, run log searches to analyze that data, and add a management solution to provide additional data and analytic insights.  "
"\learn\quick-create-workspace-posh.md","124","log analytics","* To enable data collection from Azure resources with Azure Diagnostics or Azure storage, see [Collect Azure service logs and metrics for use in Log Analytics](../../azure-monitor/platform/collect-azure-metrics-logs.md).  "
"\learn\quick-create-workspace-posh.md","125","log analytics","* Add [System Center Operations Manager as a data source](../../azure-monitor/platform/om-agents.md) to collect data from agents reporting your Operations Manager management group and store it in your Log Analytics workspace.  "
"\learn\quick-create-workspace-posh.md","127","management solution","* Review the [management solutions](../../azure-monitor/insights/solutions.md) available and how to add or remove a solution from your workspace."
"\learn\quick-create-workspace.md","2","log analytics","title: Create a Log Analytics workspace in the Azure Portal | Microsoft Docs"
"\learn\quick-create-workspace.md","3","log analytics","description: Learn how to create a Log Analytics workspace to enable management solutions and data collection from your cloud and on-premises environments in the Azure portal."
"\learn\quick-create-workspace.md","3","management solution","description: Learn how to create a Log Analytics workspace to enable management solutions and data collection from your cloud and on-premises environments in the Azure portal."
"\learn\quick-create-workspace.md","18","log analytics","# Create a Log Analytics workspace in the Azure portal"
"\learn\quick-create-workspace.md","19","log analytics","In the Azure portal you can set up a Log Analytics workspace, which is a unique Log Analytics environment with its own data repository, data sources, and solutions.  The steps described in this article are required if you intend on collecting data from the following sources:"
"\learn\quick-create-workspace.md","38","log analytics","1. In the Azure portal, click **All services**. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**."
"\learn\quick-create-workspace.md","44","log analytics","  * Provide a name for the new **Log Analytics Workspace**, such as *DefaultLAWorkspace*. "
"\learn\quick-create-workspace.md","47","log analytics","  * Select an available **Location**.  For more information, see which [regions Log Analytics is available in](https://azure.microsoft.com/regions/services/)."
"\learn\quick-create-workspace.md","48","log analytics","  * If you are creating a workspace in a new subscription created after April 2, 2018, it will automatically use the *Per GB* pricing plan and the option to select a pricing tier will not be available.  If you are creating a workspace for an existing subscription created before April 2, or to subscription that was tied to an existing Enterprise Agreement (EA) enrollment, select your preferred pricing tier.  For more information about the particular tiers, see [Log Analytics Pricing Details](https://azure.microsoft.com/pricing/details/log-analytics/)."
"\learn\quick-create-workspace.md","50","log analytics","        ![Create Log Analytics resource blade](media/quick-create-workspace/create-loganalytics-workspace-02.png)  "
"\learn\quick-create-workspace.md","52","log analytics","3. After providing the required information on the **Log Analytics Workspace** pane, click **OK**.  "
"\learn\quick-create-workspace.md","57","management solution","Now that you have a workspace available, you can configure collection of monitoring telemetry, run log searches to analyze that data, and add a management solution to provide additional data and analytic insights. "
"\learn\quick-create-workspace.md","59","log analytics","* To enable data collection from Azure resources with Azure Diagnostics or Azure storage, see [Collect Azure service logs and metrics for use in Log Analytics](../../azure-monitor/platform/collect-azure-metrics-logs.md).  "
"\learn\quick-create-workspace.md","60","log analytics","* [Add System Center Operations Manager as a data source](../../azure-monitor/platform/om-agents.md) to collect data from agents reporting your Operations Manager management group and store it in your Log Analytics workspace. "
"\learn\quick-create-workspace.md","62","management solution","* Review the [management solutions](https://docs.microsoft.com/azure/monitoring/monitoring-solutions-inventory?toc=%2fazure%2flog-analytics%2ftoc.json) available and how to add or remove a solution from your workspace."
"\learn\tutorial-logs-dashboards.md","2","log analytics","title: Create and share dashboards of Azure Log Analytics data | Microsoft Docs"
"\learn\tutorial-logs-dashboards.md","3","log analytics","description: This tutorial helps you understand how Log Analytics dashboards can visualize all of your saved log searches, giving you a single lens to view your environment."
"\learn\tutorial-logs-dashboards.md","19","log analytics","# Create and share dashboards of Log Analytics data"
"\learn\tutorial-logs-dashboards.md","29","log analytics","To complete the example in this tutorial, you must have an existing virtual machine [connected to the Log Analytics workspace](../../azure-monitor/learn/quick-collect-azurevm.md).  "
"\learn\tutorial-logs-dashboards.md","38","log analytics","Here you can bring together operational data that is most important to IT across all your Azure resources, including telemetry from Azure Log Analytics.  Before we step into visualizing a log search, let's first create a dashboard and share it.  This allows us to get it out of the way before we take our example performance log search, which will render as a line chart, and add it to the dashboard.  "
"\learn\tutorial-logs-dashboards.md","52","log analytics","The [Log Analytics portal](../../azure-monitor/log-query/get-started-portal.md) is a dedicated portal that provides advanced functionality not available in the Log Search portal. Features include the ability to edit a query on multiple lines, selectively execute code, context sensitive Intellisense, and Smart Analytics. In the Advanced Analytics portal, you will create a performance view in graphical form, save it for a future search, and pin it to the shared dashboard created earlier.   "
"\learn\tutorial-logs-dashboards.md","72","log analytics","> [Respond to events with Log Analytics Alerts](tutorial-response.md)"
"\learn\tutorial-response.md","2","log analytics","title: Respond to events with Azure Log Analytics Alerts | Microsoft Docs"
"\learn\tutorial-response.md","3","log analytics","description: This tutorial helps you understand alerting with Log Analytics to identify important information in your workspace and proactively notify you of issues or invoke actions to attempt to correct them."
"\learn\tutorial-response.md","20","log analytics","Alerts in Azure Monitor can identify important information in your Log Analytics repository. They are created by alert rules that automatically run log searches at regular intervals, and if results of the log search match particular criteria, then an alert record is created and it can be configured to perform an automated response.  This tutorial is a continuation of the [Create and share dashboards of Log Analytics data](tutorial-logs-dashboards.md) tutorial.   "
"\learn\tutorial-response.md","28","log analytics","To complete the example in this tutorial, you must have an existing virtual machine [connected to the Log Analytics workspace](../../azure-monitor/learn/quick-collect-azurevm.md).  "
"\learn\tutorial-response.md","38","log analytics","1. In the Azure portal, click **All services**. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**."
"\learn\tutorial-response.md","40","log analytics","3. For the first step, under the **Create Alert** section, you are going to select your Log Analytics workspace as the resource, since this is a log based alert signal.  Filter the results by choosing the specific **Subscription** from the drop-down list if you have more than one, which contains the VM and Log Analytics workspace created earlier.  Filter the **Resource Type** by selecting **Log Analytics** from the drop-down list.  Finally, select the **Resource** **DefaultLAWorkspace** and then click **Done**.<br><br> ![Create alert step 1 task](./media/tutorial-response/alert-rule-03.png)<br>"
"\learn\tutorial-response.md","71","log analytics","Follow this link to see pre-built Log Analytics script samples.  "
"\learn\tutorial-response.md","74","log analytics","> [Log Analytics script samples](../../azure-monitor/platform/powershell-samples.md)"
"\learn\tutorial-viewdata.md","2","log analytics","title: View or analyze Azure Log Analytics data collected | Microsoft Docs"
"\learn\tutorial-viewdata.md","3","log analytics","description: This article includes a tutorial that describes how to create log searches and analyze data stored in your Log Analytics resource using the Log Search portal.  The tutorial includes running some simple queries to return different types of data and analyzing results."
"\learn\tutorial-viewdata.md","18","log analytics","# View or analyze data collected with Log Analytics log search"
"\learn\tutorial-viewdata.md","20","log analytics","In Log Analytics you can leverage log searches by constructing queries to analyze the collected data, use pre-existing dashboards which you can customize with graphical views of your most valuable searches.  Now that you have defined collection of operational data from your Azure VMs and Activity Logs, in this tutorial you learn how to:"
"\learn\tutorial-viewdata.md","26","log analytics","To complete the example in this tutorial, you must have an existing virtual machine [connected to the Log Analytics workspace](../../azure-monitor/learn/quick-collect-azurevm.md).  "
"\learn\tutorial-viewdata.md","28","log analytics","Creating and editing queries, in addition to working interactively with returned data, can be accomplished one of two ways.  For basic queries, use the Log Search page in the Azure portal, or for advanced querying, you can use the Advanced Analytics portal. To learn more about the difference in functionality between the two portals, see [Portals for creating and editing log queries in Azure Log Analytics](../../azure-monitor/log-query/portals.md)"
"\learn\tutorial-viewdata.md","39","log analytics","2. On the Monitor navigation menu, select **Log Analytics** and then select a workspace."
"\learn\tutorial-viewdata.md","81","kusto","You can group the results on a single property by selecting the **Group by** option in the record menu.  This will add a [summarize](/azure/kusto/query/summarizeoperator) operator to your query that displays the results in a chart.  You can group on more than one property, but you would need to edit the query directly.  Select the record menu next the **Computer** property and select **Group by 'Computer'**.  "
"\learn\tutorial-viewdata.md","110","log analytics","Performance data for both Windows and Linux agents is stored in the Log Analytics workspace in the **Perf** table.  Performance records look just like any other record, and we are going to write a simple query that returns all performance records just like with events."
"\learn\tutorial-viewdata.md","126","kusto","This limits the data to a particular counter, but it still doesn't put it in a form that's particularly useful.  You can display the data in a line chart, but first need to group it by Computer and TimeGenerated.  To group on multiple fields, you need to modify the query directly, so modify the query to the following.  This uses the [avg](/azure/kusto/query/avg-aggfunction) function on the **CounterValue** property to calculate the average value over each hour."
"\learn\tutorial-viewdata.md","136","kusto","Now that the data is suitably grouped, you can display it in a visual chart by adding the [render](/azure/kusto/query/renderoperator) operator.  "
"\learn\tutorial-viewdata.md","151","log analytics","> [Create and share Log Analytics dashboards](tutorial-logs-dashboards.md)"
"\log-query\advanced-aggregations.md","2","log analytics","title: Advanced aggregations in Azure Log Analytics queries| Microsoft Docs"
"\log-query\advanced-aggregations.md","3","log analytics","description: Describes some of the more advanced aggregation options available to Log Analytics queries."
"\log-query\advanced-aggregations.md","18","log analytics","# Advanced aggregations in Log Analytics queries"
"\log-query\advanced-aggregations.md","21","log analytics","> You should complete [Aggregations in Log Analytics queries](./aggregations.md) before completing this lesson."
"\log-query\advanced-aggregations.md","25","log analytics","This article describes some of the more advanced aggregation options available to Log Analytics queries."
"\log-query\advanced-aggregations.md","30","kusto","```Kusto"
"\log-query\advanced-aggregations.md","46","kusto","```Kusto"
"\log-query\advanced-aggregations.md","63","kusto","```Kusto"
"\log-query\advanced-aggregations.md","78","kusto","```Kusto"
"\log-query\advanced-aggregations.md","99","kusto","```Kusto"
"\log-query\advanced-aggregations.md","117","kusto","```Kusto"
"\log-query\advanced-aggregations.md","133","kusto","```Kusto"
"\log-query\advanced-aggregations.md","145","kusto","```Kusto"
"\log-query\advanced-aggregations.md","167","kusto","```Kusto"
"\log-query\advanced-aggregations.md","179","log analytics","See other lessons for using the Log Analytics query language:"
"\log-query\advanced-aggregations.md","179","log analytics query language","See other lessons for using the Log Analytics query language:"
"\log-query\advanced-query-writing.md","2","log analytics","title: Advanced queries in Azure Log Analytics | Microsoft Docs"
"\log-query\advanced-query-writing.md","3","log analytics","description: This article provides a tutorial for using the Analytics portal to write queries in Log Analytics."
"\log-query\advanced-query-writing.md","19","log analytics","# Writing advanced queries in Log Analytics"
"\log-query\advanced-query-writing.md","29","kusto","```Kusto"
"\log-query\advanced-query-writing.md","41","kusto","```Kusto"
"\log-query\advanced-query-writing.md","62","kusto","```Kusto"
"\log-query\advanced-query-writing.md","77","kusto","```Kusto"
"\log-query\advanced-query-writing.md","85","kusto","```Kusto"
"\log-query\advanced-query-writing.md","102","kusto","```Kusto"
"\log-query\advanced-query-writing.md","129","log analytics","See other lessons for using the Log Analytics query language:"
"\log-query\advanced-query-writing.md","129","log analytics query language","See other lessons for using the Log Analytics query language:"
"\log-query\aggregations.md","2","log analytics","title: Aggregations in Azure Log Analytics queries| Microsoft Docs"
"\log-query\aggregations.md","3","log analytics","description: Describes aggregation functions in Log Analytics queries that offer useful ways to analyze your data."
"\log-query\aggregations.md","19","log analytics","# Aggregations in Log Analytics queries"
"\log-query\aggregations.md","26","log analytics","This article describes aggregation functions in Log Analytics queries that offer useful ways to analyze your data. These functions all work with the `summarize` operator that produces a  table with aggregated results of the input table."
"\log-query\aggregations.md","34","kusto","```Kusto"
"\log-query\aggregations.md","40","kusto","```Kusto"
"\log-query\aggregations.md","48","kusto","```Kusto"
"\log-query\aggregations.md","63","kusto","```Kusto"
"\log-query\aggregations.md","71","kusto","```Kusto"
"\log-query\aggregations.md","80","kusto","```Kusto"
"\log-query\aggregations.md","97","kusto","```Kusto"
"\log-query\aggregations.md","109","kusto","```Kusto"
"\log-query\aggregations.md","118","kusto","```Kusto"
"\log-query\aggregations.md","130","kusto","```Kusto"
"\log-query\aggregations.md","139","kusto","```Kusto"
"\log-query\aggregations.md","146","log analytics","See other lessons for using the Log Analytics query language:"
"\log-query\aggregations.md","146","log analytics query language","See other lessons for using the Log Analytics query language:"
"\log-query\app-expression.md","2","log analytics","title: app() expression in Azure Log Analytics query | Microsoft Docs"
"\log-query\app-expression.md","3","log analytics","description: The app expression is used in a Log Analytics query to retrieve data from a specific Application Insights app in the same resource group, another resource group, or another subscription."
"\log-query\app-expression.md","18","log analytics","# app() expression in Log Analytics query"
"\log-query\app-expression.md","20","log analytics","The `app` expression is used in a Log Analytics query to retrieve data from a specific Application Insights app in the same resource group, another resource group, or another subscription. This is useful to include application data in a Log Analytics query and to query data across multiple applications in an Application Insights query."
"\log-query\app-expression.md","45","log analytics","* Use the related expression [workspace](workspace-expression.md) to query across Log Analytics workspaces."
"\log-query\app-expression.md","49","kusto","```Kusto"
"\log-query\app-expression.md","52","kusto","```Kusto"
"\log-query\app-expression.md","55","kusto","```Kusto"
"\log-query\app-expression.md","58","kusto","```Kusto"
"\log-query\app-expression.md","61","kusto","```Kusto"
"\log-query\app-expression.md","67","kusto","```Kusto"
"\log-query\app-expression.md","75","log analytics","- See the [workspace expression](workspace-expression.md) to refer to Log Analytics workspace."
"\log-query\app-expression.md","76","log analytics","- Read about how [Log Analytics data](../../azure-monitor/log-query/log-query-overview.md) is stored."
"\log-query\charts.md","2","log analytics","title: Creating charts and diagrams from Azure Log Analytics queries | Microsoft Docs"
"\log-query\charts.md","3","log analytics","description: Describes various visualizations in Azure Log Analytics to display your data in different ways."
"\log-query\charts.md","18","log analytics","# Creating charts and diagrams from Log Analytics queries"
"\log-query\charts.md","21","log analytics","> You should complete [Advanced aggregations in Log Analytics queries](advanced-aggregations.md) before completing this lesson."
"\log-query\charts.md","25","log analytics","This article describes various visualizations in Azure Log Analytics to display your data in different ways."
"\log-query\charts.md","30","kusto","```Kusto"
"\log-query\charts.md","48","kusto","```Kusto"
"\log-query\charts.md","63","kusto","```Kusto"
"\log-query\charts.md","76","kusto","```Kusto"
"\log-query\charts.md","91","log analytics","See other lessons for using the Log Analytics query language:"
"\log-query\charts.md","91","log analytics query language","See other lessons for using the Log Analytics query language:"
"\log-query\cross-workspace-query.md","2","log analytics","title: Search across resources with Azure Log Analytics  | Microsoft Docs"
"\log-query\cross-workspace-query.md","18","log analytics","# Perform cross-resource log searches in Log Analytics  "
"\log-query\cross-workspace-query.md","20","log analytics","Previously with Azure Log Analytics, you could only analyze data from within the current workspace, and it limited your ability to query across multiple workspaces defined in your subscription.  Additionally, you could only search telemetry items collected from your web-based application with Application Insights directly in Application Insights or from Visual Studio.  This also made it a challenge to natively analyze operational and application data together.   "
"\log-query\cross-workspace-query.md","22","log analytics","Now you can query not only across multiple Log Analytics workspaces, but also data from a specific Application Insights app in the same resource group, another resource group, or another subscription. This provides you with a system-wide view of your data.  You can only perform these types of queries in [Log Analytics](portals.md#log-analytics-page). The number of resources (Log Analytics workspaces and Application Insights app) that you can include in a single query is limited to 100. "
"\log-query\cross-workspace-query.md","24","log analytics","## Querying across Log Analytics workspaces and from Application Insights"
"\log-query\cross-workspace-query.md","28","log analytics","The following examples demonstrate queries across Log Analytics workspaces to return summarized counts of logs from the Update table on a workspace named *contosoretail-it*. "
"\log-query\cross-workspace-query.md","99","log analytics","When using cross-resource queries to correlate data from multiple Log Analytics and Application Insights resources, the query can become complex and difficult to maintain. You should leverage [functions in Log Analytics](../../azure-monitor/log-query/functions.md) to separate the query logic from the scoping of the query resources, which simplifies the query structure. The following example demonstrates how you can monitor multiple Application Insights resources and visualize the count of failed requests by application name. "
"\log-query\cross-workspace-query.md","103","kusto","```Kusto"
"\log-query\cross-workspace-query.md","117","kusto","```Kusto"
"\log-query\cross-workspace-query.md","130","log analytics","Review the [Log Analytics log search reference](https://docs.microsoft.com/azure/log-analytics/query-language/kusto) to view all of the query syntax options available in Log Analytics.    "
"\log-query\cross-workspace-query.md","130","kusto","Review the [Log Analytics log search reference](https://docs.microsoft.com/azure/log-analytics/query-language/kusto) to view all of the query syntax options available in Log Analytics.    "
"\log-query\data-explorer-difference.md","2","log analytics","title: Azure Monitor Log Analytics language reference | Microsoft Docs"
"\log-query\data-explorer-difference.md","3","log analytics","description: Reference information for Data Explorer query language used by Log Analytics. Includes additional elements specific to Log Analytics and elements not supported in Log Analytics queries."
"\log-query\data-explorer-difference.md","18","log analytics","# Log Analytics query language differences"
"\log-query\data-explorer-difference.md","18","log analytics query language","# Log Analytics query language differences"
"\log-query\data-explorer-difference.md","20","log analytics","While [Log Analytics](log-query-overview.md) is built on [Azure Data Explorer](/azure/data-explorer) and uses the [same query language](/azure/kusto/query), the version of the language does have some differences. This article identifies elements that are different between the version of the language used for Data Explorer and the version used for Log Analytics queries."
"\log-query\data-explorer-difference.md","20","kusto","While [Log Analytics](log-query-overview.md) is built on [Azure Data Explorer](/azure/data-explorer) and uses the [same query language](/azure/kusto/query), the version of the language does have some differences. This article identifies elements that are different between the version of the language used for Data Explorer and the version used for Log Analytics queries."
"\log-query\data-explorer-difference.md","22","log analytics","## Data Explorer elements not supported in Log Analytics"
"\log-query\data-explorer-difference.md","23","log analytics","The following sections describe elements of the Data Explorer query language that aren't supported by Log Analytics."
"\log-query\data-explorer-difference.md","25","log analytics","### Statements not supported in Log Analytics"
"\log-query\data-explorer-difference.md","27","kusto","* [Alias](/azure/kusto/query/aliasstatement)"
"\log-query\data-explorer-difference.md","28","kusto","* [Query parameters](/azure/kusto/query/queryparametersstatement)"
"\log-query\data-explorer-difference.md","30","log analytics","### Functions not supported in Log Analytics"
"\log-query\data-explorer-difference.md","32","kusto","* [cluster()](/azure/kusto/query/clusterfunction)"
"\log-query\data-explorer-difference.md","33","kusto","* [cursor_after()](/azure/kusto/query/cursorafterfunction)"
"\log-query\data-explorer-difference.md","34","kusto","* [cursor_before_or_at()](/azure/kusto/query/cursorbeforeoratfunction)"
"\log-query\data-explorer-difference.md","35","kusto","* [cursor_current(), current_cursor()](/azure/kusto/query/cursorcurrent)"
"\log-query\data-explorer-difference.md","36","kusto","* [database()](/azure/kusto/query/databasefunction)"
"\log-query\data-explorer-difference.md","37","kusto","* [current_principal()](/azure/kusto/query/current-principalfunction)"
"\log-query\data-explorer-difference.md","38","kusto","* [extent_id()](/azure/kusto/query/extentidfunction)"
"\log-query\data-explorer-difference.md","39","kusto","* [extent_tags()](/azure/kusto/query/extenttagsfunction)"
"\log-query\data-explorer-difference.md","41","log analytics","### Operators not supported in Log Analytics"
"\log-query\data-explorer-difference.md","43","kusto","* [Cross-Cluster Join](/azure/kusto/query/joincrosscluster)"
"\log-query\data-explorer-difference.md","44","kusto","* [externaldata operator](/azure/kusto/query/externaldata-operator)"
"\log-query\data-explorer-difference.md","46","log analytics","### Plugins not supported in Log Analytics"
"\log-query\data-explorer-difference.md","48","kusto","* [sql_request plugin](/azure/kusto/query/sqlrequestplugin)"
"\log-query\data-explorer-difference.md","51","log analytics","## Additional operators in Log Analytics"
"\log-query\data-explorer-difference.md","52","log analytics","The following operators support specific Log Analytics features and are not available outside of Log Analytics."
"\log-query\data-explorer-difference.md","59","log analytics","- Get references to different [resources for writing Log Analytics queries](query-language.md)."
"\log-query\data-explorer-difference.md","60","kusto","- Access the complete [reference documentation for Data Explorer query language](/azure/kusto/query/)."
"\log-query\datetime-operations.md","2","log analytics","title: Working with date time values in Azure Log Analytics queries| Microsoft Docs"
"\log-query\datetime-operations.md","3","log analytics","description: Describes how to work with date and time data in Log Analytics queries."
"\log-query\datetime-operations.md","18","log analytics","# Working with date time values in Log Analytics queries"
"\log-query\datetime-operations.md","25","log analytics","This article describes how to work with date and time data in Log Analytics queries."
"\log-query\datetime-operations.md","29","log analytics","The Log Analytics query language has two main data types associated with dates and times: datetime and timespan. All dates are expressed in UTC. While multiple datetime formats are supported, the ISO8601 format is preferred. "
"\log-query\datetime-operations.md","29","log analytics query language","The Log Analytics query language has two main data types associated with dates and times: datetime and timespan. All dates are expressed in UTC. While multiple datetime formats are supported, the ISO8601 format is preferred. "
"\log-query\datetime-operations.md","43","kusto","Datetimes can be created by casting a string using the `todatetime` operator. For example, to review the VM heartbeats sent in a specific timeframe, you can make use of the [between operator](/azure/kusto/query/betweenoperator) which is convenient to specify a time range.."
"\log-query\datetime-operations.md","45","kusto","```Kusto"
"\log-query\datetime-operations.md","52","kusto","```Kusto"
"\log-query\datetime-operations.md","58","kusto","```Kusto"
"\log-query\datetime-operations.md","64","kusto","```Kusto"
"\log-query\datetime-operations.md","71","kusto","```Kusto"
"\log-query\datetime-operations.md","82","kusto","```Kusto"
"\log-query\datetime-operations.md","91","kusto","```Kusto"
"\log-query\datetime-operations.md","105","kusto","```Kusto"
"\log-query\datetime-operations.md","123","kusto","```Kusto"
"\log-query\datetime-operations.md","143","kusto","```Kusto"
"\log-query\datetime-operations.md","152","kusto","| Convert data types | [todatetime](/azure/kusto/query/todatetimefunction)  [totimespan](/azure/kusto/query/totimespanfunction)  |"
"\log-query\datetime-operations.md","153","kusto","| Round value to bin size | [bin](/azure/kusto/query/binfunction) |"
"\log-query\datetime-operations.md","154","kusto","| Get a specific date or time | [ago](/azure/kusto/query/agofunction) [now](/azure/kusto/query/nowfunction)   |"
"\log-query\datetime-operations.md","155","kusto","| Get part of value | [datetime_part](/azure/kusto/query/datetime-partfunction) [getmonth](/azure/kusto/query/getmonthfunction) [monthofyear](/azure/kusto/query/monthofyearfunction) [getyear](/azure/kusto/query/getyearfunction) [dayofmonth](/azure/kusto/query/dayofmonthfunction) [dayofweek](/azure/kusto/query/dayofweek) [dayofyear](/azure/kusto/query/dayofyearfunction) [weekofyear](/azure/kusto/query/weekofyearfunction) |"
"\log-query\datetime-operations.md","156","kusto","| Get a date relative to value  | [endofday](/azure/kusto/query/endofdayfunction) [endofweek](/azure/kusto/query/endofweekfunction) [endofmonth](/azure/kusto/query/endofmonthfunction) [endofyear](/azure/kusto/query/endofyearfunction) [startofday](/azure/kusto/query/startofdayfunction) [startofweek](/azure/kusto/query/startofweekfunction) [startofmonth](/azure/kusto/query/startofmonthfunction) [startofyear](/azure/kusto/query/startofyearfunction) |"
"\log-query\datetime-operations.md","159","log analytics","See other lessons for using the Log Analytics query language:"
"\log-query\datetime-operations.md","159","log analytics query language","See other lessons for using the Log Analytics query language:"
"\log-query\examples.md","2","log analytics","title: Azure Monitor Log Analytics query examples | Microsoft Docs"
"\log-query\examples.md","3","log analytics","description: Examples of queries in Log Analytics using the Kusto language."
"\log-query\examples.md","3","kusto","description: Examples of queries in Log Analytics using the Kusto language."
"\log-query\examples.md","19","log analytics","# Log Analytics query examples"
"\log-query\examples.md","20","log analytics","This article includes various examples of [queries](../../azure-monitor/log-query/log-query-overview.md) using the [Kusto language](https://docs.microsoft.com/azure/kusto/query/) to retrieve different types of data from Log Analytics. Different methods are used to consolidate and analyze data, so you can use these samples to identify different strategies that you might use for your own requirements.  "
"\log-query\examples.md","20","kusto","This article includes various examples of [queries](../../azure-monitor/log-query/log-query-overview.md) using the [Kusto language](https://docs.microsoft.com/azure/kusto/query/) to retrieve different types of data from Log Analytics. Different methods are used to consolidate and analyze data, so you can use these samples to identify different strategies that you might use for your own requirements.  "
"\log-query\examples.md","22","log analytics","See the [Kusto language reference](https://docs.microsoft.com/azure/kusto/query/) for details on the different keywords used in these samples. Go through a [lesson on creating queries](get-started-queries.md) if you're new to Log Analytics."
"\log-query\examples.md","22","kusto","See the [Kusto language reference](https://docs.microsoft.com/azure/kusto/query/) for details on the different keywords used in these samples. Go through a [lesson on creating queries](get-started-queries.md) if you're new to Log Analytics."
"\log-query\examples.md","29","kusto","```Kusto"
"\log-query\examples.md","39","kusto","```Kusto"
"\log-query\examples.md","49","kusto","```Kusto"
"\log-query\examples.md","59","kusto","```Kusto"
"\log-query\examples.md","70","kusto","```Kusto"
"\log-query\examples.md","80","kusto","```Kusto"
"\log-query\examples.md","93","kusto","```Kusto"
"\log-query\examples.md","111","kusto","```Kusto"
"\log-query\examples.md","121","kusto","```Kusto"
"\log-query\examples.md","133","kusto","```Kusto"
"\log-query\examples.md","142","kusto","```Kusto"
"\log-query\examples.md","151","kusto","```Kusto"
"\log-query\examples.md","162","kusto","```Kusto"
"\log-query\examples.md","174","kusto","```Kusto"
"\log-query\examples.md","195","kusto","```Kusto"
"\log-query\examples.md","209","kusto","```Kusto"
"\log-query\examples.md","222","kusto","```Kusto"
"\log-query\examples.md","239","kusto","```Kusto"
"\log-query\examples.md","250","kusto","```Kusto"
"\log-query\examples.md","259","kusto","```Kusto"
"\log-query\examples.md","270","kusto","```Kusto"
"\log-query\examples.md","279","kusto","```Kusto"
"\log-query\examples.md","287","kusto","```Kusto"
"\log-query\examples.md","298","kusto","```Kusto"
"\log-query\examples.md","311","kusto","```Kusto"
"\log-query\examples.md","334","kusto","```Kusto"
"\log-query\examples.md","345","kusto","```Kusto"
"\log-query\examples.md","357","kusto","```Kusto"
"\log-query\examples.md","386","kusto","```Kusto"
"\log-query\examples.md","400","kusto","```Kusto"
"\log-query\examples.md","410","kusto","```Kusto"
"\log-query\examples.md","422","kusto","```Kusto"
"\log-query\examples.md","438","kusto","- Refer to the [Kusto language reference](/azure/kusto/query) for details on the language."
"\log-query\examples.md","439","log analytics","- Walk through a [lesson on writing queries in Log Analytics](get-started-queries.md)."
"\log-query\functions.md","2","log analytics","title: Functions Azure Log Analytics | Microsoft Docs"
"\log-query\functions.md","3","log analytics","description: This article describes how to use functions to call a query from another query in Log Analytics."
"\log-query\functions.md","19","log analytics","# Using functions in Azure Monitor Log Analytics"
"\log-query\functions.md","27","log analytics","To use a Log Analytics query with another query you can save it as a function. This allows you to simplify complex queries by breaking them into parts and allows you to reuse common code with multiple queries."
"\log-query\functions.md","41","log analytics","> A function in Log Analytics cannot contain another function."
"\log-query\functions.md","44","log analytics","> Saving a function is possible in Log Analytics queries, but currently not for Application Insights queries."
"\log-query\functions.md","54","kusto","```Kusto"
"\log-query\functions.md","63","kusto","```Kusto"
"\log-query\functions.md","68","log analytics","See other lessons for using the Log Analytics query language:"
"\log-query\functions.md","68","log analytics query language","See other lessons for using the Log Analytics query language:"
"\log-query\get-started-portal.md","2","log analytics","title: Get started with Log Analytics in the Azure portal | Microsoft Docs"
"\log-query\get-started-portal.md","3","log analytics","description: This article provides a tutorial for using Log Analytics in the Azure portal to write queries."
"\log-query\get-started-portal.md","18","log analytics","# Get started with Log Analytics in the Azure portal"
"\log-query\get-started-portal.md","22","log analytics","In this tutorial you will learn how to use the Log Analytics page in the Azure portal (currently in preview) to write Log Analytics queries. It will teach you how to:"
"\log-query\get-started-portal.md","33","log analytics","## Meet the Log Analytics page "
"\log-query\get-started-portal.md","34","log analytics","The Log Analytics page is a web tool used to write and execute Azure Log Analytics queries. Open it by selecting **Logs (preview)** in the Log Analytics menu. It starts with a new blank query."
"\log-query\get-started-portal.md","43","kusto","```Kusto"
"\log-query\get-started-portal.md","53","kusto","```Kusto"
"\log-query\get-started-portal.md","77","kusto","```Kusto"
"\log-query\get-started-portal.md","81","log analytics","The Log Analytics page automatically scopes results by:"
"\log-query\get-started-portal.md","119","log analytics","By default, the Log Analytics page applies the _last 24 hours_ time range. To use a different range, select another value through the time picker and click **Run**. In addition to the preset values, you can use the _Custom time range_ option to select an absolute range for your query."
"\log-query\get-started-portal.md","131","kusto","```Kusto"
"\log-query\get-started-portal.md","181","log analytics","The Log Analytics page supports several exporting methods:"
"\log-query\get-started-portal.md","184","log analytics","- Power BI: Export the results to power BI. See [Import Azure Log Analytics data into Power BI](../../azure-monitor/platform/powerbi.md) for details."
"\log-query\get-started-portal.md","189","log analytics","- Learn more about [writing Log Analytics queries](get-started-queries.md)."
"\log-query\get-started-queries.md","2","log analytics","title: Get Started with queries in Azure Log Analytics| Microsoft Docs"
"\log-query\get-started-queries.md","3","log analytics","description: This article provides a tutorial for getting started writing queries in Log Analytics."
"\log-query\get-started-queries.md","18","log analytics","# Get started with queries in Log Analytics"
"\log-query\get-started-queries.md","26","log analytics","In this tutorial you will learn to write Azure Log Analytics queries. It will teach you how to:"
"\log-query\get-started-queries.md","41","log analytics","> The Azure Log Analytics query language is case-sensitive. Language keywords are typically written in lower-case. When using names of tables or columns in a query, make sure to use the correct case, as shown on the schema pane."
"\log-query\get-started-queries.md","41","log analytics query language","> The Azure Log Analytics query language is case-sensitive. Language keywords are typically written in lower-case. When using names of tables or columns in a query, make sure to use the correct case, as shown on the schema pane."
"\log-query\get-started-queries.md","44","log analytics","Azure Log Analytics organizes data in tables, each composed of multiple columns. All tables and columns are shown on the schema pane, in the Analytics portal. Identify a table that you're interested in and then take a look at a bit of data:"
"\log-query\get-started-queries.md","46","kusto","```Kusto"
"\log-query\get-started-queries.md","62","kusto","```Kusto"
"\log-query\get-started-queries.md","75","kusto","```Kusto"
"\log-query\get-started-queries.md","84","kusto","```Kusto"
"\log-query\get-started-queries.md","99","kusto","```Kusto"
"\log-query\get-started-queries.md","115","kusto","```Kusto"
"\log-query\get-started-queries.md","122","kusto","```Kusto"
"\log-query\get-started-queries.md","143","kusto","```Kusto"
"\log-query\get-started-queries.md","155","kusto","```Kusto"
"\log-query\get-started-queries.md","163","log analytics","![Log Analytics project results](media/get-started-queries/project.png)"
"\log-query\get-started-queries.md","172","kusto","```Kusto"
"\log-query\get-started-queries.md","180","kusto","```Kusto"
"\log-query\get-started-queries.md","190","kusto","```Kusto"
"\log-query\get-started-queries.md","198","kusto","```Kusto"
"\log-query\get-started-queries.md","206","kusto","```Kusto"
"\log-query\get-started-queries.md","214","kusto","```Kusto"
"\log-query\get-started-queries.md","225","kusto","```Kusto"
"\log-query\get-started-queries.md","235","log analytics","![Log Analytics memory over time](media/get-started-queries/chart.png)"
"\log-query\joins.md","2","log analytics","title: Joins in Azure Log Analytics queries | Microsoft Docs"
"\log-query\joins.md","3","log analytics","description: This article includes a lesson on using joins in the Log Analytics query language."
"\log-query\joins.md","3","log analytics query language","description: This article includes a lesson on using joins in the Log Analytics query language."
"\log-query\joins.md","19","log analytics","# Joins in Log Analytics queries"
"\log-query\joins.md","29","kusto","```Kusto"
"\log-query\joins.md","62","kusto","```Kusto"
"\log-query\joins.md","105","log analytics","See other lessons for using the Log Analytics query language:"
"\log-query\joins.md","105","log analytics query language","See other lessons for using the Log Analytics query language:"
"\log-query\json-data-structures.md","2","log analytics","title: Working with strings in Azure Log Analytics queries | Microsoft Docs"
"\log-query\json-data-structures.md","3","log analytics","description: This article provides a tutorial for using the Analytics portal to write queries in Log Analytics."
"\log-query\json-data-structures.md","19","log analytics","# Working with JSON and data Structures in Log Analytics queries"
"\log-query\json-data-structures.md","37","kusto","```Kusto"
"\log-query\json-data-structures.md","45","kusto","```Kusto"
"\log-query\json-data-structures.md","53","kusto","```Kusto"
"\log-query\json-data-structures.md","65","kusto","```Kusto"
"\log-query\json-data-structures.md","76","kusto","```Kusto"
"\log-query\json-data-structures.md","85","kusto","```Kusto"
"\log-query\json-data-structures.md","96","kusto","```Kusto"
"\log-query\json-data-structures.md","120","kusto","```Kusto"
"\log-query\json-data-structures.md","130","log analytics","See other lessons for using the Log Analytics query language:"
"\log-query\json-data-structures.md","130","log analytics query language","See other lessons for using the Log Analytics query language:"
"\log-query\log-query-overview.md","2","log analytics","title: Analyze Log Analytics data in Azure Monitor | Microsoft Docs"
"\log-query\log-query-overview.md","3","log analytics","description: You require a log search to retrieve any data from Log Analytics.  This article describes how new log searches are used in Log Analytics and provides concepts that you need to understand before creating one."
"\log-query\log-query-overview.md","17","log analytics","# Analyze Log Analytics data in Azure Monitor"
"\log-query\log-query-overview.md","19","log analytics","Log data collected by Azure Monitor is stored in a Log Analytics workspace, which is based on [Azure Data Explorer](/azure/data-explorer). It collects telemetry from a variety of sources and uses the [query language from Data Explorer](/azure/kusto/query) to retrieve and analyze data."
"\log-query\log-query-overview.md","19","kusto","Log data collected by Azure Monitor is stored in a Log Analytics workspace, which is based on [Azure Data Explorer](/azure/data-explorer). It collects telemetry from a variety of sources and uses the [query language from Data Explorer](/azure/kusto/query) to retrieve and analyze data."
"\log-query\log-query-overview.md","22","log analytics","> Log Analytics was previously treated as its own service in Azure. It is now considered a part of Azure Monitor and focuses on storage and analysis of log data using its query language. Features that were considered part of Log Analytics, such as Windows and Linux agents for data collection, views to visualize existing data, and alerts to proactively notify you of issues, have not changed but are now considered part of Azure Monitor."
"\log-query\log-query-overview.md","28","log analytics","You require a log query to retrieve any data from Log Analytics.  Whether you're [analyzing data in the portal](../../azure-monitor/log-query/portals.md), [configuring an alert rule](../../azure-monitor/platform/alerts-metric.md) to be notified of a particular condition, or retrieving data using the [Log Analytics API](https://dev.loganalytics.io/), you will use a query to specify the data you want.  This article describes how log queries are used in Log Analytics and provides concepts that should understand before creating one."
"\log-query\log-query-overview.md","34","log analytics","The different ways that you will use queries in Log Analytics include the following:"
"\log-query\log-query-overview.md","40","log analytics","- **Export.**  When you import data from Log Analytics workspace into Excel or [Power BI](../../azure-monitor/platform/powerbi.md), you create a log query to define the data to export."
"\log-query\log-query-overview.md","41","log analytics","- **PowerShell.** You can run a PowerShell script from a command line or an Azure Automation runbook that uses [Get-???Azure???Rm???Operational???Insights???Search???Results](https://docs.microsoft.com/powershell/module/azurerm.operationalinsights/get-azurermoperationalinsightssearchresults?view=azurermps-4.0.0) to retrieve data from Log Analytics.  This cmdlet requires a query to determine the data to retrieve."
"\log-query\log-query-overview.md","42","log analytics","- **Log Analytics API.**  The [Log Analytics log search API](../../monitoring-and-diagnostics/monitoring-overview-alerts.md) allows any REST API client to retrieve log data from the workspace.  The API request includes a query that is run against Log Analytics to determine the data to retrieve."
"\log-query\log-query-overview.md","53","kusto","```Kusto"
"\log-query\log-query-overview.md","63","kusto","```Kusto"
"\log-query\log-query-overview.md","72","kusto","```Kusto"
"\log-query\log-query-overview.md","82","log analytics","You can also query data across Log Analytics workspaces within your subscription."
"\log-query\log-query-overview.md","84","kusto","```Kusto"
"\log-query\log-query-overview.md","90","log analytics","## How Log Analytics data is organized"
"\log-query\log-query-overview.md","91","log analytics","When you build a query, you start by determining which tables have the data that you're looking for. Different kinds of data are separated into dedicated tables in each [Log Analytics workspace](../../azure-monitor/learn/quick-create-workspace.md).  Documentation for different data sources includes the name of the data type that it creates and a description of each of its properties.  Many queries will only require data from a single table, but others may use a variety of options to include data from multiple tables."
"\log-query\log-query-overview.md","93","log analytics","While [Application Insights](../../application-insights/app-insights-overview.md) stores application data such as requests, exceptions, traces, and usage in Log Analytics, this data is stored in a different partition than the other log data. You use the same query language to access this data but must use the [Application Insights console](../../application-insights/app-insights-analytics.md) or [Application Insights REST API](https://dev.applicationinsights.io/) to access it. You can use [cross-resources queries](../../azure-monitor/log-query/cross-workspace-query.md) to combine Application Insights data with other data in Log Analytics."
"\log-query\parse-text.md","2","log analytics","title: Parse text data in Azure Log Analytics | Microsoft Docs"
"\log-query\parse-text.md","3","log analytics","description: Describes different options for parsing data in Log Analytics records when the data is ingested and when it's retrieved in a query, comparing the relative advantages for each."
"\log-query\parse-text.md","16","log analytics","# Parse text data in Log Analytics"
"\log-query\parse-text.md","17","log analytics","Some data collected by Log Analytics will include multiple pieces of information in a single property. Parsing this data into multiple properties make it easier to use in queries. A common example is a [custom log](../../log-analytics/log-analytics-data-sources-custom-logs.md) that collects an entire log entry with multiple values into a single property. By creating separate properties for the different values, you can search and aggregate on each."
"\log-query\parse-text.md","19","log analytics","This article describes different options for parsing data in Log Analytics records when the data is ingested and when it's retrieved in a query, comparing the relative advantages for each."
"\log-query\parse-text.md","58","log analytics","See [Create custom fields in Log Analytics](../../log-analytics/log-analytics-custom-fields.md) for details on parsing data as it's collected. This creates custom properties in the table that can be used by queries just like any other property."
"\log-query\parse-text.md","61","kusto","When the data you want to parse can be identified by a pattern repeated across records, you can use different operators in the [Data Explorer query language](/azure/kusto/query/) to extract the specific piece of data into one or more new properties."
"\log-query\parse-text.md","65","kusto","Use the [parse](/azure/kusto/query/parseoperator) operator in your query to create one or more custom properties that can be extracted from a string expression. You specify the pattern to be identified and the names of the properties to create. This is particularly useful for data with key-value strings with a form similar to _key=value_."
"\log-query\parse-text.md","79","kusto","```Kusto"
"\log-query\parse-text.md","87","kusto","```Kusto"
"\log-query\parse-text.md","96","kusto","If your data can be identified with a regular expression, you can use [functions that use regular expressions](/azure/kusto/query/re2) to extract individual values. The following example uses [extract](/kusto/query/extractfunction) to break out the _UPN_ field from _AzureActivity_ records and then return distinct users."
"\log-query\parse-text.md","98","kusto","```Kusto"
"\log-query\parse-text.md","104","log analytics","To enable efficient parsing at large scale, Log Analytics uses re2 version of Regular Expressions, which is similar but not identical to some of the other regular expression variants. Refer to the [re2 expression syntax](https://aka.ms/kql_re2syntax) for details."
"\log-query\parse-text.md","108","kusto","Delimited data separates fields with a common character such as a comma in a CSV file. Use the [split](/azure/kusto/query/splitfunction) function to parse delimited data using a delimiter that you specify. You can use this with [extend](/azure/kusto/query/extendoperator) operator to return all fields in the data or to specify individual fields to be included in the output."
"\log-query\parse-text.md","125","kusto","```Kusto"
"\log-query\parse-text.md","137","kusto","If your data is formatted in a known structure, you may be able to use one of the functions in the [Data Explorer query language](/azure/kusto/query/) for parsing predefined structures:"
"\log-query\parse-text.md","139","kusto","- [JSON](/azure/kusto/query/parsejsonfunction)"
"\log-query\parse-text.md","140","kusto","- [XML](/azure/kusto/query/parse-xmlfunction)"
"\log-query\parse-text.md","141","kusto","- [IPv4](/azure/kusto/query/parse-ipv4function)"
"\log-query\parse-text.md","142","kusto","- [URL](/azure/kusto/query/parseurlfunction)"
"\log-query\parse-text.md","143","kusto","- [URL query](/azure/kusto/query/parseurlqueryfunction)"
"\log-query\parse-text.md","144","kusto","- [File path](/azure/kusto/query/parsepathfunction)"
"\log-query\parse-text.md","145","kusto","- [User agent](/azure/kusto/query/parse-useragentfunction)"
"\log-query\parse-text.md","146","kusto","- [Version string](/azure/kusto/query/parse-versionfunction)"
"\log-query\parse-text.md","150","kusto","```Kusto"
"\log-query\parse-text.md","159","kusto","The following example shows the breakdown of domain controller TGT Preauth type. The type exists only in the EventData field, which is an XML string, but no other data from this field is needed. In this case, [parse](/azure/kusto/query/parseoperator) is used to pick out the required piece of data."
"\log-query\parse-text.md","161","kusto","```Kusto"
"\log-query\parse-text.md","173","kusto","```Kusto"
"\log-query\parse-text.md","184","kusto","```Kusto"
"\log-query\portals.md","2","log analytics","title: Viewing and analyzing data in Azure Log Analytics | Microsoft Docs"
"\log-query\portals.md","3","log analytics","description: This article describes the portals that you can use in Azure Log Analytics to create and edit log searches."
"\log-query\portals.md","17","log analytics","# Viewing and analyzing data in Log Analytics"
"\log-query\portals.md","18","log analytics","There are two options available in the Azure portal for analyzing data stored in Log analytics and for creating queries for ad hoc analysis. The queries that you create using these portals can be used for other features such as alerts and dashboards."
"\log-query\portals.md","20","log analytics","## Log Analytics page"
"\log-query\portals.md","21","log analytics","Open the Log Analytics page from **Logs** in the Log Analytics menu. This is a new experience for working with log data and creating queries. You can get an introduction to this portal and inspect its features at [Get started with the Log Analytics page in the Azure portal](../../azure-monitor/log-query/get-started-portal.md)."
"\log-query\portals.md","23","log analytics","The Log Analytics page provides the following improvements over the [Log search (classic)](#log-search-classic) experience."
"\log-query\portals.md","36","log analytics","> The Log Analytics page has the same functionality as the Advanced Analytics portal which is an external tool outside of the Azure portal. The Advanced Analytics portal is still available, but links and other references to it in the Azure portal are being replaced with this new page."
"\log-query\portals.md","41","log analytics","The new Log Analytics experience integrates with various Azure resources such as Virtual Machines. This means that you can open the Log Analytics page directly through the resource's monitoring menu without switching to Azure Monitor or Log Analytics and losing the resource context. **Logs** has not yet been enabled for all Azure resources, but it will start appearing in the portal menu for different resources types."
"\log-query\portals.md","43","log analytics","When opening Log Analytics from a specific resource, it's automatically scoped to log records of that resource only.   If you want to write a query that includes other records, then you would need to open it from the Log Analytics or Azure Monitor menu."
"\log-query\portals.md","45","log analytics","The following options are not yet available through the resource view of Log Analytics:"
"\log-query\portals.md","54","log analytics","Your browser requires access to the following addresses to access the Log Analytics page and the Advanced Analytics portal.  If your browser is accessing the Azure portal through a firewall, you must enable access to these addresses."
"\log-query\portals.md","64","log analytics","Open the Log search page from **Logs (Classic)** in the Log Analytics menu or from **Log Analytics** in the Azure Monitor menu. This is the classic page used for working with Log Analytics queries that lacks the additional the features of the [Log Analytics page](#log-analytics-page) listed above."
"\log-query\portals.md","74","log analytics","- Walk through a [lesson using the Advanced Analytics portal](../../azure-monitor/log-query/get-started-portal.md) which provides the same experience as the Log Analytics page."
"\log-query\query-language.md","2","log analytics","title: Azure Monitor Log Analytics query language | Microsoft Docs"
"\log-query\query-language.md","2","log analytics query language","title: Azure Monitor Log Analytics query language | Microsoft Docs"
"\log-query\query-language.md","3","log analytics","description: References to resources for learning how to write queries in Log Analytics."
"\log-query\query-language.md","18","log analytics","# Log Analytics query language"
"\log-query\query-language.md","18","log analytics query language","# Log Analytics query language"
"\log-query\query-language.md","19","kusto","Log Analytics provides log collection and analysis for Azure Monitor. It's built on Azure Data Explorer and uses a version of the same query language. The [Azure Data Explorer query language documentation](/azure/kusto/query) has all of the details for the language and should be your primary resource for writing Log Analytics queries. This page provides links to other resources for learning how to write queries and on differences with the Log Analytics implementation of the language."
"\log-query\query-language.md","23","log analytics","- [Get started with Log Analytics in the Azure portal](get-started-portal.md) is a lesson for writing queries and working with results in the Azure portal."
"\log-query\query-language.md","24","log analytics","-  [Get started with queries in Log Analytics](get-started-queries.md) is a lesson for writing queries using Log Analytics data."
"\log-query\query-language.md","27","log analytics","- [Analyze Log Analytics data in Azure Monitor](../../azure-monitor/log-query/log-query-overview.md) gives a brief overview of log queries and describes how Log Analytics data is structured."
"\log-query\query-language.md","28","log analytics","- [Viewing and analyzing data in Log Analytics](../../azure-monitor/log-query/portals.md) explains the portals where you create and run Log Analytics queries."
"\log-query\query-language.md","32","kusto","- [Query language reference](/azure/kusto/query)  is the complete language reference for the Data Explorer query language."
"\log-query\query-language.md","33","log analytics","- [Log Analytics query language differences](data-explorer-difference.md) describes differences between versions of the Data Explorer query language."
"\log-query\query-language.md","33","log analytics query language","- [Log Analytics query language differences](data-explorer-difference.md) describes differences between versions of the Data Explorer query language."
"\log-query\query-language.md","34","log analytics","- [Standard properties in Log Analytics records](../../azure-monitor/platform/log-standard-properties.md) describes properties that are standard to all Log Analytics data."
"\log-query\query-language.md","35","log analytics","- [Perform cross-resource log searches in Log Analytics](../../azure-monitor/log-query/cross-workspace-query.md) describes how to write queries that use data from multiple Log Analytics workspaces and Application Insights applications."
"\log-query\query-language.md","40","log analytics","- [Log Analytics query examples](examples.md) provides example queries using Log Analytics data."
"\log-query\query-language.md","46","log analytics","- [Working with strings in Log Analytics queries](string-operations.md) describes how to work with string data."
"\log-query\query-language.md","47","log analytics","- [Working with date time values in Log Analytics queries](datetime-operations.md) describes how to work with date and time data. "
"\log-query\query-language.md","48","log analytics","- [Aggregations in Log Analytics queries](aggregations.md) and [Advanced aggregations in Log Analytics queries](advanced-aggregations.md) describe how to aggregate and summarize data."
"\log-query\query-language.md","49","log analytics","- [Joins in Log Analytics queries](joins.md) describes how to join data from multiple tables."
"\log-query\query-language.md","50","log analytics","- [Working with JSON and data Structures in Log Analytics queries](json-data-structures.md) describes how to parse json data."
"\log-query\query-language.md","51","log analytics","- [Writing advanced queries in Log Analytics](advanced-query-writing.md) describes strategies for creating complex queries and reusing code."
"\log-query\query-language.md","52","log analytics","- [Creating charts and diagrams from Log Analytics queries](charts.md) describes how to visualize data from a query."
"\log-query\query-language.md","56","log analytics","-  [SQL to Log Analytics query language cheat sheet](sql-cheatsheet.md) assists users who are already familiar with SQL."
"\log-query\query-language.md","56","log analytics query language","-  [SQL to Log Analytics query language cheat sheet](sql-cheatsheet.md) assists users who are already familiar with SQL."
"\log-query\query-language.md","57","log analytics","-  [Splunk to Log Analytics query language cheat sheet](sql-cheatsheet.md) assists users who are already familiar with Splunk."
"\log-query\query-language.md","57","log analytics query language","-  [Splunk to Log Analytics query language cheat sheet](sql-cheatsheet.md) assists users who are already familiar with Splunk."
"\log-query\query-language.md","61","kusto","- Access the complete [reference documentation for the Data Explorer query language](/azure/kusto/query/)."
"\log-query\search-queries.md","2","log analytics","title: Search queries in Log Analytics | Microsoft Docs"
"\log-query\search-queries.md","3","log analytics","description: This article provides a tutorial for getting started writing search queries in Log Analytics."
"\log-query\search-queries.md","18","log analytics","# Search queries in Log Analytics"
"\log-query\search-queries.md","21","log analytics","> You should complete [Get started with queries in Log Analytics](get-started-queries.md) before completing this lesson."
"\log-query\search-queries.md","25","log analytics","Azure Log Analytics queries can start with either a table name or a search command. This tutorial covers search-based queries. There are advantages to each method."
"\log-query\search-queries.md","33","kusto","```Kusto"
"\log-query\search-queries.md","43","kusto","```Kusto"
"\log-query\search-queries.md","49","kusto","```Kusto"
"\log-query\search-queries.md","57","kusto","```Kusto"
"\log-query\search-queries.md","68","kusto","```Kusto"
"\log-query\search-queries.md","77","kusto","```Kusto"
"\log-query\search-queries.md","83","kusto","```Kusto"
"\log-query\search-queries.md","89","kusto","```Kusto"
"\log-query\search-queries.md","96","kusto","```Kusto"
"\log-query\search-queries.md","109","kusto","```Kusto"
"\log-query\search-queries.md","116","kusto","```Kusto"
"\log-query\search-queries.md","123","kusto","```Kusto"
"\log-query\search-queries.md","133","kusto","```Kusto"
"\log-query\search-queries.md","143","log analytics","- See further tutorials on the [Log Analytics query language site](https://aka.ms/LogAnalyticsLanguage)."
"\log-query\search-queries.md","143","log analytics query language","- See further tutorials on the [Log Analytics query language site](https://aka.ms/LogAnalyticsLanguage)."
"\log-query\splunk-cheatsheet.md","2","log analytics","title: Splunk to Azure Log Analytics | Microsoft Docs"
"\log-query\splunk-cheatsheet.md","3","log analytics","description: Assist for users who are familiar with Splunk in learning the Log Analytics query language."
"\log-query\splunk-cheatsheet.md","3","log analytics query language","description: Assist for users who are familiar with Splunk in learning the Log Analytics query language."
"\log-query\splunk-cheatsheet.md","18","log analytics","# Splunk to Log Analytics"
"\log-query\splunk-cheatsheet.md","20","log analytics","This article is intended to assist users who are familiar with Splunk in learning the Log Analytics query language. Direct comparisons are made between the two to understand key differences and also similarities where you can leverage your existing knowledge."
"\log-query\splunk-cheatsheet.md","20","log analytics query language","This article is intended to assist users who are familiar with Splunk in learning the Log Analytics query language. Direct comparisons are made between the two to understand key differences and also similarities where you can leverage your existing knowledge."
"\log-query\splunk-cheatsheet.md","24","log analytics","The following table compares concepts and data structures between Splunk and Log Analytics."
"\log-query\splunk-cheatsheet.md","26","log analytics"," | Concept  | Splunk | Log Analytics |  Comment"
"\log-query\splunk-cheatsheet.md","28","log analytics"," | Deployment unit  | cluster |  cluster |  Log Analytics allows arbitrary cross cluster queries. Splunk does not. |"
"\log-query\splunk-cheatsheet.md","31","log analytics"," | Structured event metadata | N/A | table |  Splunk does not have the concept exposed to the search language of event metadata. Log Analytics has the concept of a table, which has columns. Each event instance is mapped to a row. |"
"\log-query\splunk-cheatsheet.md","33","log analytics"," | Data record attribute | field |  column |  In Log Analytics, this is predefined as part of the table structure. In Splunk, each event has its own set of fields. |"
"\log-query\splunk-cheatsheet.md","34","log analytics"," | Types | datatype |  datatype |  Log Analytics datatypes are more explicit as they are set on the columns. Both have the ability to work dynamically with data types  and roughly equivalent set of datatypes including JSON support. |"
"\log-query\splunk-cheatsheet.md","35","log analytics"," | Query and search  | search | query |  Concepts are essentially the same between both Log Analytics and Splunk. |"
"\log-query\splunk-cheatsheet.md","36","log analytics"," | Event ingestion time | System Time | ingestion_time() |  In Splunk, each event gets a system timestamp of the time that the event was indexed. In Log Analytics, you can define a policy called ingestion_time that exposes a system column that can be referenced through the ingestion_time() function. |"
"\log-query\splunk-cheatsheet.md","40","log analytics","The following table specifies functions in Log Analytics that are equivalent to Splunk functions."
"\log-query\splunk-cheatsheet.md","42","log analytics","|Splunk | Log Analytics |Comment"
"\log-query\splunk-cheatsheet.md","50","log analytics","| substr | substring() | (1)<br>Also note that Splunk uses one-based indices. Log Analytics notes zero-based indices. |"
"\log-query\splunk-cheatsheet.md","54","log analytics","| regex | matches regex | In Splunk, `regex` is an operator. In Log Analytics, it's a relational operator. |"
"\log-query\splunk-cheatsheet.md","56","log analytics","| random | rand()<br>rand(n) | Splunk's function returns a number from zero to 2<sup>31</sup>-1. Log Analytics' returns a number between 0.0 and 1.0, or if a parameter provided, between 0 and n-1."
"\log-query\splunk-cheatsheet.md","58","log analytics","| relative_time | totimespan() | (1)<br>In Log Analytics, Splunk's equivalent of relative_time(datetimeVal, offsetVal) is datetimeVal + totimespan(offsetVal).<br>For example, <code>search &#124; eval n=relative_time(now(), ""-1d@d"")</code> becomes <code>...  &#124; extend myTime = now() - totimespan(""1d"")</code>."
"\log-query\splunk-cheatsheet.md","60","log analytics","(1) In Splunk, the function is invoked with the `eval` operator. In Log Analytics, it is used as part of `extend` or `project`.<br>(2) In Splunk, the function is invoked with the `eval` operator. In Log Analytics, it can be used with the `where` operator."
"\log-query\splunk-cheatsheet.md","65","log analytics","The following sections give examples of using different operators between Splunk and Log Analytics."
"\log-query\splunk-cheatsheet.md","68","log analytics","> For the purpose of the following example, the Splunk field _rule_ maps to a table in Azure Log Analytics, and Splunk's default timestamp maps to the Logs Analytics _ingestion_time()_ column."
"\log-query\splunk-cheatsheet.md","71","log analytics","In Splunk, you can omit the `search` keyword and specify an unquoted string. In Azure Log Analytics you must start each search with `find`, an unquoted string is a column name, and the lookup value must be a quoted string. "
"\log-query\splunk-cheatsheet.md","76","log analytics","| Log Analytics | **find** | <code>find Session.Id==""c8894ffd-e684-43c9-9125-42adc25cd3fc"" and ingestion_time()> ago(24h)</code> |"
"\log-query\splunk-cheatsheet.md","80","log analytics","Azure Log Analytics queries start from a tabular result set where the filter. In Splunk, filtering is the default operation on the current index. You can also use `where` operator in Splunk, but it is not recommended."
"\log-query\splunk-cheatsheet.md","85","log analytics","| Log Analytics | **where** | <code>Office_Hub_OHubBGTaskError<br>&#124; where Session_Id == ""c8894ffd-e684-43c9-9125-42adc25cd3fc"" and ingestion_time() > ago(24h)</code> |"
"\log-query\splunk-cheatsheet.md","90","log analytics","Azure Log Analytics also supports `take` as an alias to `limit`. In Splunk, if the results are ordered, `head` will return the first n results. In Azure Log Analytics, limit is not ordered but returns the first n rows that are found."
"\log-query\splunk-cheatsheet.md","95","log analytics","| Log Analytics | **limit** | <code>Office_Hub_OHubBGTaskError<br>&#124; limit 100</code> |"
"\log-query\splunk-cheatsheet.md","101","log analytics","For bottom results, in Splunk you use `tail`. In Azure Log Analytics you can specify the ordering direction with `asc`."
"\log-query\splunk-cheatsheet.md","106","log analytics","| Log Analytics | **top** | <code>Office_Hub_OHubBGTaskError<br>&#124; top 20 by Event_Sequence</code> |"
"\log-query\splunk-cheatsheet.md","113","log analytics","Splunk also has an `eval` function, which is not to be comparable with the `eval` operator. Both the `eval` operator in Splunk and the `extend` operator in Azure Log Analytics only support scalar functions and arithmetic operators."
"\log-query\splunk-cheatsheet.md","118","log analytics","| Log Analytics | **extend** | <code>Office_Hub_OHubBGTaskError<br>&#124; extend state = iif(Data_Exception == 0,""success"" ,""error"")</code> |"
"\log-query\splunk-cheatsheet.md","123","log analytics","Azure Log Analytics uses the same operator to rename and to create a new field. Splunk has two separate operators, `eval` and `rename`."
"\log-query\splunk-cheatsheet.md","128","log analytics","| Log Analytics | **extend** | <code>Office_Hub_OHubBGTaskError<br>&#124; extend exception = Date_Exception</code> |"
"\log-query\splunk-cheatsheet.md","140","log analytics","| Log Analytics | **project**<br>**project-away** | <code>Office_Hub_OHubBGTaskError<br>&#124; project exception, state</code> |"
"\log-query\splunk-cheatsheet.md","146","log analytics","See the [Aggregations in Log Analytics queries](aggregations.md) for the different aggregation functions."
"\log-query\splunk-cheatsheet.md","151","log analytics","| Log Analytics | **summarize** | <code>Office_Hub_OHubBGTaskError<br>&#124; summarize count() by App_Platform, Release_Audience</code> |"
"\log-query\splunk-cheatsheet.md","162","log analytics","| Log Analytics | **join** | <code>cluster(""OAriaPPT"").database(""Office PowerPoint"").Office_PowerPoint_PPT_Exceptions<br>&#124; where  Data_Hresult== -2147221040<br>&#124; join kind = inner (Office_System_SystemHealthMetadata<br>&#124; summarize by Client_Id, Data_Alias)on Client_Id</code>   |"
"\log-query\splunk-cheatsheet.md","168","log analytics","In Splunk, to sort in ascending order you must use the `reverse` operator. Azure Log Analytics also supports defining where to put nulls, at the beginning or at the end."
"\log-query\splunk-cheatsheet.md","173","log analytics","| Log Analytics | **order by** | <code>Office_Hub_OHubBGTaskError<br>&#124; order by Data_Hresult,  desc</code> |"
"\log-query\splunk-cheatsheet.md","179","log analytics","This is a similar operator in both Splunk and Log Analytics."
"\log-query\splunk-cheatsheet.md","184","log analytics","| Log Analytics | **mvexpand** | `mvexpand foo` |"
"\log-query\splunk-cheatsheet.md","191","log analytics","In the Log Analytics portal, only the first column is exposed. All columns are available through the API."
"\log-query\splunk-cheatsheet.md","196","log analytics","| Log Analytics | **facets** | <code>Office_Excel_BI_PivotTableCreate<br>&#124; facet by App_Branch, App_Version</code> |"
"\log-query\splunk-cheatsheet.md","208","log analytics","| Log Analytics | **summarize arg_max()** | <code>Office_Excel_BI_PivotTableCreate<br>&#124; summarize arg_max(batterylife, *) by device_id</code> |"
"\log-query\splunk-cheatsheet.md","216","log analytics","- Go through a lesson on the [writing queries in Log Analytics](get-started-queries.md)."
"\log-query\sql-cheatsheet.md","2","log analytics","title: SQL to Azure Log Analytics query language cheat sheet | Microsoft Docs"
"\log-query\sql-cheatsheet.md","2","log analytics query language","title: SQL to Azure Log Analytics query language cheat sheet | Microsoft Docs"
"\log-query\sql-cheatsheet.md","3","log analytics","description: Common functions to use for different scenarios in Log Analytics queries."
"\log-query\sql-cheatsheet.md","18","log analytics","# SQL to Log Analytics query language cheat sheet "
"\log-query\sql-cheatsheet.md","18","log analytics query language","# SQL to Log Analytics query language cheat sheet "
"\log-query\sql-cheatsheet.md","20","log analytics","The table below helps users who are familiar with SQL to learn the Log Analytics query language. Have a look at the T-SQL command for solving a common scenarios and the equivalent using Log Analytics."
"\log-query\sql-cheatsheet.md","20","log analytics query language","The table below helps users who are familiar with SQL to learn the Log Analytics query language. Have a look at the T-SQL command for solving a common scenarios and the equivalent using Log Analytics."
"\log-query\sql-cheatsheet.md","22","log analytics","## SQL to Log Analytics"
"\log-query\sql-cheatsheet.md","24","log analytics","Description								|SQL Query                           																|Azure Log Analytics Query"
"\log-query\sql-cheatsheet.md","48","log analytics","- Go through a lesson on the [writing queries in Log Analytics](get-started-queries.md)."
"\log-query\string-operations.md","2","log analytics","title: Working with strings in Azure Log Analytics queries | Microsoft Docs"
"\log-query\string-operations.md","3","log analytics","description: This article provides a tutorial for using the Analytics portal to write queries in Log Analytics."
"\log-query\string-operations.md","18","log analytics","# Working with strings in Log Analytics queries"
"\log-query\string-operations.md","34","kusto","```Kusto"
"\log-query\string-operations.md","40","kusto","```Kusto"
"\log-query\string-operations.md","104","kusto","```Kusto"
"\log-query\string-operations.md","114","kusto","```Kusto"
"\log-query\string-operations.md","127","kusto","```Kusto"
"\log-query\string-operations.md","145","kusto","```Kusto"
"\log-query\string-operations.md","153","kusto","```Kusto"
"\log-query\string-operations.md","163","kusto","```Kusto"
"\log-query\string-operations.md","177","kusto","```Kusto"
"\log-query\string-operations.md","184","kusto","```Kusto"
"\log-query\string-operations.md","209","kusto","```Kusto"
"\log-query\string-operations.md","249","kusto","```Kusto"
"\log-query\string-operations.md","280","kusto","```Kusto"
"\log-query\string-operations.md","299","kusto","```Kusto"
"\log-query\string-operations.md","314","kusto","```Kusto"
"\log-query\string-operations.md","335","kusto","```Kusto"
"\log-query\string-operations.md","354","kusto","```Kusto"
"\log-query\take-action.md","2","log analytics","title: User-initiated Azure Automation Runbook Action in Log Analytics  | Microsoft Docs"
"\log-query\take-action.md","3","log analytics","description: This article describes how to run an Automation runbook from a Log Analytics search result on-demand."
"\log-query\take-action.md","18","log analytics","# Take Action with an Automation Runbook from a Log Analytics log search result"
"\log-query\take-action.md","20","log analytics","From a log search result in Azure Log Analytics, you can now select **Take action** to run an Automation runbook.  The runbook can be used to remediate the issue or take some other action such as collect troubleshooting information, send an email, or create a service request. "
"\log-query\take-action.md","24","log analytics","* [Log Analytics workspace](../../azure-monitor/log-query/log-query-overview.md)"
"\log-query\take-action.md","30","log analytics","1. In the Azure portal, click **All services** and select **Log Analytics**.  "
"\log-query\take-action.md","31","log analytics","2. Select your Log Analytics workspace."
"\log-query\take-action.md","35","log analytics","6. Select **Run a runbook** and select a runbook to run.  You can select any runbook in the Automation account that is linked to the Log Analytics workspace.  Note the following:"
"\log-query\take-action.md","43","log analytics","If you select a runbook that was configured to be [called from a Log Analytics alert](../../automation/automation-create-alert-triggered-runbook.md), it has an input parameter called **WebhookData** that is **Object** type.  If the input parameter is mandatory, you need to pass the search results to the runbook so it can convert the JSON-formatted string into an object type allowing you to filter on specific items that you will reference in runbook activities.  You do this by selecting **Search result (Object)** from the drop-down list.<br><br> ![Select Webhook data object for runbook parameter](media/take-action/select-runbook-and-properties.png)   "
"\log-query\take-action.md","47","log analytics","* Review the [Log Analytics log search reference](../../azure-monitor/log-query/log-query-overview.md) to view all of the search fields and facets available in Log Analytics."
"\log-query\take-action.md","48","log analytics","* To learn how to invoke an Automation runbook automatically, review [calling an Azure Automation runbook from a Log Analytics alert](../../automation/automation-create-alert-triggered-runbook.md).  "
"\log-query\useful-operators.md","2","log analytics","title: Useful operators in Azure Log Analytics queries | Microsoft Docs"
"\log-query\useful-operators.md","3","log analytics","description: Common functions to use for different scenarios in Log Analytics queries."
"\log-query\useful-operators.md","18","log analytics","# Useful operators in Log Analytics queries"
"\log-query\useful-operators.md","20","log analytics","The table below provides some common functions to use for different scenarios in Log Analytics queries."
"\log-query\useful-operators.md","44","log analytics","- Go through a lesson on the [writing queries in Log Analytics](get-started-queries.md)."
"\log-query\workspace-expression.md","2","log analytics","title: workspace() expression in Azure Log Analytics query | Microsoft Docs"
"\log-query\workspace-expression.md","3","log analytics","description: The workspace expression is used in a Log Analytics query to retrieve data from a specific workspace in the same resource group, another resource group, or another subscription."
"\log-query\workspace-expression.md","18","log analytics","# workspace() expression in Log Analytics query"
"\log-query\workspace-expression.md","20","log analytics","The `workspace` expression is used in a Log Analytics query to retrieve data from a specific workspace in the same resource group, another resource group, or another subscription. This is useful to include log data in an Application Insights query and to query data across multiple workspaces in a log query."
"\log-query\workspace-expression.md","46","kusto","```Kusto"
"\log-query\workspace-expression.md","49","kusto","```Kusto"
"\log-query\workspace-expression.md","52","kusto","```Kusto"
"\log-query\workspace-expression.md","55","kusto","```Kusto"
"\log-query\workspace-expression.md","61","kusto","```Kusto"
"\log-query\workspace-expression.md","70","log analytics","- Read about how [Log Analytics data](../../azure-monitor/log-query/log-query-overview.md) is stored."
"\platform\agent-linux-troubleshoot.md","2","log analytics","title: Troubleshoot Azure Log Analytics Linux Agent | Microsoft Docs"
"\platform\agent-linux-troubleshoot.md","3","log analytics","description: Describe the symptoms, causes, and resolution for the most common issues with the Log Analytics agent for Linux."
"\platform\agent-linux-troubleshoot.md","18","log analytics","# How to troubleshoot issues with the Log Analytics agent for Linux "
"\platform\agent-linux-troubleshoot.md","20","log analytics","This article provides help troubleshooting errors you might experience with the Log Analytics agent for Linux and suggests possible solutions to resolve them."
"\platform\agent-linux-troubleshoot.md","28","log analytics","* Visit the Log Analytics Feedback page to review submitted ideas and bugs [http://aka.ms/opinsightsfeedback](https://aka.ms/opinsightsfeedback) or file a new one.  "
"\platform\agent-linux-troubleshoot.md","34","log analytics"," Log Analytics agent for Linux log file | `/var/opt/microsoft/omsagent/<workspace id>/log/omsagent.log `"
"\platform\agent-linux-troubleshoot.md","35","log analytics"," Log Analytics agent configuration log file | `/var/opt/microsoft/omsconfig/omsconfig.log`"
"\platform\agent-linux-troubleshoot.md","44","log analytics"," Performance, Nagios, Zabbix, Log Analytics output and general agent | `/etc/opt/microsoft/omsagent/<workspace id>/conf/omsagent.conf`"
"\platform\agent-linux-troubleshoot.md","48","log analytics"," >Editing configuration files for performance counters and Syslog is overwritten if the collection is configured from the [data menu Log Analytics Advanced Settings](../../azure-monitor/platform/agent-data-sources.md#configuring-data-sources) in the Azure portal for your workspace. To disable configuration for all agents, disable collection from Log Analytics **Advanced Settings** or for a single agent run the following:  "
"\platform\agent-linux-troubleshoot.md","68","log analytics","| 55 | Unsupported openssl version OR Cannot connect to the Log Analytics service OR dpkg is locked OR missing curl program. |"
"\platform\agent-linux-troubleshoot.md","82","log analytics","| 5 | 403 HTTP error received from Log Analytics service. See the full output of the omsadmin script for details. |"
"\platform\agent-linux-troubleshoot.md","83","log analytics","| 6 | Non-200 HTTP error received from Log Analytics service. See the full output of the omsadmin script for details. |"
"\platform\agent-linux-troubleshoot.md","84","log analytics","| 7 | Unable to connect to Log Analytics service. See the full output of the omsadmin script for details. |"
"\platform\agent-linux-troubleshoot.md","85","log analytics","| 8 | Error onboarding to Log Analytics workspace. See the full output of the omsadmin script for details. |"
"\platform\agent-linux-troubleshoot.md","113","log analytics","Debug logging allows you to see batched uploads to the Log Analytics service separated by type, number of data items, and time taken to send:"
"\platform\agent-linux-troubleshoot.md","124","log analytics","Instead of using the OMS output plugin you can also output data items directly to `stdout`, which is visible in the Log Analytics agent for Linux log file."
"\platform\agent-linux-troubleshoot.md","126","log analytics","In the Log Analytics general agent configuration file at `/etc/opt/microsoft/omsagent/<workspace id>/conf/omsagent.conf`, comment out the OMS output plugin by adding a `#` in front of each line:"
"\platform\agent-linux-troubleshoot.md","151","log analytics","## Issue: Unable to connect through proxy to Log Analytics"
"\platform\agent-linux-troubleshoot.md","155","log analytics","* The Log Analytics and Azure Automation Service Endpoints are not whitelisted in your datacenter "
"\platform\agent-linux-troubleshoot.md","158","log analytics","1. Reonboard to the Log Analytics service with the Log Analytics agent for Linux by using the following command with the option `-v` enabled. It allows verbose output of the agent connecting through the proxy to the Log Analytics service. "
"\platform\agent-linux-troubleshoot.md","162","log analytics","* Double check that the following Log Analytics endpoints are whitelisted:"
"\platform\agent-linux-troubleshoot.md","180","log analytics","2. Verify you have installed the latest version of the Log Analytics agent for Linux.  The newest version now notifies you if time skew is causing the onboarding failure."
"\platform\agent-linux-troubleshoot.md","184","log analytics","This is a known issue that occurs on first upload of Linux data into a Log Analytics workspace. This does not affect data being sent or service experience."
"\platform\agent-linux-troubleshoot.md","190","log analytics","- Onboarding to the Log Analytics service failed"
"\platform\agent-linux-troubleshoot.md","191","log analytics","- Connection to the Log Analytics service is blocked"
"\platform\agent-linux-troubleshoot.md","192","log analytics","- Log Analytics agent for Linux data is backed up"
"\platform\agent-linux-troubleshoot.md","195","log analytics","1. Check if onboarding the Log Analytics service was successful by checking if the following file exists: `/etc/opt/microsoft/omsagent/<workspace id>/conf/omsadmin.conf`"
"\platform\agent-linux-troubleshoot.md","198","log analytics","4. In some cases, when the Log Analytics agent for Linux cannot communicate with the service, data on the agent is queued to the full buffer size, which is 50 MB. The agent should be restarted by running the following command: `/opt/microsoft/omsagent/bin/service_control restart [<workspace id>]`. "
"\platform\agent-linux-troubleshoot.md","209","log analytics","* The number of messages being forwarded per second are too great for the base configuration of the Log Analytics agent for Linux to handle"
"\platform\agent-linux-troubleshoot.md","212","log analytics","* Verify the configuration in the Log Analytics workspace for Syslog has all the facilities and the correct log levels. Review [configure Syslog collection in the Azure portal](../../azure-monitor/platform/data-sources-syslog.md#configure-syslog-in-the-azure-portal)"
"\platform\agent-linux-troubleshoot.md","215","log analytics","* Simulate a Syslog message to Log Analytics using `logger` command"
"\platform\agent-linux-troubleshoot.md","222","log analytics","This error indicates that the Linux Diagnostic extension (LAD) is installed side by side with the Log Analytics Linux VM extension, and it is using same port for syslog data collection as omsagent."
"\platform\agent-linux-troubleshoot.md","258","log analytics","2. In the Log Analytics agent for Linux general configuration file at `/etc/opt/microsoft/omsagent/<workspace id>/conf/omsagent.conf`, ensure that **both** the Nagios source and filter are uncommented."
"\platform\agent-linux-troubleshoot.md","276","log analytics","* Onboarding to the Log Analytics Service failed"
"\platform\agent-linux-troubleshoot.md","277","log analytics","* Connection to the Log Analytics Service is blocked"
"\platform\agent-linux-troubleshoot.md","279","log analytics","* OMI package was manually upgraded to a newer version compared to what was installed by Log Analytics agent for Linux package"
"\platform\agent-linux-troubleshoot.md","281","log analytics","* Log Analytics agent for data is backed up"
"\platform\agent-linux-troubleshoot.md","286","log analytics","2. Check if onboarding to the Log Analytics service was successful by checking if the following file exists: `/etc/opt/microsoft/omsagent/<workspace id>/conf/omsadmin.conf`.  If it was not, reonboard using the omsadmin.sh command line [instructions](https://github.com/Microsoft/OMS-Agent-for-Linux/blob/master/docs/OMS-Agent-for-Linux.md#onboarding-using-the-command-line)."
"\platform\agent-linux-troubleshoot.md","288","management solution","5. In some Azure distribution systems, omid OMI server daemon does not start after the virtual machine is rebooted. This will result in not seeing Audit, ChangeTracking, or UpdateManagement solution-related data. The workaround is to manually start omi server by running `sudo /opt/omi/bin/service_control restart`."
"\platform\agent-linux-troubleshoot.md","289","log analytics","6. After OMI package is manually upgraded to a newer version, it has to be manually restarted for Log Analytics agent to continue functioning. This step is required for some distros where OMI server does not automatically start after it is upgraded. Run `sudo /opt/omi/bin/service_control restart` to restart OMI."
"\platform\agent-linux-troubleshoot.md","291","log analytics","8. In some cases, when the Log Analytics agent for Linux cannot talk to the Log Analytics service, data on the agent is backed up to the full buffer size: 50 MB. The agent should be restarted by running the following command `/opt/microsoft/omsagent/bin/service_control restart`."
"\platform\agent-linux-troubleshoot.md","346","log analytics","* The Log Analytics agent for Linux has not picked up the latest configuration"
"\platform\agent-linux-troubleshoot.md","350","log analytics","**Background:** `omsconfig` is the Log Analytics agent for Linux configuration agent that looks for new portal-side configuration every five minutes. This configuration is then applied to the Log Analytics agent for Linux configuration files located at /etc/opt/microsoft/omsagent/conf/omsagent.conf."
"\platform\agent-linux-troubleshoot.md","352","log analytics","* In some cases, the Log Analytics agent for Linux configuration agent might not be able to communicate with the portal configuration service resulting in latest configuration not being applied."
"\platform\agent-linux-troubleshoot.md","353","log analytics","  1. Check that the `omsconfig` agent is installed by running `dpkg --list omsconfig` or `rpm -qi omsconfig`.  If it is not installed, reinstall the latest version of the Log Analytics agent for Linux."
"\platform\agent-linux-troubleshoot.md","355","log analytics","  2. Check that the `omsconfig` agent can communicate with the Log Analytics service by running the following command `sudo su omsagent -c 'python /opt/microsoft/omsconfig/Scripts/GetDscConfiguration.py'`. This command returns the configuration that agent receives from the service, including Syslog settings, Linux performance counters, and custom logs. If this command fails, run the following command `sudo su omsagent -c 'python /opt/microsoft/omsconfig/Scripts/PerformRequiredConfigurationChecks.py'`. This command forces the omsconfig agent to talk to the Log Analytics service and retrieve  the latest configuration."
"\platform\agent-linux-troubleshoot.md","360","log analytics","* Onboarding to Log Analytics service failed."
"\platform\agent-linux-troubleshoot.md","363","log analytics","* Log Analytics agent for Linux user `omsagent` is unable to access the custom log due to permissions or not being found.  You may see the following errors:"
"\platform\agent-linux-troubleshoot.md","366","log analytics","* Known Issue with Race Condition fixed in Log Analytics agent for Linux version 1.1.0-217"
"\platform\agent-linux-troubleshoot.md","369","log analytics","1. Verify onboarding to the Log Analytics was successful by checking if the following file exists: `/etc/opt/microsoft/omsagent/<workspace id>/conf/omsadmin.conf`. If not, either:  "
"\platform\agent-linux-troubleshoot.md","374","log analytics","2. Check that the `omsconfig` agent can communicate with the Log Analytics service by running the following command `sudo su omsagent -c 'python /opt/microsoft/omsconfig/Scripts/GetDscConfiguration.py'`.  This command returns the configuration that agent receives from the service, including Syslog settings, Linux performance counters, and custom logs. If this command fails, run the following command `sudo su omsagent -c 'python /opt/microsoft/omsconfig/Scripts/PerformRequiredConfigurationChecks.py`. This command forces the omsconfig agent to talk to the Log Analytics service and retrieve the latest configuration."
"\platform\agent-linux-troubleshoot.md","376","log analytics","**Background:** Instead of the Log Analytics agent for Linux running as a privileged user - `root`, the agent runs as the `omsagent` user. In most cases, explicit permission must be granted to this user in order for certain files to be read. To grant permission to `omsagent` user, run the following commands:"
"\platform\agent-linux-troubleshoot.md","381","log analytics","There is a known issue with a race condition with the Log Analytics agent for Linux version earlier than 1.1.0-217. After updating to the latest agent, run the following command to get the latest version of the output plugin `sudo cp /etc/opt/microsoft/omsagent/sysconf/omsagent.conf /etc/opt/microsoft/omsagent/<workspace id>/conf/omsagent.conf`."
"\platform\agent-linux-troubleshoot.md","384","log analytics","When you try to reonboard an agent to a new workspace, the Log Analytics agent  configuration needs to be cleaned up before reonboarding. To clean up old configuration from the agent, run the shell bundle with `--purge`"
"\platform\agent-linux-troubleshoot.md","397","log analytics","## Log Analytics agent extension in the Azure portal is marked with a failed state: Provisioning failed"
"\platform\agent-linux-troubleshoot.md","400","log analytics","* Log Analytics agent has been removed from the operating system"
"\platform\agent-linux-troubleshoot.md","401","log analytics","* Log Analytics agent service is down, disabled, or not configured"
"\platform\agent-linux-troubleshoot.md","411","log analytics","## Issue: The Log Analytics agent upgrade on-demand"
"\platform\agent-linux-troubleshoot.md","415","log analytics","The Log Analytics agent packages on the host are outdated."
"\platform\agent-manage.md","2","log analytics","title: Managing the Azure Log Analytics Agent | Microsoft Docs"
"\platform\agent-manage.md","18","log analytics","# Managing and maintaining the Log Analytics agent for Windows and Linux"
"\platform\agent-manage.md","20","log analytics","After initial deployment of the Windows or Linux agent for Log Analytics, you may need to reconfigure the agent, or remove it from the computer if has reached the retirement stage in its lifecycle.  You can easily manage these routine maintenance tasks manually or through automation, which reduces both operational error and expenses."
"\platform\agent-manage.md","30","log analytics","3. Select **Microsoft Monitoring Agent** and then click the **Azure Log Analytics** tab."
"\platform\agent-manage.md","32","log analytics","5. If adding a workspace, click **Add** and on the **Add a Log Analytics Workspace** dialog box, paste the Workspace ID and Workspace Key (Primary Key). If the computer should report to a Log Analytics workspace in Azure Government cloud, select Azure US Government from the Azure Cloud drop-down list. "
"\platform\agent-manage.md","97","log analytics","To configure the agent to communicate to the service through a proxy server or [Log Analytics gateway](gateway.md) after deployment, use one of the following methods to complete this task."
"\platform\agent-manage.md","106","log analytics","4. Click **Use a proxy server** and provide the URL and port number of the proxy server or gateway. If your proxy server or Log Analytics gateway requires authentication, type the username and password to authenticate and then click **OK**. "
"\platform\agent-manage.md","110","log analytics","Copy the following sample PowerShell code, update it with information specific to your environment, and save it with a PS1 file name extension.  Run the script on each computer that connects directly to the Log Analytics service."
"\platform\agent-manage.md","137","log analytics","Perform the following steps if your Linux computers need to communicate through a proxy server or Log Analytics gateway.  The proxy configuration value has the following syntax `[protocol://][user:password@]proxyhost[:port]`.  The *proxyhost* property accepts a fully qualified domain name or IP address of the proxy server."
"\platform\agent-manage.md","181","log analytics","Perform the following steps to configure the Log Analytics agent for Windows to report to a System Center Operations Manager management group."
"\platform\agent-manage.md","197","log analytics","Perform the following steps to configure the Log Analytics agent for Linux to report to a System Center Operations Manager management group. "
"\platform\agent-windows.md","2","log analytics","title: Connect Windows computers to Azure Log Analytics | Microsoft Docs"
"\platform\agent-windows.md","3","log analytics","description: This article describes how to connect Windows computers hosted in other clouds or on-premises to Log Analytics with the Microsoft Monitoring Agent (MMA)."
"\platform\agent-windows.md","18","log analytics","# Connect Windows computers to the Log Analytics service in Azure"
"\platform\agent-windows.md","20","log analytics","In order to monitor and manage virtual machines or physical computers in your local datacenter or other cloud environment with Log Analytics, you need to deploy the Microsoft Monitoring Agent (MMA) and configure it to report to one or more Log Analytics workspaces.  The agent also supports the Hybrid Runbook Worker role for Azure Automation.  "
"\platform\agent-windows.md","22","log analytics","On a monitored Windows computer, the agent is listed as the Microsoft Monitoring Agent service. The Microsoft Monitoring Agent service collects events from log files and Windows event log, performance data, and other telemetry. Even when the agent is unable to communicate with the Log Analytics service it reports to, the agent continues to run and queues the collected data on the disk of the monitored computer. When the connection is restored, the Microsoft Monitoring Agent service sends collected data to the service."
"\platform\agent-windows.md","34","log analytics","Before installing the Microsoft Monitoring Agent for Windows, you need the workspace ID and key for your Log Analytics workspace.  This information is required during setup from each installation method to properly configure the agent and ensure it can successfully communicate with Log Analytics in Azure commercial and US Government cloud.  "
"\platform\agent-windows.md","36","log analytics","1. In the Azure portal, click **All services**. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**."
"\platform\agent-windows.md","37","log analytics","2. In your list of Log Analytics workspaces, select the workspace you intend on configuring the agent to report to."
"\platform\agent-windows.md","38","log analytics","3. Select **Advanced settings**.<br><br> ![Log Analytics Advance Settings](media/agent-windows/log-analytics-advanced-settings-01.png)<br><br>  "
"\platform\agent-windows.md","43","log analytics","To configure use of the [TLS 1.2](https://docs.microsoft.com/windows-server/security/tls/tls-registry-settings#tls-12) protocol for communication between the Windows agent and the Log Analytics service, you can follow the steps below to enable before the agent is installed on the virtual machine or afterwards.   "
"\platform\agent-windows.md","62","log analytics","The following steps install and configure the agent for Log Analytics in Azure and Azure Government cloud by using the setup wizard for the Microsoft Monitoring Agent on your computer. If you want to learn how to configure the agent to also report to a System Center Operations Manager management group, see [deploy the Operations Manager agent with the Agent Setup Wizard](https://docs.microsoft.com/system-center/scom/manage-deploy-windows-agent-manually#to-deploy-the-operations-manager-agent-with-the-agent-setup-wizard)."
"\platform\agent-windows.md","64","log analytics","1. In your Log Analytics workspace, from the **Windows Servers** page you navigated to earlier, select the appropriate **Download Windows Agent** version to download depending on the processor architecture of the Windows operating system.   "
"\platform\agent-windows.md","69","log analytics","5. On the **Agent Setup Options** page, choose to connect the agent to Azure Log Analytics and then click **Next**.   "
"\platform\agent-windows.md","70","log analytics","6. On the **Azure Log Analytics** page, perform the following:"
"\platform\agent-windows.md","71","log analytics","   1. Paste the **Workspace ID** and **Workspace Key (Primary Key)** that you copied earlier.  If the computer should report to a Log Analytics workspace in Azure Government cloud, select **Azure US Government** from the **Azure Cloud** drop-down list.  "
"\platform\agent-windows.md","72","log analytics","   2. If the computer needs to communicate through a proxy server to the Log Analytics service, click **Advanced** and provide the URL and port number of the proxy server.  If your proxy server requires authentication, type the username and password to authenticate with the proxy server and then click **Next**.  "
"\platform\agent-windows.md","77","log analytics","When complete, the **Microsoft Monitoring Agent** appears in **Control Panel**. To confirm it is reporting to Log Analytics, review [Verify agent connectivity to Log Analytics](#verify-agent-connectivity-to-log-analytics). "
"\platform\agent-windows.md","83","log analytics",">If you want to upgrade an agent, you need to use the Log Analytics scripting API. See the topic [Managing and maintaining the Log Analytics agent for Windows and Linux](agent-manage.md) for further information."
"\platform\agent-windows.md","85","log analytics","The following table highlights the specific Log Analytics parameters supported by setup for the agent, including when deployed using Automation DSC."
"\platform\agent-windows.md","129","log analytics","2.	Create Azure Automation variable assets for *OPSINSIGHTS_WS_ID* and *OPSINSIGHTS_WS_KEY*. Set *OPSINSIGHTS_WS_ID* to your Log Analytics workspace ID and set *OPSINSIGHTS_WS_KEY* to the primary key of your workspace."
"\platform\agent-windows.md","172","log analytics","## Verify agent connectivity to Log Analytics"
"\platform\agent-windows.md","176","log analytics","From the computer in **Control Panel**, find the item **Microsoft Monitoring Agent**.  Select it and on the **Azure Log Analytics** tab, the agent should display a message stating: **The Microsoft Monitoring Agent has successfully connected to the Microsoft Operations Management Suite service.**<br><br> ![MMA connection status to Log Analytics](media/agent-windows/log-analytics-mma-laworkspace-status.png)"
"\platform\agent-windows.md","180","log analytics","1. In the Azure portal, click **All services**. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**.  "
"\platform\agent-windows.md","181","log analytics","2. On the Log Analytics workspace page, select the target workspace and then select the **Log Search** tile. "
"\platform\agent-windows.md","195","log analytics","Review [Managing and maintaining the Log Analytics agent for Windows and Linux](agent-manage.md) to learn about how to manage the agent during its deployment lifecycle on your machines.  "
"\platform\agents-overview.md","22","log analytics","* Log Analytics Agent for Linux and Windows"
"\platform\agents-overview.md","47","log analytics","* Configure Log Analytics to import metrics and log data collected from Cloud Services, classic VMs, and Service Fabric nodes stored in an Azure storage account."
"\platform\agents-overview.md","49","log analytics","## Log Analytics agent"
"\platform\agents-overview.md","50","log analytics","For advanced monitoring where you need to do more than collect metrics and a subset of logs, the Log Analytics agent for Windows and Linux is required. The Log Analytics agent was developed for comprehensive management across on-premises physical and virtual machines, computers monitored by System Center Operations Manager, and VMs in hosted in other clouds. The Windows and Linux agents connect to a Log Analytics workspace to collect both monitoring solution-based data as well as custom data sources that you configure."
"\platform\agents-overview.md","54","log analytics","The Log Analytics agent should be used when you want to:"
"\platform\agents-overview.md","60","log analytics","Previously, several Azure services were bundled as the *Operations Management Suite*, and as a result the Log Analytics agent is shared across services including Azure Security Center and Azure Automation.  This includes the full set of features they offer, delivering comprehensive management of your Azure VMs through their lifecycle.  Some examples of this are:"
"\platform\agents-overview.md","65","log analytics","* Azure services such as [Application Insights](https://docs.microsoft.com/azure/application-insights/) and [Azure Security Center](https://docs.microsoft.com/azure/security-center/), which natively store their data directly in Log Analytics.  "
"\platform\agents-overview.md","68","log analytics","The Dependency agent was developed as part of the Service Map solution, which was originally developed externally from Microsoft. [Service Map](../insights/service-map.md) and [Azure Monitor for VMs](../insights/vminsights-overview.md) requires a Dependency Agent on Windows and Linux virtual machines and it integrates with the Log Analytics agent to collects discovered data about processes running on the virtual machine and external process dependencies. It stores this data in Log Analytics and visualizes the discovered interconnected components."
"\platform\agents-overview.md","70","log analytics","You may need some combination of these agents to monitor your VM. The agents can be installed side by side as Azure extensions, however on Linux, the Log Analytics agent *must* be installed first or else installation will fail. "
"\platform\agents-overview.md","74","log analytics","- See [Overview of the Log Analytics agent](../../azure-monitor/platform/log-analytics-agent.md) to review requirements and supported methods to deploy the agent to machines hosted in Auzre, in your datacenter, or other cloud environment."
"\platform\alert-management-solution.md","2","log analytics","title: Alert Management solution in Azure Log Analytics | Microsoft Docs"
"\platform\alert-management-solution.md","2","management solution","title: Alert Management solution in Azure Log Analytics | Microsoft Docs"
"\platform\alert-management-solution.md","3","log analytics","description: The Alert Management solution in Log Analytics helps you analyze all of the alerts in your environment.  In addition to consolidating alerts generated within Log Analytics, it imports alerts from connected System Center Operations Manager management groups into Log Analytics."
"\platform\alert-management-solution.md","3","management solution","description: The Alert Management solution in Log Analytics helps you analyze all of the alerts in your environment.  In addition to consolidating alerts generated within Log Analytics, it imports alerts from connected System Center Operations Manager management groups into Log Analytics."
"\platform\alert-management-solution.md","18","log analytics","# Alert Management solution in Azure Log Analytics"
"\platform\alert-management-solution.md","18","management solution","# Alert Management solution in Azure Log Analytics"
"\platform\alert-management-solution.md","22","log analytics","The Alert Management solution helps you analyze all of the alerts in your Log Analytics repository.  These alerts may have come from a variety of sources including those sources [created by Log Analytics](../../monitoring-and-diagnostics/monitoring-overview-alerts.md) or [imported from Nagios or Zabbix](../../azure-monitor/learn/quick-collect-linux-computer.md). The solution also imports alerts from any [connected System Center Operations Manager management groups](../../azure-monitor/platform/om-agents.md)."
"\platform\alert-management-solution.md","22","management solution","The Alert Management solution helps you analyze all of the alerts in your Log Analytics repository.  These alerts may have come from a variety of sources including those sources [created by Log Analytics](../../monitoring-and-diagnostics/monitoring-overview-alerts.md) or [imported from Nagios or Zabbix](../../azure-monitor/learn/quick-collect-linux-computer.md). The solution also imports alerts from any [connected System Center Operations Manager management groups](../../azure-monitor/platform/om-agents.md)."
"\platform\alert-management-solution.md","25","log analytics","The solution works with any records in the Log Analytics repository with a type of **Alert**, so you must perform whatever configuration is required to collect these records."
"\platform\alert-management-solution.md","27","log analytics","- For Log Analytics alerts, [create alert rules](../../monitoring-and-diagnostics/monitoring-overview-alerts.md) to create alert records directly in the repository."
"\platform\alert-management-solution.md","28","log analytics","- For Nagios and Zabbix alerts, [configure those servers](../../azure-monitor/learn/quick-collect-linux-computer.md) to send alerts to Log Analytics."
"\platform\alert-management-solution.md","29","log analytics","- For System Center Operations Manager alerts, [connect your Operations Manager management group to your Log Analytics workspace](../../azure-monitor/platform/om-agents.md).  Any alerts created in System Center Operations Manager are imported into Log Analytics.  "
"\platform\alert-management-solution.md","32","log analytics","Add the Alert Management solution to your Log Analytics workspace using the process described in [Add solutions](../../azure-monitor/insights/solutions.md). There is no further configuration required."
"\platform\alert-management-solution.md","32","management solution","Add the Alert Management solution to your Log Analytics workspace using the process described in [Add solutions](../../azure-monitor/insights/solutions.md). There is no further configuration required."
"\platform\alert-management-solution.md","35","log analytics","If your System Center Operations Manager management group is connected to your Log Analytics workspace,  then the following management packs are installed in System Center Operations Manager when you add this solution.  There is no configuration or maintenance of the management packs required."
"\platform\alert-management-solution.md","39","log analytics","For more information on how solution management packs are updated, see [Connect Operations Manager to Log Analytics](../../azure-monitor/platform/om-agents.md)."
"\platform\alert-management-solution.md","47","log analytics","| [Windows agents](agent-windows.md) | No |Direct Windows agents do not generate alerts.  Log Analytics alerts can be created from events and performance data collected from Windows agents. |"
"\platform\alert-management-solution.md","48","log analytics","| [Linux agents](../../azure-monitor/learn/quick-collect-linux-computer.md) | No |Direct Linux agents do not generate alerts.  Log Analytics alerts can be created from events and performance data collected from Linux agents.  Nagios and Zabbix alerts are collected from those servers that require the Linux agent. |"
"\platform\alert-management-solution.md","49","log analytics","| [System Center Operations Manager management group](../../azure-monitor/platform/om-agents.md) |Yes |Alerts that are generated on Operations Manager agents are delivered to the management group and then forwarded to Log Analytics.<br><br>A direct connection from  Operations Manager agents to Log Analytics is not required. Alert data is forwarded from the management group to the Log Analytics repository. |"
"\platform\alert-management-solution.md","54","log analytics","- Alert data is sent from the Operations Manager management group to Log Analytics every three minutes.  "
"\platform\alert-management-solution.md","57","log analytics","When you add the Alert Management solution to your Log Analytics workspace, the **Alert Management** tile is added to your dashboard.  This tile displays a count and graphical representation of the number of currently active alerts that were generated within the last 24 hours.  You cannot change this time range."
"\platform\alert-management-solution.md","57","management solution","When you add the Alert Management solution to your Log Analytics workspace, the **Alert Management** tile is added to your dashboard.  This tile displays a count and graphical representation of the number of currently active alerts that were generated within the last 24 hours.  You cannot change this time range."
"\platform\alert-management-solution.md","75","log analytics","## Log Analytics records"
"\platform\alert-management-solution.md","76","log analytics","The Alert Management solution analyzes any record with a type of **Alert**.  Alerts created by Log Analytics or collected from Nagios or Zabbix are not directly collected by the solution."
"\platform\alert-management-solution.md","76","management solution","The Alert Management solution analyzes any record with a type of **Alert**.  Alerts created by Log Analytics or collected from Nagios or Zabbix are not directly collected by the solution."
"\platform\alert-management-solution.md","119","log analytics","* Learn about [Alerts in Log Analytics](../../monitoring-and-diagnostics/monitoring-overview-alerts.md) for details on generating alerts from Log Analytics."
"\platform\alerts-classic.overview.md","22","log analytics","In the past Azure Monitor, Application Insights, Log Analytics and Service Health had separate alerting capabilities. Overtime, Azure improved and combined both the user interface and different methods of alerting. The consolidation is still in process. Alerts"
"\platform\alerts-classic.overview.md","29","log analytics","-	**Better notification system** - All newer alerts use action groups, which are named groups of notifications and actions that can be reused in multiple alerts. Classic metric alerts and older Log Analytics alerts do not use action groups."
"\platform\alerts-classic.overview.md","30","log analytics","-	**A unified authoring experience** - All alert creation for metrics, logs and activity log across Azure Monitor, Log Analytics, and Application Insights is in one place."
"\platform\alerts-classic.overview.md","31","log analytics","-	**View fired Log Analytics alerts in Azure portal** - You can now also see fired Log Analytics alerts in your subscription. Previously these were in a separate portal."
"\platform\alerts-classic.overview.md","41","log analytics","-	**Better notification system**: All newer alerts use [action groups](../../azure-monitor/platform/action-groups.md), which are named groups of notifications and actions that can be reused in multiple alerts.  Classic metric alerts and older Log Analytics alerts do not use action groups. "
"\platform\alerts-classic.overview.md","42","log analytics","-	**Metrics from Logs** (public preview): Log data going into Log Analytics can now be extracted and converted into Azure Monitor metrics and then alerted on just like other metrics. "
"\platform\alerts-classic.overview.md","53","log analytics","For Diagnostic Log data available through Azure Monitor, route the data into Log Analytics (formerly OMS) and use a Log Analytics query alert. Log Analytics now uses the [new alerting method](../../monitoring-and-diagnostics/monitoring-overview-alerts.md) "
"\platform\alerts-log.md","20","log analytics","The term **Log Alerts** to describe alerts where signal is custom query based on [Log Analytics](../../azure-monitor/learn/tutorial-viewdata.md) or [Application Insights](../../application-insights/app-insights-analytics.md). Learn more about functionality, terminology, and types from [Log alerts - Overview](../../monitoring-and-diagnostics/monitor-alerts-unified-log.md)."
"\platform\alerts-log.md","23","log analytics","> Popular log data from [Azure Log Analytics](../../azure-monitor/learn/tutorial-viewdata.md) is now also available on the metric platform in Azure Monitor. For details view, [Metric Alert for Logs](../../monitoring-and-diagnostics/monitoring-metric-alerts-logs.md)"
"\platform\alerts-log.md","48","log analytics","1. *Log Alerts*: Ensure **Resource Type** is an analytics source like *Log Analytics* or *Application Insights* and signal type as **Log**, then once appropriate **resource** is chosen, click *Done*. Next use the **Add criteria** button to view list of signal options available for the resource and from the signal list **Custom log search** option for chosen log monitor service like *Log Analytics* or *Application Insights*."
"\platform\alerts-log.md","54","log analytics","   > Alerts lists can import analytics query as signal type - **Log (Saved Query)**, as seen in above illustration. So users can perfect your query in Analytics and then save them for future use in alerts - more details on using saving query available at [using log search in log analytics](../../azure-monitor/log-query/log-query-overview.md) or [shared query in application insights analytics](../../azure-monitor/log-query/log-query-overview.md). "
"\platform\alerts-log.md","107","log analytics"," ![Log Analytics - Set Alert](media/alerts-log/AlertsAnalyticsCreate.png)"
"\platform\alerts-log.md","122","log analytics","Currently log alerts can be created using two different Resource Templates, based on which analytics platform the alert is to be based upon (that is) Log Analytics or Application Insights."
"\platform\alerts-log.md","126","log analytics","### Azure Resource Template for Log Analytics"
"\platform\alerts-log.md","127","log analytics","Log alerts for Log Analytics are created by alert rules that run a saved search on a regular interval. If the results of the query match specified criteria, an alert record is created and one or more actions are run. "
"\platform\alerts-log.md","129","log analytics","Resource template for Log analytics saved search and Log analytics alerts are available in Log Analytics section of documentation. To learn more, see, [Adding Log Analytics saved searches and alerts](../../azure-monitor/insights/solutions-resources-searches-alerts.md); which includes illustrative samples as well as schema details."
"\platform\alerts-log.md","213","log analytics","Currently log alerts can be created using two different Resource Manager compliant APIs, based on which analytics platform the alert is to be based upon (that is) Log Analytics or Application Insights."
"\platform\alerts-log.md","217","log analytics","### PowerShell, CLI, or API for Log Analytics"
"\platform\alerts-log.md","218","log analytics","The Log Analytics Alert REST API is RESTful and can be accessed via the Azure Resource Manager REST API. The API can thus be accessed from a PowerShell command line and will output search results to you in JSON format, allowing you to use the results in many different ways programmatically."
"\platform\alerts-log.md","220","log analytics","Learn more  about [create and manage alert rules in Log Analytics with REST API](../../azure-monitor/platform/api-alerts.md); including examples of accessing the API from Powershell."
"\platform\alerts-log.md","243","log analytics","* Learn more about [Log Analytics](../../azure-monitor/log-query/log-query-overview.md). "
"\platform\alerts-metric-overview.md","16","log analytics","Metric alerts in Azure Monitor work on top of multi-dimensional metrics. These metrics could be platform metrics, [custom metrics](../../monitoring-and-diagnostics/metrics-custom-overview.md), [popular logs from Log Analytics converted to metrics](../../monitoring-and-diagnostics/monitoring-metric-alerts-logs.md), Application Insights standard metrics. Metric alerts evaluate at regular intervals to check if conditions on one or more metric time-series are true and notify you when the evaluations are met. Metric alerts are stateful, that is, they only send out notifications when the state changes."
"\platform\api-alerts.md","2","log analytics","title: Using Log Analytics Alert REST API"
"\platform\api-alerts.md","3","log analytics","description: The Log Analytics Alert REST API allows you to create and manage alerts in Log Analytics which is part of Log Analytics.  This article provides details of the API and several examples for performing different operations."
"\platform\api-alerts.md","18","log analytics","# Create and manage alert rules in Log Analytics with REST API"
"\platform\api-alerts.md","19","log analytics","The Log Analytics Alert REST API allows you to create and manage alerts in Log Analytics.  This article provides details of the API and several examples for performing different operations."
"\platform\api-alerts.md","21","log analytics","The Log Analytics Search REST API is RESTful and can be accessed via the Azure Resource Manager REST API. In this document, you will find examples where the API is accessed from a PowerShell command line using  [ARMClient](https://github.com/projectkudu/ARMClient), an open-source command-line tool that simplifies invoking the Azure Resource Manager API. The use of ARMClient and PowerShell is one of many options to access the Log Analytics Search API. With these tools, you can utilize the RESTful Azure Resource Manager API to make calls to Log Analytics workspaces and perform search commands within them. The API will output search results to you in JSON format, allowing you to use the search results in many different ways programmatically."
"\platform\api-alerts.md","24","log analytics","Currently, alerts can only be created with a saved search in Log Analytics.  You can refer to the [Log Search REST API](../../azure-monitor/log-query/log-query-overview.md) for more information."
"\platform\api-alerts.md","63","log analytics","Use the Put method with a unique schedule ID to create a new schedule.  Note that two schedules cannot have the same ID even if they are associated with different saved searches.  When you create a schedule in the Log Analytics console, a GUID is created for the schedule ID."
"\platform\api-alerts.md","66","log analytics","> The name for all saved searches, schedules, and actions created with the Log Analytics API must be in lowercase."
"\platform\api-alerts.md","98","log analytics","> Beginning May 14, 2018, all alerts in a Azure public cloud instance of Log Analytics workspace will be automatically extended to Azure. A user can voluntarily initiate extending alerts to Azure before May 14, 2018. For more information, see [Extend Alerts into Azure from Log Analytics](../../monitoring-and-diagnostics/monitoring-alerts-extend.md). For users that extend alerts to Azure, actions are now controlled in Azure action groups. When a workspace and its alerts are extended to Azure, you can retrieve or add actions by using the [Action Group API](https://docs.microsoft.com/rest/api/monitor/actiongroups)."
"\platform\api-alerts.md","109","log analytics","Use the Put method with an action ID that is unique to the schedule to create a new action.  When you create an action in the Log Analytics console, a GUID is for the action ID."
"\platform\api-alerts.md","112","log analytics","> The name for all saved searches, schedules, and actions created with the Log Analytics API must be in lowercase."
"\platform\api-alerts.md","121","log analytics","> Beginning May 14, 2018, all alerts in a Azure public cloud instance of Log Analytics workspace will be automatically extended to Azure. A user can voluntarily initiate extending alerts to Azure before May 14, 2018. For more information, see [Extend Alerts into Azure from Log Analytics](../../monitoring-and-diagnostics/monitoring-alerts-extend.md). For users that extend alerts to Azure, actions are now controlled in Azure action groups. When a workspace and its alerts are extended to Azure, you can retrieve or add actions by using the [Action Group API](https://docs.microsoft.com/rest/api/monitor/actiongroups)."
"\platform\api-alerts.md","142","log analytics","> Beginning May 14, 2018, all alerts in a Azure public cloud instance of Log Analytics workspace will be automatically extended to Azure. A user can voluntarily initiate extending alerts to Azure before May 14, 2018. For more information, see [Extend Alerts into Azure from Log Analytics](../../monitoring-and-diagnostics/monitoring-alerts-extend.md)."
"\platform\api-alerts.md","182","log analytics","|Log Analytics Severity Level  |Azure Alerts Severity Level  |"
"\platform\api-alerts.md","214","log analytics","Suppress property of Log Analytics alert rule is specified using the *Throttling* value and the suppression period using *DurationInMinutes* value."
"\platform\api-alerts.md","314","log analytics","By default, the webhook sent via Action Group for log analytics has a fixed structure. But one can customize the JSON payload by using specific variables supported, to meet requirements of the webhook endpoint. For more information, see [Webhook action for log alert rules](../../monitoring-and-diagnostics/monitor-alerts-unified-log-webhook.md). "
"\platform\api-alerts.md","352","log analytics","> Beginning May 14, 2018, all alerts in a Azure public cloud instance of Log Analytics workspace will be automatically extended to Azure. A user can voluntarily initiate extending alerts to Azure before May 14, 2018. For more information, see [Extend Alerts into Azure from Log Analytics](../../monitoring-and-diagnostics/monitoring-alerts-extend.md). For users that extend alerts to Azure, actions like E-Mail Notification are now controlled in Azure action groups. When a workspace and its alerts are extended to Azure, you can retrieve or add actions by using the [Action Group API](https://docs.microsoft.com/rest/api/monitor/actiongroups)."
"\platform\api-alerts.md","396","log analytics","> Beginning May 14, 2018, all alerts in a Azure public cloud instance of Log Analytics workspace will be automatically extended to Azure. A user can voluntarily initiate extending alerts to Azure before May 14, 2018. For more information, see [Extend Alerts into Azure from Log Analytics](../../monitoring-and-diagnostics/monitoring-alerts-extend.md). For users that extend alerts to Azure, actions like Remediation using runbook are now controlled in Azure action groups. When a workspace and its alerts are extended to Azure, you can retrieve or add actions by using the [Action Group API](https://docs.microsoft.com/rest/api/monitor/actiongroups)."
"\platform\api-alerts.md","402","log analytics","| RunbookName |Name of the runbook. This must match a published runbook in the automation account configured in the Automation Solution in your Log Analytics workspace. |"
"\platform\api-alerts.md","455","log analytics","> Beginning May 14, 2018, all alerts in a Azure public cloud instance of Log Analytics workspace will be automatically extended to Azure. A user can voluntarily initiate extending alerts to Azure before May 14, 2018. For more information, see [Extend Alerts into Azure from Log Analytics](../../monitoring-and-diagnostics/monitoring-alerts-extend.md). For users that extend alerts to Azure, actions like Webhook are now controlled in Azure action groups. When a workspace and its alerts are extended to Azure, you can retrieve or add actions by using the [Action Group API](https://docs.microsoft.com/rest/api/monitor/actiongroups)."
"\platform\api-alerts.md","508","log analytics","* Use the [REST API to perform log searches](../../azure-monitor/log-query/log-query-overview.md) in Log Analytics."
"\platform\app-insights-connector.md","18","management solution","# Application Insights Connector management solution (Preview)"
"\platform\app-insights-connector.md","23","log analytics","> With the support of [cross-resource queries](../../azure-monitor/log-query/cross-workspace-query.md), the Application Insights connector management solution is no longer required and will be deprecated. Starting July, you will not be able to link new Application Insights resources to Log Analytics workspaces. Existing links and dashboards will continue to function until November 2018. For more information, see [OMS portal moving to Azure](../../azure-monitor/platform/oms-portal-transition.md)."
"\platform\app-insights-connector.md","23","management solution","> With the support of [cross-resource queries](../../azure-monitor/log-query/cross-workspace-query.md), the Application Insights connector management solution is no longer required and will be deprecated. Starting July, you will not be able to link new Application Insights resources to Log Analytics workspaces. Existing links and dashboards will continue to function until November 2018. For more information, see [OMS portal moving to Azure](../../azure-monitor/platform/oms-portal-transition.md)."
"\platform\app-insights-connector.md","25","log analytics","The Applications Insights Connector solution helps you diagnose performance issues and understand what users do with your app when it is monitored with [Application Insights](../../application-insights/app-insights-overview.md). Views of the same application telemetry that developers see in Application Insights are available in Log Analytics. However, when you integrate your Application Insights apps with Log Analytics, visibility of your applications is increased by having operation and application data in one place. Having the same views helps you to collaborate with your app developers. The common views can help reduce the time to detect and resolve both application and platform issues."
"\platform\app-insights-connector.md","32","log analytics","- Pivot from Log Analytics data to your Application Insights app in the Azure portal"
"\platform\app-insights-connector.md","36","log analytics","Unlike most other Log Analytics solutions, data isn't collected for the Application Insights Connector by agents. All data used by the solution comes directly from Azure."
"\platform\app-insights-connector.md","53","log analytics","1. Enable the Azure Web Apps Analytics solution from the [Azure marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.ApplicationInsights?tab=Overview) or by using the process described in [Add Log Analytics solutions from the Solutions Gallery](../../azure-monitor/insights/solutions.md)."
"\platform\app-insights-connector.md","64","log analytics","- You can only link Application Insights apps to one Log Analytics workspace."
"\platform\app-insights-connector.md","65","log analytics","- You can only link [Basic or Enterprise Application Insights resources](https://azure.microsoft.com/pricing/details/application-insights) to Log Analytics. However, you can use the Free tier of Log Analytics."
"\platform\app-insights-connector.md","129","log analytics","Application Insights Connector blades are designed to enable you to pivot to the selected Application Insights app *when you use the Azure portal*. You can use the solution as a high-level monitoring platform that helps you troubleshoot an app. When you see a potential problem in any of your connected applications, you can either drill into it in Log Analytics search or you can pivot directly to the Application Insights app."
"\platform\app-insights-connector.md","140","log analytics","Application Insights provides *[sampling correction](../../application-insights/app-insights-sampling.md)* to help reduce telemetry traffic. When you enable sampling on your Application Insights app, you get a reduced number of entries stored both in Application Insights and in Log Analytics. While data consistency is preserved in the **Application Insights Connector** page and perspectives, you should manually correct sampled data for your custom queries."
"\platform\app-insights-connector.md","162","log analytics","Data is received by Log Analytics from Application Insights as it becomes available."
"\platform\azure-storage-iis-table.md","2","log analytics","title: Use blob storage for IIS and table storage for events in Azure Log Analytics | Microsoft Docs"
"\platform\azure-storage-iis-table.md","3","log analytics","description: Log Analytics can read the logs for Azure services that write diagnostics to table storage or IIS logs written to blob storage."
"\platform\azure-storage-iis-table.md","18","log analytics","# Use Azure blob storage for IIS and Azure table storage for events with Log Analytics"
"\platform\azure-storage-iis-table.md","26","log analytics","Before Log Analytics can collect data for these resources, Azure diagnostics must be enabled."
"\platform\azure-storage-iis-table.md","28","log analytics","Once diagnostics are enabled, you can use the Azure portal or PowerShell configure Log Analytics to collect the logs."
"\platform\azure-storage-iis-table.md","30","log analytics","Azure Diagnostics is an Azure extension that enables you to collect diagnostic data from a worker role, web role, or virtual machine running in Azure. The data is stored in an Azure storage account and can then be collected by Log Analytics."
"\platform\azure-storage-iis-table.md","32","log analytics","For Log Analytics to collect these Azure Diagnostics logs, the logs must be in the following locations:"
"\platform\azure-storage-iis-table.md","49","log analytics","For virtual machines, you have the option of installing the [Log Analytics agent](../../azure-monitor/learn/quick-collect-azurevm.md) into your virtual machine to enable additional insights. In addition to being able to analyze IIS logs and Event Logs, you can perform additional analysis including configuration change tracking, SQL assessment, and update assessment."
"\platform\azure-storage-iis-table.md","70","log analytics","Refer to [How To Enable Diagnostics in a Cloud Service](../../cloud-services/cloud-services-dotnet-diagnostics.md) for general steps on enabling Azure diagnostics. The instructions below use this information and customize it for use with Log Analytics."
"\platform\azure-storage-iis-table.md","114","log analytics","Once the updated diagnostic configuration is applied to your cloud service and it is writing diagnostics to Azure Storage, then you are ready to configure Log Analytics."
"\platform\azure-storage-iis-table.md","117","log analytics","You can use the Azure portal to configure Log Analytics to collect the logs for the following Azure services:"
"\platform\azure-storage-iis-table.md","123","log analytics","In the Azure portal, navigate to your Log Analytics workspace and perform the following tasks:"
"\platform\azure-storage-iis-table.md","134","log analytics","Repeat steps 2-6 for additional storage accounts and data types that you want Log Analytics to collect."
"\platform\azure-storage-iis-table.md","136","log analytics","In approximately 30 minutes, you are able to see data from the storage account in Log Analytics. You will only see data that is written to storage after the configuration is applied. Log Analytics does not read the pre-existing data from the storage account."
"\platform\azure-storage-iis-table.md","144","log analytics","Use the steps in [Configuring Log Analytics to index Azure diagnostics](../../azure-monitor/platform/powershell-workspace-configuration.md#configuring-log-analytics-to-index-azure-diagnostics) to use PowerShell to read from Azure diagnostics that are written to table storage."
"\platform\collect-activity-logs-subscriptions.md","2","log analytics","title: Collect Azure Activity Logs into Log Analytics across subscriptions | Microsoft Docs"
"\platform\collect-activity-logs-subscriptions.md","3","log analytics","description: Use Event Hubs and Logic Apps to collect data from the Azure Activity Log and send it to an Azure Log Analytics workspace in a different tenant."
"\platform\collect-activity-logs-subscriptions.md","16","log analytics","# Collect Azure Activity Logs into Log Analytics across subscriptions"
"\platform\collect-activity-logs-subscriptions.md","18","log analytics","This article steps through a method to collect Azure Activity Logs into a Log Analytics workspace using the Azure Log Analytics Data Collector connector for Logic Apps. Use the process in this article when you need to send logs to a workspace in a different Azure Active Directory. For example, if you are a managed service provider, you may want to collect activity logs from a customer's subscription and store them in a Log Analytics workspace in your own subscription."
"\platform\collect-activity-logs-subscriptions.md","20","log analytics","If the Log Analytics workspace is in the same Azure subscription, or in a different subscription but in the same Azure Active Directory, use the steps in the [Azure activity log solution](collect-activity-logs.md) to collect Azure activity logs."
"\platform\collect-activity-logs-subscriptions.md","24","log analytics","The strategy used in this scenario is to have Azure Activity Log send events to an [Event Hub](../../event-hubs/event-hubs-about.md) where a [Logic App](../../logic-apps/logic-apps-overview.md) sends them to your Log Analytics workspace. "
"\platform\collect-activity-logs-subscriptions.md","26","log analytics","![image of data flow from activity log to log analytics](media/collect-activity-logs-subscriptions/data-flow-overview.png)"
"\platform\collect-activity-logs-subscriptions.md","29","log analytics","- Low latency since the Azure Activity Log is streamed into the Event Hub.  The Logic App is then triggered and posts the data to Log Analytics. "
"\platform\collect-activity-logs-subscriptions.md","35","log analytics","3. Create a Logic App to read from the Event Hub and send events to Log Analytics."
"\platform\collect-activity-logs-subscriptions.md","42","log analytics","- The Log Analytics workspace can be in a different subscription and Azure Active Directory from the Logic App, but for simplicity we recommend that they are in the same subscription. The Logic App sends to Log Analytics using the Log Analytics workspace ID and key."
"\platform\collect-activity-logs-subscriptions.md","93","log analytics","Once the activity logs are writing to the event hub, you create a Logic App to collect the logs from the event hub and write them to Log Analytics."
"\platform\collect-activity-logs-subscriptions.md","99","log analytics","- A [Log Analytics send data connector](https://docs.microsoft.com/connectors/azureloganalyticsdatacollector/) to post the data to Log Analytics."
"\platform\collect-activity-logs-subscriptions.md","107","log analytics","- Log Analytics workspace ID"
"\platform\collect-activity-logs-subscriptions.md","108","log analytics","- Log Analytics shared key"
"\platform\collect-activity-logs-subscriptions.md","129","log analytics","   | Log Analytics  | Select if you want to log the status of each run of your logic app in Log Analytics.  |"
"\platform\collect-activity-logs-subscriptions.md","160","log analytics","The output from the Event Hub contains a JSON payload with an array of records. The [Parse JSON](../../logic-apps/logic-apps-content-type.md) action is used to extract just the array of records for sending to Log Analytics."
"\platform\collect-activity-logs-subscriptions.md","272","log analytics","The [Compose](../../logic-apps/logic-apps-workflow-actions-triggers.md#compose-action) action takes the JSON output and creates an object that can be used by the Log Analytics action."
"\platform\collect-activity-logs-subscriptions.md","282","log analytics","### Add Log Analytics Send Data action"
"\platform\collect-activity-logs-subscriptions.md","283","log analytics","The [Azure Log Analytics Data Collector](https://docs.microsoft.com/connectors/azureloganalyticsdatacollector/) action takes the object from the Compose action and sends it to Log Analytics."
"\platform\collect-activity-logs-subscriptions.md","286","log analytics","2. Type *log analytics* for your filter and then select the action **Azure Log Analytics Data Collector - Send Data**."
"\platform\collect-activity-logs-subscriptions.md","288","log analytics","   ![Adding log analytics send data action in logic apps](media/collect-activity-logs-subscriptions/logic-apps-send-data-to-log-analytics-connector.png)"
"\platform\collect-activity-logs-subscriptions.md","290","log analytics","3. Enter a name for your connection and paste in the **Workspace ID** and **Workspace Key** for your Log Analytics workspace.  Click **Create**."
"\platform\collect-activity-logs-subscriptions.md","292","log analytics","   ![Adding log analytics connection in logic apps](media/collect-activity-logs-subscriptions/logic-apps-log-analytics-add-connection.png)"
"\platform\collect-activity-logs-subscriptions.md","301","log analytics","   | Custom Log Name | AzureActivity | Name of the custom log table to create in Log Analytics to hold the imported data. |"
"\platform\collect-activity-logs-subscriptions.md","318","log analytics","## Step 5 - View Azure Activity Log in Log Analytics"
"\platform\collect-activity-logs-subscriptions.md","319","log analytics","The final step is to check the Log Analytics workspace to make sure that data is being collected as expected."
"\platform\collect-activity-logs-subscriptions.md","321","log analytics","1. In the Azure portal, click **All services** found in the upper left-hand corner. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**."
"\platform\collect-activity-logs-subscriptions.md","322","log analytics","2. In your list of Log Analytics workspaces, select your workspace."
"\platform\collect-activity-logs-subscriptions.md","326","log analytics","> The first time a new custom log is sent to Log Analytics it may take up to an hour for the custom log to be searchable."
"\platform\collect-activity-logs-subscriptions.md","336","log analytics","In this article, you???ve created a logic app to read Azure Activity Logs from an Event Hub and send them to Log Analytics for analysis. To learn more about visualizing data in Log Analytics, including creating dashboards, review the tutorial for Visualize data."
"\platform\collect-activity-logs.md","2","log analytics","title: Collect and analyze Azure activity logs in Log Analytics | Microsoft Docs"
"\platform\collect-activity-logs.md","18","log analytics","# Collect and analyze Azure activity logs in Log Analytics"
"\platform\collect-activity-logs.md","22","log analytics","The Activity Log Analytics solution helps you analyze and search the [Azure activity log](../../monitoring-and-diagnostics/monitoring-overview-activity-logs.md) across all your Azure subscriptions. The Azure Activity Log is a log that offers insights into the operations performed on resources in your subscriptions. The Activity Log was previously known as *Audit Logs* or *Operational Logs* since it reports events for your subscriptions."
"\platform\collect-activity-logs.md","26","log analytics","When you connect your Azure activity logs to Log Analytics, you can:"
"\platform\collect-activity-logs.md","38","log analytics","<sup>1</sup>By default, Log Analytics keeps your Azure activity logs for 90 days, even if you are on the Free tier. Or, if you have a workspace retention setting of less than 90 days. If your workspace has retention that is longer than 90 days, the activity logs are kept based on the retention period of your workspace."
"\platform\collect-activity-logs.md","46","log analytics","Unlike most other Log Analytics solutions, data isn't collected for activity logs by agents. All data used by the solution comes directly from Azure."
"\platform\collect-activity-logs.md","61","log analytics","Perform the following steps to configure the Activity Log Analytics solution for your workspaces."
"\platform\collect-activity-logs.md","63","log analytics","1. Enable the Activity Log Analytics solution from the [Azure marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.AzureActivityOMS?tab=Overview) or by using the process described in [Add Log Analytics solutions from the Solutions Gallery](../../azure-monitor/insights/solutions.md)."
"\platform\collect-activity-logs.md","64","log analytics","2. Configure activity logs to go to your Log Analytics workspace."
"\platform\collect-activity-logs.md","75","log analytics","When you add the Activity Log Analytics solution to your workspace, the **Azure Activity Logs** tile is added to your Overview dashboard. This tile displays a count of the number of Azure activity records for the Azure subscriptions that the solution has access to."
"\platform\collect-azure-metrics-logs.md","2","log analytics","title: Collect Azure service logs and metrics for Log Analytics | Microsoft Docs"
"\platform\collect-azure-metrics-logs.md","3","log analytics","description: Configure diagnostics on Azure resources to write logs and metrics to Log Analytics."
"\platform\collect-azure-metrics-logs.md","18","log analytics","# Collect Azure service logs and metrics for use in Log Analytics"
"\platform\collect-azure-metrics-logs.md","22","log analytics","1. Azure diagnostics direct to Log Analytics (*Diagnostics* in the following table)"
"\platform\collect-azure-metrics-logs.md","23","log analytics","2. Azure diagnostics to Azure storage to Log Analytics (*Storage* in the following table)"
"\platform\collect-azure-metrics-logs.md","25","log analytics","4. Scripts to collect and then post data into Log Analytics (blanks in the following table and for services that are not listed)"
"\platform\collect-azure-metrics-logs.md","57","log analytics","> For monitoring Azure virtual machines (both Linux and Windows), we recommend installing the [Log Analytics VM extension](../../azure-monitor/learn/quick-collect-azurevm.md). The agent provides you with insights collected from within your virtual machines. You can also use the extension for Virtual machine scale sets."
"\platform\collect-azure-metrics-logs.md","61","log analytics","## Azure diagnostics direct to Log Analytics"
"\platform\collect-azure-metrics-logs.md","62","log analytics","Many Azure resources are able to write diagnostic logs and metrics directly to Log Analytics and this is the preferred way of collecting the data for analysis. When using Azure diagnostics, data is written immediately to Log Analytics and there is no need to first write the data to storage."
"\platform\collect-azure-metrics-logs.md","64","log analytics","Azure resources that support [Azure monitor](../../azure-monitor/overview.md) can send their logs and metrics directly to Log Analytics."
"\platform\collect-azure-metrics-logs.md","67","log analytics","> Sending multi-dimensional metrics to Log Analytics via diagnostic settings is not currently supported. Metrics with dimensions are exported as flattened single dimensional metrics, aggregated across dimension values."
"\platform\collect-azure-metrics-logs.md","91","log analytics","To enable diagnostics on a resource when it is created, and have the diagnostics sent to your Log Analytics workspace you can use a template similar to the one below. This example is for an Automation account but works for all supported resource types."
"\platform\collect-azure-metrics-logs.md","120","log analytics","## Azure diagnostics to storage then to Log Analytics"
"\platform\collect-azure-metrics-logs.md","122","log analytics","For collecting logs from within some resources, it is possible to send the logs to Azure storage and then configure Log Analytics to read the logs from storage."
"\platform\collect-azure-metrics-logs.md","133","log analytics","> You are charged normal Azure data rates for storage and transactions when you send diagnostics to a storage account and for when Log Analytics reads the data from your storage account."
"\platform\collect-azure-metrics-logs.md","137","log analytics","See [Use blob storage for IIS and table storage for events](azure-storage-iis-table.md) to learn more about how Log Analytics can collect these logs."
"\platform\collect-azure-metrics-logs.md","141","log analytics","There is a connector for Application Insights, which allows data collected by Application Insights to be sent to Log Analytics."
"\platform\collect-azure-metrics-logs.md","145","log analytics","## Scripts to collect and post data to Log Analytics"
"\platform\collect-azure-metrics-logs.md","147","log analytics","For Azure services that do not provide a direct way to send logs and metrics to Log Analytics you can use an Azure Automation script to collect the log and metrics. The script can then send the data to Log Analytics using the [data collector API](../../azure-monitor/platform/data-collector-api.md)"
"\platform\collect-azure-metrics-logs.md","149","log analytics","The Azure template gallery has [examples of using Azure Automation](https://azure.microsoft.com/resources/templates/?term=OMS) to collect data from services and sending it to Log Analytics."
"\platform\collect-azurepass-posh.md","2","log analytics","title: Collect Azure PaaS resource metrics with Log Analytics | Microsoft Docs"
"\platform\collect-azurepass-posh.md","3","log analytics","description: Learn how to enable Azure PaaS resource metrics collection using PowerShell for retention and analysis in Log Analytics."
"\platform\collect-azurepass-posh.md","18","log analytics","# Configure collection of Azure PaaS resource metrics with Log Analytics"
"\platform\collect-azurepass-posh.md","20","log analytics","Azure Platform as a Service (PaaS) resources, like Azure SQL and Web Sites (Web Apps), can emit performance metrics data natively to Log Analytics. This script allows users to enable metrics logging for PaaS resources already deployed in a specific resource group or across an entire subscription. "
"\platform\collect-azurepass-posh.md","22","log analytics","Today, there is no way to enable metrics logging for PaaS resources through the Azure portal. Therefore, you need to use a PowerShell script. This native metrics logging capability along with Log Analytics monitoring, enable you to monitor Azure resources at scale. "
"\platform\collect-azurepass-posh.md","44","log analytics","Only resources that support collecting metrics with Azure diagnostics and send directly to Log Analytics are supported.  For a detailed list, review [Collect Azure service logs and metrics for use in Log Analytics](collect-azure-metrics-logs.md) "
"\platform\collect-azurepass-posh.md","58","log analytics","6. Next, the script returns a list of Log Analytics workspaces registered in the subscription.  Select the appropriate one from the list.<br><br> ![Select workspace returned by script](./media/collect-azurepass-posh/script-select-workspace.png)<br> "
"\platform\collect-azurepass-posh.md","60","log analytics","   You can only select resources that support collecting metrics with Azure Diagnostics and sending directly to a Log Analytics.  The script will show a value of **True** under the **Metrics** column for the list of resources it discovers in your subscription or specified resource group.    "
"\platform\collect-azurepass-posh.md","65","log analytics","Shortly after completion, you will start to see data from the Azure PaaS resource in your Log Analytics repository.  A record with type `AzureMetrics` is created and analyzing these records are supported by the [Azure SQL Analytics](../../azure-monitor/insights/azure-sql.md) and [Azure Web Apps Analytics](../../azure-monitor/insights/azure-web-apps-analytics.md) management solutions.   "
"\platform\collect-azurepass-posh.md","65","management solution","Shortly after completion, you will start to see data from the Azure PaaS resource in your Log Analytics repository.  A record with type `AzureMetrics` is created and analyzing these records are supported by the [Azure SQL Analytics](../../azure-monitor/insights/azure-sql.md) and [Azure Web Apps Analytics](../../azure-monitor/insights/azure-web-apps-analytics.md) management solutions.   "
"\platform\collect-azurepass-posh.md","68","log analytics","If you have a resource that is already sending data to a Log Analytics workspace and you later decide to reconfigure it to reference another workspace, you can run the script with the `-Update` parameter.  "
"\platform\collect-azurepass-posh.md","81","log analytics","* Review [Create a custom dashboard for use in Log Analytics](../../azure-monitor/platform/dashboards.md) to understand how to visualize your log searches in meaningful ways for the organization."
"\platform\collect-sccm.md","2","log analytics","title: Connect Configuration Manager to Log Analytics | Microsoft Docs"
"\platform\collect-sccm.md","3","log analytics","description: This article shows the steps to connect Configuration Manager to Log Analytics and start analyzing data."
"\platform\collect-sccm.md","18","log analytics","# Connect Configuration Manager to Log Analytics"
"\platform\collect-sccm.md","19","log analytics","You can connect your System Center Configuration Manager environment to Azure Log Analytics to sync device collection data and reference these collections in Log Analytics and Azure Automation.  "
"\platform\collect-sccm.md","26","log analytics","The following steps summarize the steps to configure Configuration Manager integration with Log Analytics.  "
"\platform\collect-sccm.md","29","log analytics","2. In the Azure portal, [grant Configuration Manager (the registered web app) with permission to access Log Analytics](#grant-configuration-manager-with-permissions-to-log-analytics)."
"\platform\collect-sccm.md","32","log analytics","5. [Download and install the Microsoft Monitoring Agent](#download-and-install-the-agent) on the computer running the Configuration Manager service connection point site system role. The agent sends Configuration Manager data to the Log Analytics workspace."
"\platform\collect-sccm.md","33","log analytics","6. In Log Analytics, [import collections from Configuration Manager](#import-collections) as computer groups."
"\platform\collect-sccm.md","34","log analytics","7. In Log Analytics, view data from Configuration Manager as [computer groups](../../azure-monitor/platform/computer-groups.md)."
"\platform\collect-sccm.md","36","log analytics","You can read more about connecting Configuration Manager to Log Analytics at [Sync data from Configuration Manager to the Microsoft Log Analytics](https://technet.microsoft.com/library/mt757374.aspx)."
"\platform\collect-sccm.md","38","log analytics","## Grant Configuration Manager with permissions to Log Analytics"
"\platform\collect-sccm.md","39","log analytics","In the following procedure, you grant the *Contributor* role in your Log Analytics workspace to the AD application and service principal you created earlier for Configuration Manager.  If you do not already have a workspace, see [Create a workspace in Azure Log Analytics](../../azure-monitor/learn/quick-create-workspace.md) before proceeding.  This allows Configuration Manager to authenticate and connect to your Log Analytics workspace.  "
"\platform\collect-sccm.md","42","log analytics","> You must specify permissions in Log Analytics for Configuration Manager. Otherwise, you receive an error message when you use the configuration wizard in Configuration Manager."
"\platform\collect-sccm.md","45","log analytics","1. In the Azure portal, click **All services** found in the upper left-hand corner. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**.<br><br> ![Azure portal](media/collect-sccm/azure-portal-01.png)<br><br>  "
"\platform\collect-sccm.md","46","log analytics","2. In your list of Log Analytics workspaces, select the workspace to modify."
"\platform\collect-sccm.md","53","log analytics","Review the article [Connect Windows computers to the Log Analytics service in Azure](../../azure-monitor/platform/agent-windows.md) to understand the methods available for installing the Microsoft Monitoring Agent on the computer hosting the Configuration Manager service connection point site system role.  "
"\platform\collect-sccm.md","55","log analytics","## Add a Log Analytics connection to Configuration Manager"
"\platform\collect-sccm.md","56","log analytics","In order to add Log Analytics connection, your Configuration Manager environment must have a [service connection point](https://technet.microsoft.com/library/mt627781.aspx) configured for online mode."
"\platform\collect-sccm.md","58","log analytics","1. In the **Administration** workspace of Configuration Manager, select **OMS Connector**. This opens the **Add Log Analytics Connection Wizard**. Select **Next**."
"\platform\collect-sccm.md","61","log analytics","   >OMS is now referred to as Log Analytics."
"\platform\collect-sccm.md","67","log analytics","   3. In the Azure portal, you've provided the registered web app with permission to access Log Analytics.  "
"\platform\collect-sccm.md","68","log analytics","      ![Connection to Log Analytics Wizard General page](./media/collect-sccm/sccm-console-general01.png)"
"\platform\collect-sccm.md","69","log analytics","3. On the **Azure Active Directory** screen, configure your connection settings to Log Analytics by providing your **Tenant**, **Client ID**, and **Client Secret Key**, then select **Next**.  "
"\platform\collect-sccm.md","70","log analytics","   ![Connection to Log Analytics Wizard Azure Active Directory page](./media/collect-sccm/sccm-wizard-tenant-filled03.png)"
"\platform\collect-sccm.md","72","log analytics","   ![Connection to Log Analytics Wizard Log Analytics Connection page](./media/collect-sccm/sccm-wizard-configure04.png)"
"\platform\collect-sccm.md","73","log analytics","5. The wizard connects to the Log Analytics service using the information you've input. Select the device collections that you want to sync with the service and then click **Add**.  "
"\platform\collect-sccm.md","78","log analytics","> You must connect the top-tier site in your hierarchy to Log Analytics. If you connect a standalone primary site to Log Analytics and then add a central administration site to your environment, you have to delete and recreate the connection within the new hierarchy."
"\platform\collect-sccm.md","82","log analytics","After you have linked Configuration Manager to Log Analytics, you can add or remove collections, and view the properties of the connection."
"\platform\collect-sccm.md","84","log analytics","## Update Log Analytics connection properties"
"\platform\collect-sccm.md","85","log analytics","If a password or client secret key ever expires or is lost, you'll need to manually update the Log Analytics connection properties."
"\platform\collect-sccm.md","91","log analytics","After you've added a Log Analytics connection to Configuration Manager and installed the agent on the computer running the Configuration Manager service connection point site system role, the next step is to import collections from Configuration Manager in Log Analytics as computer groups."
"\platform\collect-sccm.md","95","log analytics","1. In the Azure portal, click **All services** found in the upper left-hand corner. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**."
"\platform\collect-sccm.md","96","log analytics","2. In your list of Log Analytics workspaces, select the workspace Configuration Manager is registered with.  "
"\platform\collect-sccm.md","97","log analytics","3. Select **Advanced settings**.<br><br> ![Log Analytics Advance Settings](media/collect-sccm/log-analytics-advanced-settings-01.png)<br><br>  "
"\platform\collect-sccm.md","103","log analytics","After you've added a Log Analytics connection to Configuration Manager and installed the agent on the computer running the Configuration Manager service connection point site system role, data from the agent is sent to Log Analytics. In Log Analytics, your Configuration Manager collections appear as [computer groups](../../azure-monitor/platform/computer-groups.md). You can view the groups from the **Configuration Manager** page under **Settings\Computer Groups**."
"\platform\computer-groups.md","2","log analytics","title: Computer groups in Azure Log Analytics log searches | Microsoft Docs"
"\platform\computer-groups.md","3","log analytics","description: Computer groups in Log Analytics allow you to scope log searches to a particular set of computers.  This article describes the different methods you can use to create computer groups and how to use them in a log search."
"\platform\computer-groups.md","18","log analytics","# Computer groups in Log Analytics log searches"
"\platform\computer-groups.md","20","log analytics","Computer groups in Log Analytics allow you to scope [log searches](../../azure-monitor/log-query/log-query-overview.md) to a particular set of computers.  Each group is populated with computers either using a query that you define or by importing groups from different sources.  When the group is included in a log search, the results are limited to records that match the computers in the group."
"\platform\computer-groups.md","23","log analytics","You can create a computer group in Log Analytics using any of the methods in the following table.  Details on each method are provided in the sections below. "
"\platform\computer-groups.md","29","log analytics","| Active Directory |Automatically scan the group membership of any agent computers that are members of an Active Directory domain and create a group in Log Analytics for each security group. |"
"\platform\computer-groups.md","30","log analytics","| Configuration Manager | Import collections from System Center Configuration Manager  and create a group in Log Analytics for each. |"
"\platform\computer-groups.md","31","log analytics","| Windows Server Update Services |Automatically scan WSUS servers or clients for targeting groups and create a group in Log Analytics for each. |"
"\platform\computer-groups.md","58","log analytics","When you configure Log Analytics to import Active Directory group memberships, it analyzes the group membership of any domain joined computers with the Log Analytics agent.  A computer group is created in Log Analytics for each security group in Active Directory, and each computer is added to the computer groups corresponding to the security groups they are members of.  This membership is continuously updated every 4 hours.  "
"\platform\computer-groups.md","60","log analytics","You configure Log Analytics to import Active Directory security groups from Log Analytics **Advanced settings** in the Azure portal.  Select **Computer Groups**, **Active Directory**, and then **Import Active Directory group memberships from computers**.  There is no further configuration required."
"\platform\computer-groups.md","67","log analytics","When you configure Log Analytics to import WSUS group memberships, it analyzes the targeting group membership of any computers with the Log Analytics agent.  If you are using client-side targeting, any computer that is connected to Log Analytics and is part of any WSUS targeting groups has its group membership imported to Log Analytics. If you are using server-side targeting, the Log Analytics agent should be installed on the WSUS server in order for the group membership information to be imported to Log Analytics.  This membership is continuously updated every 4 hours. "
"\platform\computer-groups.md","69","log analytics","You configure Log Analytics to import WSUS groups from Log Analytics **Advanced settings** in the Azure portal.  Select **Computer Groups**, **WSUS**, and then **Import WSUS group memberships**.  There is no further configuration required."
"\platform\computer-groups.md","76","log analytics","When you configure Log Analytics to import Configuration Manager collection memberships, it creates a computer group for each collection.  The collection membership information is retrieved every 3 hours to keep the  computer groups current. "
"\platform\computer-groups.md","78","log analytics","Before you can import Configuration Manager collections, you must [connect Configuration Manager to Log Analytics](../../azure-monitor/platform/collect-sccm.md).  You can then configure the import from Log Analytics **Advanced settings** in the Azure portal.  Select **Computer Groups**, **SCCM**, and then **Import Configuration Manager collection memberships**.  There is no further configuration required."
"\platform\computer-groups.md","85","log analytics","You can view computer groups that were created from a log search or the Log Search API from Log Analytics **Advanced settings** in the Azure portal.  Select **Computer Groups** and then **Saved Groups**.  "
"\platform\computer-groups.md","117","log analytics","A record is created in the Log Analytics workspace for each computer group membership created from Active Directory or WSUS.  These records have a type of **ComputerGroup** and have the properties in the following table.  Records are not created for computer groups based on log searches."
"\platform\create-pipeline-datacollector-api.md","2","log analytics","title: Create a data pipeline with the Azure Log Analytics Data Collector API | Microsoft Docs"
"\platform\create-pipeline-datacollector-api.md","3","log analytics","description: You can use the Log Analytics HTTP Data Collector API to add POST JSON data to the Log Analytics repository from any client that can call the REST API. This article describes how to upload data stored in files in an automated way."
"\platform\create-pipeline-datacollector-api.md","20","log analytics","The [Log Analytics Data Collector API](../../azure-monitor/platform/data-collector-api.md) allows you to import any custom data into Log Analytics. The only requirements are that the data be JSON-formatted and split into 30 MB or less segments. This is a completely flexible mechanism that can be plugged into in many ways: from data being sent directly from your application, to one-off adhoc uploads. This article will outline some starting points for a common scenario: the need to upload data stored in files on a regular, automated basis. While the pipeline presented here will not be the most performant or otherwise optimized, it is intended to serve as a starting point towards building a production pipeline of your own."
"\platform\create-pipeline-datacollector-api.md","40","log analytics","2. A processor reads this new data and converts it to JSON, the format required by Log Analytics.  In this example, we use an [Azure Function](../../azure-functions/functions-overview.md) as a lightweight, cost-efficient way of executing our processing code. The function is kicked off by the same Logic App that we used to detect a the new data."
"\platform\create-pipeline-datacollector-api.md","42","log analytics","3. Finally, once the JSON object is available, it is sent to Log Analytics. The same Logic App sends the data to Log Analytics using the built in Log Analytics Data Collector activity."
"\platform\create-pipeline-datacollector-api.md","46","log analytics","To monitor this pipeline, we use Application Insights to monitor our Azure Function [details here](../../azure-functions/functions-monitoring.md), and Log Analytics to monitor our Logic App [details here](../../logic-apps/logic-apps-monitor-your-logic-apps-oms.md). "
"\platform\create-pipeline-datacollector-api.md","49","log analytics","To set the pipeline, first make sure you have your blob container created and configured. Likewise, make sure that the Log Analytics workspace where you???d like to send the data to is created."
"\platform\create-pipeline-datacollector-api.md","52","log analytics","Ingesting JSON data is trivial with Logic Apps, and since no transformation needs to take place, we can encase the entire pipeline in a single Logic App. Once both the blob container and the Log Analytics workspace have been configured, create a new Logic App and configure it as follows:"
"\platform\create-pipeline-datacollector-api.md","134","log analytics","Now you can upload a new file to the blob configured earlier and have it monitored by your  Logic App. Soon, you should see a new instance of the Logic App kick off, call out to your Azure Function, and then successfully send the data to Log Analytics. "
"\platform\create-pipeline-datacollector-api.md","137","log analytics",">It can take up to 30 minutes for the data to appear in Log Analytics the first time you send a new data type."
"\platform\create-pipeline-datacollector-api.md","140","log analytics","## Correlating with other data in Log Analytics and Application Insights"
"\platform\create-pipeline-datacollector-api.md","141","log analytics","To complete our goal of correlating Application Insights page view data with the population data we ingested from our custom data source, run the following query from either your Application Insights Analytics window or Log Analytics workspace:"
"\platform\create-pipeline-datacollector-api.md","160","log analytics","* Add logic to ensure that the 30MB/single Log Analytics Ingestion API call limit is not exceeded. Split the data into smaller segments if needed."
"\platform\create-pipeline-datacollector-api.md","161","log analytics","* Set up a clean-up policy on your blob storage. Once successfully sent to Log Analytics, unless you???d like to keep the raw data available for archival purposes, there is no reason to continue storing it. "
"\platform\create-pipeline-datacollector-api.md","169","log analytics","Learn more about the  [Data Collector API](../../azure-monitor/platform/data-collector-api.md) to write data to Log Analytics from any REST API client."
"\platform\custom-fields.md","2","log analytics","title: Custom fields in Azure Log Analytics | Microsoft Docs"
"\platform\custom-fields.md","3","log analytics","description: The Custom Fields feature of Log Analytics allows you to create your own searchable fields from Log Analytics records that add to the properties of a collected record.  This article describes the process to create a custom field and provides a detailed walkthrough with a sample event."
"\platform\custom-fields.md","18","log analytics","# Create custom fields in Log Analytics"
"\platform\custom-fields.md","21","log analytics","> This article describes how to parse text data in Log Analytics as it's collected. There are advantages to parsing text datain a query after it's collected as described in [Parse text data in Log Analytics](../log-query/parse-text.md)."
"\platform\custom-fields.md","23","log analytics","The **Custom Fields** feature of Log Analytics allows you to extend existing records in Log Analytics by adding your own searchable fields.  Custom fields are automatically populated from data extracted from other properties in the same record."
"\platform\custom-fields.md","37","log analytics","When you create a custom field, Log Analytics must understand which data to use to populate its value.  It uses a technology from Microsoft Research called FlashExtract to quickly identify this data.  Rather than requiring you to provide explicit instructions, Log Analytics learns about the data you want to extract from examples that you provide."
"\platform\custom-fields.md","42","log analytics","> The custom field is populated as records matching the specified criteria are added to Log Analytics, so it will only appear on records collected after the custom field is created.  The custom field will not be added to records that are already in the data store when it???s created."
"\platform\custom-fields.md","46","log analytics","The first step is to identify the records that will get the custom field.  You start with a [standard log query](../log-query/log-query-overview.md) and then select a record to act as the model that Log Analytics will learn from.  When you specify that you are going to extract data into a custom field, the **Field Extraction Wizard** is opened where you validate and refine the criteria."
"\platform\custom-fields.md","49","log analytics","2. Select a record that Log Analytics will use to act as a model for extracting data to populate the custom field.  You will identify the data that you want to extract from this record, and Log Analytics will use this information to determine the logic to populate the custom field for all similar records."
"\platform\custom-fields.md","55","log analytics","Once you???ve identified the records that will have the custom field, you identify the data that you want to extract.  Log Analytics will use this information to identify similar patterns in similar records.  In the step after this you will be able to validate the results and provide further details for Log Analytics to use in its analysis."
"\platform\custom-fields.md","62","log analytics","Once you have performed the initial extract, Log Analytics will display its results based on data that has already been collected.  If the results look accurate then you can create the custom field with no further work.  If not, then you can refine the results so that Log Analytics can improve its logic."
"\platform\custom-fields.md","65","log analytics","2. The entry is copied to the **Additional examples** section underneath the **Main Example**.  You can adjust the highlight here to help Log Analytics understand the selection it should have made."
"\platform\custom-fields.md","73","log analytics","You can view a list of all custom fields in your management group from the **Advanced Settings** menu of your Log Analytics workspace in the Azure portal.  Select **Data** and then **Custom fields** for a list of all custom fields in your workspace.  "
"\platform\custom-fields.md","115","log analytics","We can see that the entries for **WMI Performance Adapter** have been corrected, and Log Analytics also used that information to correct the records for **Windows Module Installer**.  We can see in the **Summary** section though that **DPMRA** is still not being identified correctly."
"\platform\dashboards.md","2","log analytics","title: Create a custom dashboard in Azure Log Analytics | Microsoft Docs"
"\platform\dashboards.md","3","log analytics","description: This guide helps you understand how Log Analytics dashboards can visualize all of your saved log searches, giving you a single lens to view your environment."
"\platform\dashboards.md","18","log analytics","# Create a custom dashboard for use in Log Analytics"
"\platform\dashboards.md","20","log analytics","This guide helps you understand how Log Analytics dashboards can visualize all of your saved log searches, giving you a single lens to view your environment."
"\platform\dashboards.md","84","log analytics","* Create [alerts](../../monitoring-and-diagnostics/monitoring-overview-alerts.md) in Log Analytics to generate notifications and to remediate problems."
"\platform\data-collection.md","94","metrics explorer","- Use [Metrics explorer](../../monitoring-and-diagnostics/monitoring-metric-charts.md) to analyze collected metrics and plot them on a chart. Track the performance of a resource (such as a VM, website, or logic app) by pinning charts to an [Azure dashboard](../../azure-portal/azure-portal-dashboards.md)."
"\platform\data-collection.md","107","metrics explorer","Metric data is used in a variety of ways as described above. Use [Metrics explorer](../../monitoring-and-diagnostics/monitoring-metric-charts.md) to directly analyze metric data in Azure Monitor and chart the values of multiple metrics over time. You can view the charts interactively or pin them to a dashboard to view them with other visualizations. You can also retrieve metrics by using the [Azure monitoring REST API](../../monitoring-and-diagnostics/monitoring-rest-api-walkthrough.md)."
"\platform\data-collection.md","109","metrics explorer","![Metrics Explorer](media/data-collection/metrics-explorer.png)"
"\platform\data-collection.md","144","log analytics","- Use [Log Analytics](../log-query/get-started-portal.md) in the Azure portal to write queries analyzing log data.  Pin results rendered as tables or charts to an [Azure dashboard](../../azure-portal/azure-portal-dashboards.md)."
"\platform\data-collection.md","151","log analytics","All log data in Azure Monitor is retrieved using a [log query](../log-query/log-query-overview.md)  written with the [Data Explorer query language](../log-query/get-started-queries.md), which allows you to quickly retrieve, consolidate, and analyze collected data. Use [Log Analytics](../log-query/portals.md) to write and test queries in the Azure portal. You can  work with results interactively or pin them to a dashboard to view them with other visualizations. You can also retrieve logs by using the [Azure monitoring REST API](../../monitoring-and-diagnostics/monitoring-rest-api-walkthrough.md)."
"\platform\data-collection.md","167","metrics explorer","As described above, metrics are more responsive than logs, so you can create alerts with lower latency and at a lower cost. A significant amount of numeric data is stored as logs that would be suitable for metrics but isn't stored as metrics in Azure Monitor.  A common example is performance data collected from agents and management solutions. Some of these values can be copied into metrics, where they are available for alerting and for analysis with Metrics Explorer."
"\platform\data-collection.md","167","management solution","As described above, metrics are more responsive than logs, so you can create alerts with lower latency and at a lower cost. A significant amount of numeric data is stored as logs that would be suitable for metrics but isn't stored as metrics in Azure Monitor.  A common example is performance data collected from agents and management solutions. Some of these values can be copied into metrics, where they are available for alerting and for analysis with Metrics Explorer."
"\platform\data-collector-api.md","2","log analytics","title: Log Analytics HTTP Data Collector API | Microsoft Docs"
"\platform\data-collector-api.md","3","log analytics","description: You can use the Log Analytics HTTP Data Collector API to add POST JSON data to the Log Analytics repository from any client that can call the REST API. This article describes how to use the API, and has examples of how to publish data by using different programming languages."
"\platform\data-collector-api.md","18","log analytics","# Send data to Log Analytics with the HTTP Data Collector API (public preview)"
"\platform\data-collector-api.md","19","log analytics","This article shows you how to use the HTTP Data Collector API to send data to Log Analytics from a REST API client.  It describes how to format data collected by your script or application, include it in a request, and have that request authorized by Log Analytics.  Examples are provided for PowerShell, C#, and Python."
"\platform\data-collector-api.md","22","log analytics","> The Log Analytics HTTP Data Collector API is in public preview."
"\platform\data-collector-api.md","25","log analytics","You can use the HTTP Data Collector API to send data to Log Analytics from any client that can call a REST API.  This might be a runbook in Azure Automation that collects management data from Azure or another cloud, or it might be an alternate management system that uses Log Analytics to consolidate and analyze data."
"\platform\data-collector-api.md","27","log analytics","All data in the Log Analytics repository is stored as a record with a particular record type.  You format your data to send to the HTTP Data Collector API as multiple records in JSON.  When you submit the data, an individual record is created in the repository for each record in the request payload."
"\platform\data-collector-api.md","47","log analytics","| CustomerID |The unique identifier for the Log Analytics workspace. |"
"\platform\data-collector-api.md","60","log analytics","Any request to the Log Analytics HTTP Data Collector API must include an authorization header. To authenticate a request, you must sign the request with either the primary or the secondary key for the workspace that is making the request. Then, pass that signature as part of the request.   "
"\platform\data-collector-api.md","68","log analytics","*WorkspaceID* is the unique identifier for the Log Analytics workspace. *Signature* is a [Hash-based Message Authentication Code (HMAC)](https://msdn.microsoft.com/library/system.security.cryptography.hmacsha256.aspx) that is constructed from the request and then computed by using the [SHA256 algorithm](https://msdn.microsoft.com/library/system.security.cryptography.sha256.aspx). Then, you encode it by using Base64 encoding."
"\platform\data-collector-api.md","128","log analytics","You define a custom record type when you submit data through the Log Analytics HTTP Data Collector API. Currently, you can't write data to existing record types that were created by other data types and solutions. Log Analytics reads the incoming data and then creates properties that match the data types of the values that you enter."
"\platform\data-collector-api.md","130","log analytics","Each request to the Log Analytics API must include a **Log-Type** header with the name for the record type. The suffix **_CL** is automatically appended to the name you enter to distinguish it from other log types as a custom log. For example, if you enter the name **MyNewRecordType**, Log Analytics creates a record with the type **MyNewRecordType_CL**. This helps ensure that there are no conflicts between user-created type names and those shipped in current or future Microsoft solutions."
"\platform\data-collector-api.md","132","log analytics","To identify a property's data type, Log Analytics adds a suffix to the property name. If a property contains a null value, the property is not included in that record. This table lists the property data type and corresponding suffix:"
"\platform\data-collector-api.md","142","log analytics","The data type that Log Analytics uses for each property depends on whether the record type for the new record already exists."
"\platform\data-collector-api.md","144","log analytics","* If the record type does not exist, Log Analytics creates a new one. Log Analytics uses the JSON type inference to determine the data type for each property for the new record."
"\platform\data-collector-api.md","145","log analytics","* If the record type does exist, Log Analytics attempts to create a new record based on existing properties. If the data type for a property in the new record doesn???t match and can???t be converted to the existing type, or if the record includes a property that doesn???t exist, Log Analytics creates a new property that has the relevant suffix."
"\platform\data-collector-api.md","155","log analytics","But, if you then made this next submission, Log Analytics would create the new properties **boolean_d** and **string_d**. These values can't be converted:"
"\platform\data-collector-api.md","159","log analytics","If you then submitted the following entry, before the record type was created, Log Analytics would create a record with three properties, **number_s**, **boolean_s**, and **string_s**. In this entry, each of the initial values is formatted as a string:"
"\platform\data-collector-api.md","164","log analytics","There are some constraints around the data posted to the Log Analytics Data collection API."
"\platform\data-collector-api.md","166","log analytics","* Maximum of 30 MB per post to Log Analytics Data Collector API. This is a size limit for a single post. If the data from a single post that exceeds 30 MB, you should split the data up to smaller sized chunks and send them concurrently."
"\platform\data-collector-api.md","194","log analytics","To query data submitted by the Log Analytics HTTP Data Collector API, search for records with **Type** that is equal to the **LogType** value that you specified, appended with **_CL**. For example, if you used **MyCustomLog**, then you'd return all records with **Type=MyCustomLog_CL**."
"\platform\data-collector-api.md","197","log analytics","> If your workspace has been upgraded to the [new Log Analytics query language](../../azure-monitor/log-query/log-query-overview.md), then the above query would change to the following."
"\platform\data-collector-api.md","197","log analytics query language","> If your workspace has been upgraded to the [new Log Analytics query language](../../azure-monitor/log-query/log-query-overview.md), then the above query would change to the following."
"\platform\data-collector-api.md","202","log analytics","In the next sections, you'll find samples of how to submit data to the Log Analytics HTTP Data Collector API by using different programming languages."
"\platform\data-collector-api.md","206","log analytics","1. In the Azure portal, locate your Log Analytics workspace."
"\platform\data-collector-api.md","224","log analytics","# You can use an optional field to specify the timestamp from the data. If the time field is not specified, Log Analytics assumes the time is the message ingestion time"
"\platform\data-collector-api.md","313","log analytics","		// Update customerId to your Log Analytics workspace ID"
"\platform\data-collector-api.md","319","log analytics","		// LogName is name of the event type that is being submitted to Log Analytics"
"\platform\data-collector-api.md","322","log analytics","		// You can use an optional field to specify the timestamp from the data. If the time field is not specified, Log Analytics assumes the time is the message ingestion time"
"\platform\data-collector-api.md","391","log analytics","# Update the customer ID to your Log Analytics workspace ID"
"\platform\data-collector-api.md","466","log analytics","- Use the [Log Search API](../../azure-monitor/log-query/log-query-overview.md) to retrieve data from the Log Analytics repository."
"\platform\data-collector-api.md","468","log analytics","- Learn more about how [create a data pipeline with the Data Collector API](../../azure-monitor/platform/create-pipeline-datacollector-api.md) using Logic Apps workflow to Log Analytics."
"\platform\data-ingestion-time.md","2","log analytics","title: Data ingestion time in Azure Log Analytics | Microsoft Docs"
"\platform\data-ingestion-time.md","3","log analytics","description: Explains the different factors that affect latency in collecting data in Azure Log Analytics."
"\platform\data-ingestion-time.md","16","log analytics","# Data ingestion time in Log Analytics"
"\platform\data-ingestion-time.md","17","log analytics","Azure Log Analytics is a high scale data service in Azure Monitor that serves thousands of customers sending terabytes of data each month at a growing pace. There are often questions about the time it takes for data to become available in Log Analytics after it's collected. This article explains the different factors that affect this latency."
"\platform\data-ingestion-time.md","20","log analytics","Latency refers to the time that data is created on the monitored system and the time that it comes available for analysis in Log Analytics. The typical latency to ingest data into Log Analytics is between 2 and 5 minutes. The specific latency for any particular data will vary depending on a variety of factors explained below."
"\platform\data-ingestion-time.md","26","log analytics","- Agent time - The time to discover an event, collect it, and then send it to Log Analytics ingestion point as a log record. In most cases, this process is handled by an agent."
"\platform\data-ingestion-time.md","28","log analytics","- Indexing time ??? The time spent to ingest a log record into Log Analytics Big Data store."
"\platform\data-ingestion-time.md","33","management solution","Agents and management solutions use different strategies to collect data from a virtual machine, which may affect the latency. Some specific examples include the following:"
"\platform\data-ingestion-time.md","40","log analytics","To ensure Log Analytics agent is lightweight, the agent buffers logs and periodically uploads them to Log Analytics. Upload frequency varies between 30 seconds and 2 minutes depending on the type of data. Most data is uploaded in under 1 minute. Network conditions may negatively affect the latency of this data to reach Log Analytics ingestion point."
"\platform\data-ingestion-time.md","43","log analytics","Activity log data will take about 5 minutes to come available in Log Analytics. Data from diagnostic logs and metrics can take 1-5 minutes to become available, depending on the Azure service. It will then take an additional 30-60 seconds for logs and 3 minutes for metrics for data to be sent to Log Analytics ingestion point."
"\platform\data-ingestion-time.md","45","management solution","### Management solutions collection"
"\platform\data-ingestion-time.md","54","log analytics","Once log records are ingested into Log Analytics pipeline, they're written to temporary storage to ensure tenant isolation and to make sure that data isn't lost. This process typically adds 5-15 seconds. Some management solutions implement heavier algorithms to aggregate data and derive insights as data is streaming in. For example, the Network Performance Monitoring aggregates incoming data over 3-minute intervals, effectively adding 3-minute latency. Another process that adds latency is the process that handles custom logs. In some cases, this process might add few minutes of latency to logs that are collected from files by the agent."
"\platform\data-ingestion-time.md","54","management solution","Once log records are ingested into Log Analytics pipeline, they're written to temporary storage to ensure tenant isolation and to make sure that data isn't lost. This process typically adds 5-15 seconds. Some management solutions implement heavier algorithms to aggregate data and derive insights as data is streaming in. For example, the Network Performance Monitoring aggregates incoming data over 3-minute intervals, effectively adding 3-minute latency. Another process that adds latency is the process that handles custom logs. In some cases, this process might add few minutes of latency to logs that are collected from files by the agent."
"\platform\data-ingestion-time.md","60","log analytics","The top priority of Log Analytics is to ensure that no customer data is lost, so the system has built-in protection for data surges. This includes buffers to ensure that even under immense load, the system will keep functioning. Under normal load, these controls add less than a minute, but in extreme conditions and failures they could add significant time while ensuring data is safe."
"\platform\data-ingestion-time.md","63","log analytics","There is a built-in balance for every Big Data platform between providing analytics and advanced search capabilities as opposed to providing immediate access to the data. Azure Log Analytics allows you to run powerful queries on billions of records and get results within a few seconds. This is made possible because the infrastructure transforms the data dramatically during its ingestion and stores it in unique compact structures. The system buffers the data until enough of it is available to create these structures. This must be completed before the log record appears in search results."
"\platform\data-ingestion-time.md","88","log analytics","* Read the [Service Level Agreement (SLA)](https://azure.microsoft.com/support/legal/sla/log-analytics/v1_1/) for Log Analytics."
"\platform\data-security.md","2","log analytics","title: Log Analytics data security | Microsoft Docs"
"\platform\data-security.md","3","log analytics","description: Learn about how Log Analytics protects your privacy and secures your data."
"\platform\data-security.md","17","log analytics","# Log Analytics data security"
"\platform\data-security.md","18","log analytics","This document is intended to provide information specific to Log Analytics, which is a feature of Azure Monitor, to supplement the information on [Azure Trust Center](../../security/security-microsoft-trust-center.md).  "
"\platform\data-security.md","20","log analytics","This article explains how data is collected, processed, and secured by Log Analytics. You can use agents to connect to the web service, use System Center Operations Manager to collect operational data, or retrieve data from Azure diagnostics for use by Log Analytics. "
"\platform\data-security.md","22","log analytics","The Log Analytics service manages your cloud-based data securely by using the following methods:"
"\platform\data-security.md","35","log analytics","To insure the security of data in transit to Log Analytics, we strongly encourage you to configure the agent to use at least Transport Layer Security (TLS) 1.2. Older versions of TLS/Secure Sockets Layer (SSL) have been found to be vulnerable and while they still currently work to allow backwards compatibility, they are **not recommended**, and the industry is quickly moving to abandon support for these older protocols. "
"\platform\data-security.md","37","log analytics","The [PCI Security Standards Council](https://www.pcisecuritystandards.org/) has set a [deadline of June 30th, 2018](https://www.pcisecuritystandards.org/pdfs/PCI_SSC_Migrating_from_SSL_and_Early_TLS_Resource_Guide.pdf) to disable older versions of TLS/SSL and upgrade to more secure protocols. Once Azure drops legacy support, if your agents cannot communicate over at least TLS 1.2 you would not be able to send data to Log Analytics. "
"\platform\data-security.md","52","log analytics","After your data is ingested by the Log Analytics service, the data is kept logically separate on each component throughout the service. All data is tagged per workspace. This tagging persists throughout the data lifecycle, and it is enforced at each layer of the service. Your data is stored in a dedicated database in the storage cluster in the region you have selected."
"\platform\data-security.md","55","log analytics","Indexed log search data is stored and retained according to your pricing plan. For more information, see [Log Analytics Pricing](https://azure.microsoft.com/pricing/details/log-analytics/)."
"\platform\data-security.md","75","log analytics","| Event |EventId, EventOriginalID, BaseManagedEntityInternalId, RuleId, PublisherId, PublisherName, FullNumber, Number, Category, ChannelLevel, LoggingComputer, EventData, EventParameters, TimeGenerated, TimeAdded <br>**Note:** When you write events with custom fields in to the Windows event log, Log Analytics collects them. |"
"\platform\data-security.md","81","log analytics","The Log Analytics service is managed by Microsoft personnel and all activities are logged and can be audited. Log Analytics is operated as an Azure Service and meets all Azure Compliance and Security requirements. You can view details about the physical security of Azure assets on page 18 of the [Microsoft Azure Security Overview](https://download.microsoft.com/download/6/0/2/6028B1AE-4AEE-46CE-9187-641DA97FC1EE/Windows%20Azure%20Security%20Overview%20v1.01.pdf). Physical access rights to secure areas are changed within one business day for anyone who no longer has responsibility for the Log Analytics service, including transfer and termination. You can read about the global physical infrastructure we use at [Microsoft Datacenters](https://azure.microsoft.com/global-infrastructure/)."
"\platform\data-security.md","108","log analytics","The Log Analytics software development and service team's information security and governance program supports its business requirements and adheres to laws and regulations as described at [Microsoft Azure Trust Center](https://azure.microsoft.com/support/trust-center/) and [Microsoft Trust Center Compliance](https://www.microsoft.com/en-us/trustcenter/compliance/default.aspx). How Log Analytics establishes security requirements, identifies security controls, manages, and monitors risks are also described there. Annually, we review polices, standards, procedures, and guidelines."
"\platform\data-security.md","112","log analytics","Microsoft has a security and compliance team that oversees and assesses all services in Microsoft. Information security officers make up the team and they are not associated with the engineering teams that develops Log Analytics. The security officers have their own management chain and conduct independent assessments of products and services to ensure security and compliance."
"\platform\data-security.md","116","log analytics","The Log Analytics software development and service team are actively working with the Microsoft Legal and Compliance teams and other industry partners to acquire various certifications."
"\platform\data-security.md","119","log analytics","Azure Log Analytics meets the following requirements:"
"\platform\data-security.md","129","log analytics","* As an Azure service, the components that Log Analytics uses adhere to Azure compliance requirements. You can read more at [Microsoft Trust Center Compliance](https://www.microsoft.com/en-us/trustcenter/compliance/default.aspx)."
"\platform\data-security.md","132","log analytics","> In some certifications/attestations, Log Analytics is listed under its former name of *Operational Insights*."
"\platform\data-security.md","137","log analytics","The following diagram shows a cloud security architecture as the flow of information from your company and how it is secured as is moves to the Log Analytics service, ultimately seen by you in the Azure portal. More information about each step follows the diagram."
"\platform\data-security.md","139","log analytics","![Image of Log Analytics data collection and security](./media/data-security/log-analytics-data-security-diagram.png)"
"\platform\data-security.md","141","log analytics","## 1. Sign up for Log Analytics and collect data"
"\platform\data-security.md","142","log analytics","For your organization to send data to Log Analytics, you configure a Windows or Linux agent running on Azure virtual machines, or on virtual or physical computers in your environment or other cloud provider.  If you use Operations Manager, from the management group you configure the Operations Manager agent. Users (which might be you, other individual users, or a group of people) create one or more Log Analytics workspaces, and register agents by using one of the following accounts:"
"\platform\data-security.md","147","log analytics","A Log Analytics workspace is where data is collected, aggregated, analyzed, and presented. A workspace is primarily used as a means to partition data, and each workspace is unique. For example, you might want to have your production data managed with one workspace and your test data managed with another workspace. Workspaces also help an administrator control user access to the data. Each workspace can have multiple user accounts associated with it, and each user account can access multiple Log Analytics workspaces. You create workspaces based on datacenter region. Each workspace is replicated to other datacenters in the region, primarily for Log Analytics service availability."
"\platform\data-security.md","149","log analytics","For Operations Manager, the Operations Manager management group establishes a connection with the Log Analytics service. You then configure which agent-managed systems in the management group are allowed to collect and send data to the service. Depending on the solution you have enabled, data from these solutions are either sent directly from an Operations Manager management server to the Log Analytics service, or because of the volume of data collected by the agent-managed system, are sent directly from the agent to the service. For systems not monitored by Operations Manager, each connects securely to the Log Analytics service directly."
"\platform\data-security.md","151","log analytics","All communication between connected systems and the Log Analytics service is encrypted. The TLS (HTTPS) protocol is used for encryption.  The Microsoft SDL process is followed to ensure Log Analytics is up-to-date with the most recent advances in cryptographic protocols."
"\platform\data-security.md","153","log analytics","Each type of agent collects data for Log Analytics. The type of data that is collected is depends on the types of solutions used. You can see a summary of data collection at [Add Log Analytics solutions from the Solutions Gallery](../../azure-monitor/insights/solutions.md). Additionally, more detailed collection information is available for most solutions. A solution is a bundle of predefined views, log search queries, data collection rules, and processing logic. Only administrators can use Log Analytics to import a solution. After the solution is imported, it is moved to the Operations Manager management servers (if used), and then to any agents that you have chosen. Afterward, the agents collect the data."
"\platform\data-security.md","156","log analytics","You register all agent types with an enrollment key and a secure connection is established between the agent and the Log Analytics service using certificate-based authentication and SSL with port 443. Log Analytics uses a secret store to generate and maintain keys. Private keys are rotated every 90 days and are stored in Azure and are managed by the Azure operations who follow strict regulatory and compliance practices."
"\platform\data-security.md","158","log analytics","With Operations Manager, the management group registered with a Log Analytics workspace establishes a secure HTTPS connection with an Operations Manager management server."
"\platform\data-security.md","162","log analytics","With any agent reporting to an Operations Manager management group that is integrated with Log Analytics, if the management server is unable to communicate with the service for any reason, the collected data is stored locally in a temporary cache on the management server.   They try to resend the data every eight minutes for two hours.  For data that bypasses the management server and is sent directly to Log Analytics, the behavior is consistent with the Windows agent.  "
"\platform\data-security.md","168","log analytics","## 3. The Log Analytics service receives and processes data"
"\platform\data-security.md","169","log analytics","The Log Analytics service ensures that incoming data is from a trusted source by validating certificates and the data integrity with Azure authentication. The unprocessed raw data is then stored in an Azure Event Hub in the region the data will eventually be stored at rest. The type of data that is stored depends on the types of solutions that were imported and used to collect data. Then, the Log Analytics service processes the raw data and ingests it into the database."
"\platform\data-security.md","173","log analytics","## 4. Use Log Analytics to access the data"
"\platform\data-security.md","174","log analytics","To access your Log Analytics workspace, you sign into the Azure portal using the organizational account or Microsoft account that you set up previously. All traffic between the portal and Log Analytics service is sent over a secure HTTPS channel. When using the portal, a session ID is generated on the user client (web browser) and data is stored in a local cache until the session is terminated. When terminated, the cache is deleted. Client-side cookies, which do not contain personally identifiable information, are not automatically removed. Session cookies are marked HTTPOnly and are secured. After a pre-determined idle period, the Azure portal session is terminated."
"\platform\data-security.md","177","log analytics","* Learn how to collect data with Log Analytics for your Azure VMs following the [Azure VM quickstart](../../azure-monitor/learn/quick-collect-azurevm.md).  "
"\platform\data-sources-alerts-nagios-zabbix.md","3","log analytics","description: Nagios and Zabbix are open source monitoring tools. You can collect alerts from these tools into Azure Monitor in order to analyze them along with alerts from other sources.  This article describes how to configure the Log Analytics agent for Linux to collect alerts from these systems."
"\platform\data-sources-alerts-nagios-zabbix.md","18","log analytics","# Collect alerts from Nagios and Zabbix in Azure Monitor from Log Analytics agent for Linux "
"\platform\data-sources-alerts-nagios-zabbix.md","20","log analytics","[Nagios](https://www.nagios.org/) and [Zabbix](http://www.zabbix.com/) are open source monitoring tools. You can collect alerts from these tools into Azure Monitor in order to analyze them with log data from other sources.  This article describes how to configure the Log Analytics agent for Linux to collect alerts from these systems."
"\platform\data-sources-alerts-nagios-zabbix.md","26","log analytics","The Log Analytics agent for Linux supports collecting alerts from Nagios up to version 4.2.x, and Zabbix up to version 2.x."
"\platform\data-sources-collectd.md","25","log analytics","The following CollectD configuration is included in the Log Analytics agent for Linux to route  CollectD data to the Log Analytics agent for Linux."
"\platform\data-sources-collectd.md","50","log analytics","The CollectD configuration uses the default`write_http` plugin to send performance metric data over port 26000 to Log Analytics agent for Linux. "
"\platform\data-sources-collectd.md","55","log analytics","The Log Analytics agent for Linux also listens on port 26000 for CollectD metrics and then converts them to Azure Monitor schema metrics. The following is the Log Analytics agent for Linux configuration  `collectd.conf`."
"\platform\data-sources-collectd.md","70","log analytics","- Log Analytics agent for Linux v1.1.0-217 or above is required for CollectD metric collection."
"\platform\data-sources-collectd.md","76","log analytics","1. Configure CollectD to send data to the Log Analytics agent for Linux using the write_http plugin.  "
"\platform\data-sources-collectd.md","77","log analytics","2. Configure the Log Analytics agent for Linux to listen for the CollectD data on the appropriate port."
"\platform\data-sources-collectd.md","78","log analytics","3. Restart CollectD and Log Analytics agent for Linux."
"\platform\data-sources-collectd.md","82","log analytics","1. To route CollectD data to the Log Analytics agent for Linux, `oms.conf` needs to be added to CollectD's configuration directory. The destination of this file depends on the Linux  distro of your machine."
"\platform\data-sources-collectd.md","101","log analytics","3. Restart CollectD and Log Analytics agent for Linux with the following commands."
"\platform\data-sources-collectd.md","107","log analytics","To maintain a familiar model between infrastructure metrics already collected by Log Analytics agent for Linux and the new metrics collected by CollectD the following schema mapping is used:"
"\platform\data-sources-custom-logs.md","37","log analytics","> If your application creates a new log file each day or when it reaches a certain size, the Log Analytics agent for Linux does not discover them until after it is restarted. This is because the agent only enumerates and begins monitoring for patterns with the specified logs upon start up, and because of this you need to plan around it by automating the restart of the agent.  This limitation does not exist with the Log Analytics agent for Windows.  "
"\platform\data-sources-custom-logs.md","46","log analytics","1. In the Azure portal, select **Log Analytics** > your workspace > **Advanced Settings**."
"\platform\data-sources-custom-logs.md","71","log analytics","> If your application creates a new log file each day or when it reaches a certain size, the Log Analytics agent for Linux does not discover them until after it is restarted. This is because the agent only enumerates and begins monitoring for patterns with the specified logs upon start up, and because of this you need to plan around it by automating the restart of the agent.  This limitation does not exist with the Log Analytics agent for Windows.  "
"\platform\data-sources-json.md","3","log analytics","description: Custom JSON data sources can be collected into Azure Monitor using the Log Analytics Agent for Linux.  These custom data sources can be simple scripts returning JSON such as curl or one of FluentD's 300+ plugins. This article describes the configuration required for this data collection."
"\platform\data-sources-json.md","18","log analytics","# Collecting custom JSON data sources with the Log Analytics agent for Linux in Azure Monitor"
"\platform\data-sources-json.md","20","log analytics","Custom JSON data sources can be collected into [Azure Monitor logs](data-collection.md) using the Log Analytics agent for Linux.  These custom data sources can be simple scripts returning JSON such as [curl](https://curl.haxx.se/) or one of [FluentD's 300+ plugins](http://www.fluentd.org/plugins/all). This article describes the configuration required for this data collection."
"\platform\data-sources-json.md","23","log analytics","> Log Analytics agent for Linux v1.1.0-217+ is required for Custom JSON Data"
"\platform\data-sources-json.md","77","log analytics","### Restart Log Analytics agent for Linux"
"\platform\data-sources-json.md","78","log analytics","Restart the Log Analytics agent for Linux service with the following command."
"\platform\data-sources-linux-applications.md","3","log analytics","description: This article provides details for configuring the Log Analytics agent for Linux to collect performance counters for MySQL and Apache HTTP Server. "
"\platform\data-sources-linux-applications.md","20","log analytics","This article provides details for configuring the [Log Analytics agent for Linux](https://github.com/Microsoft/OMS-Agent-for-Linux) to collect performance counters for specific applications into Azure Monitor logs.  The applications included in this article are:  "
"\platform\data-sources-linux-applications.md","26","log analytics","If MySQL Server or MariaDB Server is detected on the computer when the Log Analytics agent is installed, a performance monitoring provider for MySQL Server will be automatically installed. This provider connects to the local MySQL/MariaDB server to expose performance statistics. MySQL user credentials must be configured so that the provider can access the MySQL Server."
"\platform\data-sources-linux-applications.md","31","log analytics","During installation of the Log Analytics agent for Linux the MySQL OMI provider will scan MySQL my.cnf configuration files (default locations) for bind-address and port and partially set the MySQL OMI authentication file."
"\platform\data-sources-linux-applications.md","112","log analytics","Once you configure the Log Analytics agent for Linux to send data to Azure Monitor, you must configure the performance counters to collect.  Use the procedure in [Windows and Linux performance data sources in Azure Monitor](data-sources-performance-counters.md) with the counters in the following table."
"\platform\data-sources-linux-applications.md","148","log analytics","Once you configure the Log Analytics agent for Linux to send data to Azure Monitor, you must configure the performance counters to collect.  Use the procedure in [Windows and Linux performance data sources in Azure Monitor](data-sources-performance-counters.md) with the counters in the following table."
"\platform\data-sources-syslog.md","19","log analytics","Syslog is an event logging protocol that is common to Linux.  Applications will send messages that may be stored on the local machine or delivered to a Syslog collector.  When the Log Analytics agent for Linux is installed, it configures the local Syslog daemon to forward messages to the agent.  The agent then sends the message to Azure Monitor where a corresponding record is created.  "
"\platform\data-sources-syslog.md","29","log analytics","The Log Analytics agent for Linux will only collect events with the facilities and severities that are specified in its configuration.  You can configure Syslog through the Azure portal or by managing configuration files on your Linux agents."
"\platform\data-sources-syslog.md","41","log analytics","When the [Log Analytics agent is installed on a Linux client](../../azure-monitor/learn/quick-collect-linux-computer.md), it installs a default syslog configuration file that defines the facility and severity of the messages that are collected.  You can modify this file to change the configuration.  The configuration file is different depending on the Syslog daemon that the client has installed."
"\platform\data-sources-syslog.md","134","log analytics","The Log Analytics agent listens for Syslog messages on the local client on port 25224.  When the agent is installed, a default syslog configuration is applied and found in the following location:"
"\platform\data-sources-syslog.md","176","log analytics","After completing the changes, the Syslog and the Log Analytics agent service needs to be restarted to ensure the configuration changes take effect.   "
"\platform\data-sources.md","51","management solution","Metrics and resource level diagnostic logs provide information about the _internal_ operation of Azure resources. These are available for most Azure services, and management solutions provide additional insights into particular services."
"\platform\data-sources.md","57","log analytics","Most Azure services will generate [platform metrics](data-collection.md#metrics) that reflect their performance and operation. The specific [metrics will vary for each type of resource](../../monitoring-and-diagnostics/monitoring-supported-metrics.md).  They are accessible from metrics analytics and can be copied to logs for trending and other analysis using Log Analytics."
"\platform\data-sources.md","63","log analytics","You can't directly view diagnostic logs in the Azure portal, but you can [send them to Azure storage for archiving](../../monitoring-and-diagnostics/monitoring-archive-diagnostic-logs.md) and export them to [Event Hub](../../event-hubs/event-hubs-about.md) for redirection to other services, or [to Azure Monitor](../../monitoring-and-diagnostics/monitor-stream-diagnostic-logs-log-analytics.md) for analysis. Some resources can write directly to Azure Monitor while others write to a storage account before being [imported into Log Analytics](../../azure-monitor/platform/azure-storage-iis-table.md#use-the-azure-portal-to-collect-logs-from-azure-storage)."
"\platform\data-sources.md","76","log analytics","### Log Analytics agent"
"\platform\data-sources.md","77","log analytics","Comprehensive monitoring and management of your Windows or Linux virtual machines or physical computer is delivered with the Log Analytics agent. The virtual machine can be running in Azure, another cloud, or on-premises and the agent connects to Azure Monitor either directly or through System Center Operations Manager and allows you to collect data from [data sources](../../azure-monitor/platform/agent-data-sources.md) that you configure or from [monitoring solutions](../../azure-monitor/insights/solutions.md) that provide additional insights into applications running on the virtual machine."
"\platform\data-sources.md","80","log analytics","[Service Map](../insights/service-map.md) and [Azure Monitor for VMs](../../azure-monitor/insights/vminsights-overview.md) requires a Dependency Agent on Windows and Linux virtual machines. This integrates with the Log Analytics agent to collects discovered data about processes running on the virtual machine and external process dependencies. It stores this data in Azure Monitor and visualizes the discovered interconnected components.  "
"\platform\data-sources.md","91","log analytics","When you enable Application Insights for an application by installing an instrumentation package, it collects metrics and logs related to the performance and operation of the application. This includes detailed information about page views, application requests, and exceptions. Application Insights stores the data it collects in Azure Monitor. It includes extensive tools for analyzing this data, but you can also analyze it with data from other sources using tools such as metric analytics and log analytics."
"\platform\data-usage.md","2","log analytics","title: Analyze data usage in Log Analytics | Microsoft Docs"
"\platform\data-usage.md","3","log analytics","description: Use the Usage and estimated cost dashboard in Log Analytics to evaluate how much data is sent to Log Analytics and identify what may cause unforeseen increases."
"\platform\data-usage.md","18","log analytics","# Analyze data usage in Log Analytics"
"\platform\data-usage.md","21","log analytics","> This article describes how to analyze data usage in Log Analytics.  Refer to the following articles for related information."
"\platform\data-usage.md","22","log analytics","> - [Manage cost by controlling data volume and retention in Log Analytics](manage-cost-storage.md) describes how to control your costs by changing your data retention period."
"\platform\data-usage.md","27","log analytics","Use  **Log Analytics Usage and Estimated Costs**  to review and analyze data usage. The shows how much data is collected by each solution, how much data is being retained and an estimate of your costs "
"\platform\data-usage.md","38","log analytics","- More data than expected being sent to Log Analytics"
"\platform\data-usage.md","39","log analytics","- More nodes than expected sending data to Log Analytics or some nodes are sending more data than usual"
"\platform\data-usage.md","124","log analytics","| AzureDiagnostics           | Change resource log collection to: <br> - Reduce the number of resources send logs to Log Analytics <br> - Collect only required logs |"
"\platform\data-usage.md","188","log analytics","- **Define alert condition** specify your Log Analytics workspace as the resource target."
"\platform\data-usage.md","202","log analytics","- **Define alert condition** specify your Log Analytics workspace as the resource target."
"\platform\data-usage.md","217","log analytics","* See [Log searches in Log Analytics](../log-query/log-query-overview.md) to learn how to use the search language. You can use search queries to perform additional analysis on the usage data."
"\platform\delete-workspace.md","2","log analytics","title: Delete an Azure Log Analytics workspace | Microsoft Docs"
"\platform\delete-workspace.md","3","log analytics","description: Learn how to delete your Log Analytics workspace if you created one in a personal subscription or restructure your workspace model."
"\platform\delete-workspace.md","18","log analytics","# Delete an Azure Log Analytics workspace with the Azure portal"
"\platform\delete-workspace.md","19","log analytics","This article shows how to use the Azure portal to delete a Log Analytics workspace that you may no longer require. "
"\platform\delete-workspace.md","22","log analytics","When you delete a Log Analytics workspace, all data related to your workspace is deleted from the service within 30 days.  You want to exercise caution when you delete a workspace because there might be important data and configuration that may negatively impact your service operations. Consider the other Azure services and sources that store its data in Log Analytics, such as:"
"\platform\delete-workspace.md","30","management solution","* Management solutions "
"\platform\delete-workspace.md","34","log analytics","If you are an administrator and there are multiple users associated with the workspace, the association between those users and the workspace is broken. If the users are associated with other workspaces, then they can continue using Log Analytics with those other workspaces. However, if they are not associated with other workspaces then they need to create a workspace to use Log Analytics. "
"\platform\delete-workspace.md","37","log analytics","2. In the Azure portal, click **More services** found on the lower left-hand corner. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**."
"\platform\delete-workspace.md","38","log analytics","3. In the Log Analytics subscriptions pane, select a workspace and then click **Delete**  from the top of the middle pane.<br><br> ![Delete option from Workspace properties pane](media/delete-workspace/log-analytics-delete-workspace.png)<br>  "
"\platform\flow-tutorial.md","2","log analytics","title: Automate Azure Log Analytics processes with Microsoft Flow"
"\platform\flow-tutorial.md","3","log analytics","description: Learn how you can use Microsoft Flow to quickly automate repeatable processes by using the Azure Log Analytics connector."
"\platform\flow-tutorial.md","16","log analytics","# Automate Log Analytics processes with the connector for Microsoft Flow"
"\platform\flow-tutorial.md","17","log analytics","[Microsoft Flow](https://ms.flow.microsoft.com) allows you to create automated workflows using hundreds of actions for a variety of services. Output from one action can be used as input to another allowing you to create integration between different services.  The Azure Log Analytics connector for Microsoft Flow allow you to build workflows that include data retrieved by log searches in Log Analytics."
"\platform\flow-tutorial.md","19","log analytics","For example, you can use Microsoft Flow to use Log Analytics data in an email notification from Office 365, create a bug in Azure DevOps, or post a Slack message.  You can trigger a workflow by a simple schedule or from some action in a connected service such as when a mail or a tweet is received.  "
"\platform\flow-tutorial.md","21","log analytics","The tutorial in this article shows you how to create a flow that automatically sends the results of a Log Analytics log search by email, just one example of how you can use Log Analytics in Microsoft Flow. "
"\platform\flow-tutorial.md","35","log analytics","## Step 3: Add a Log Analytics action"
"\platform\flow-tutorial.md","37","log analytics","2. Search for **Log Analytics**."
"\platform\flow-tutorial.md","38","log analytics","3. Click **Azure Log Analytics ??? Run query and visualize results**.<br><br>![Log Analytics run query window](media/flow-tutorial/flow02.png)"
"\platform\flow-tutorial.md","40","log analytics","## Step 4: Configure the Log Analytics action"
"\platform\flow-tutorial.md","43","log analytics","2. Add the following Log Analytics query to the **Query** window.  This is only a sample query, and you can replace with any other that returns data."
"\platform\flow-tutorial.md","52","log analytics","2. Select **HTML Table** for the **Chart Type**.<br><br>![Log Analytics action](media/flow-tutorial/flow03.png)"
"\platform\flow-tutorial.md","62","log analytics","6. Select **Body**.  This is the results of the query in the Log Analytics action."
"\platform\flow-tutorial.md","75","log analytics","- Learn more about [log searches in Log Analytics](../../azure-monitor/log-query/log-query-overview.md)."
"\platform\gateway.md","2","log analytics","title: Connect computers using the Log Analytics gateway | Microsoft Docs"
"\platform\gateway.md","3","log analytics","description: Connect your devices and Operations Manager-monitored computers with the Log Analytics gateway to send data to the Azure Automation and Log Analytics service when they do not have Internet access."
"\platform\gateway.md","18","log analytics","# Connect computers without Internet access using the Log Analytics gateway"
"\platform\gateway.md","19","log analytics","This document describes how to configure communication with Azure Automation and Log Analytics using the Log Analytics gateway when direct connected or Operations Manager monitored computers do not have Internet access.  The Log Analytics gateway, which is an HTTP forward proxy that supports HTTP tunneling using the HTTP CONNECT command, can collect data and send it to Azure Automation and Log Analytics on their behalf.  "
"\platform\gateway.md","21","log analytics","The Log Analytics gateway supports:"
"\platform\gateway.md","24","log analytics","* Windows computers with the Microsoft Monitoring Agent directly connected to a Log Analytics workspace"
"\platform\gateway.md","25","log analytics","* Linux computers with the Log Analytics agent for Linux directly connected to a Log Analytics workspace  "
"\platform\gateway.md","26","log analytics","* System Center Operations Manager 2012 SP1 with UR7, Operations Manager 2012 R2 with UR3, Operations Manager 2016, and Operations Manager version 1801 management group integrated with Log Analytics.  "
"\platform\gateway.md","28","log analytics","If your IT security policies do not allow computers on your network to connect to the Internet, such as point of sale (POS) devices, or servers supporting IT services, but you need to connect them to Azure Automation or Log Analytics to manage and monitor them, they can be configured to communicate directly with the Log Analytics gateway to receive configuration and forward data on their behalf.  If these computers are configured with the Log Analytics agent to directly connect to a Log Analytics workspace, all computers will instead communicate with the Log Analytics gateway.  The gateway transfers data from the agents to the service directly, it does not analyze any of the data in transit."
"\platform\gateway.md","30","log analytics","When an Operations Manager management group is integrated with Log Analytics, the management servers can be configured to connect to the Log Analytics gateway to receive configuration information and send collected data depending on the solution you have enabled.  Operations Manager agents send some data such as Operations Manager alerts, configuration assessment, instance space, and capacity data to the management server. Other high-volume data, such as IIS logs, performance, and security events are sent directly to the Log Analytics gateway.  If you have one or more Operations Manager Gateway servers deployed in a DMZ or other isolated network to monitor untrusted systems, it cannot communicate with an Log Analytics gateway.  Operations Manager Gateway servers can only report to a management server.  When an Operations Manager management group is configured to communicate with the Log Analytics gateway, the proxy configuration information is automatically distributed to every agent-managed computer that is configured to collect data for Log Analytics, even if the setting is empty.    "
"\platform\gateway.md","32","log analytics","To provide high availability for direct connected or Operations Management groups that communicate with Log Analytics through the gateway, you can use network load balancing to redirect and distribute the traffic across multiple gateway servers.  If one gateway server goes down, the traffic is redirected to another available node.  "
"\platform\gateway.md","34","log analytics","The Log Analytics agent is required on the computer running the Log Analytics gateway in order for it to identify the service end points that it needs to communicate with, and monitor the Log Analytics gateway to analyze its performance or event data."
"\platform\gateway.md","38","log analytics","The following diagram shows data flow from direct agents to Azure Automation and Log Analytics using the gateway server.  Agents must have their proxy configuration match the same port the Log Analytics gateway is configured to communicate to the service.  "
"\platform\gateway.md","42","log analytics","The following diagram shows data flow from an Operations Manager management group to Log Analytics.   "
"\platform\gateway.md","44","log analytics","![Operations Manager communication with Log Analytics diagram](./media/gateway/log-analytics-agent-opsmgrconnect.png)"
"\platform\gateway.md","48","log analytics","When designating a computer to run the Log Analytics gateway, this computer must have the following:"
"\platform\gateway.md","54","log analytics","* Log Analytics agent for Windows "
"\platform\gateway.md","58","log analytics","The Log Analytics gateway is available in the following languages:"
"\platform\gateway.md","78","log analytics","The Log Analytics gateway only supports Transport Layer Security (TLS) 1.0, 1.1 and 1.2.  It does not support Secure Sockets Layer (SSL).  To insure the security of data in transit to Log Analytics, we strongly encourage you to configure the gateway to use at least Transport Layer Security (TLS) 1.2. Older versions of TLS/Secure Sockets Layer (SSL) have been found to be vulnerable and while they still currently work to allow backwards compatibility, they are **not recommended**.  For additional information, review [Sending data securely using TLS 1.2](../../azure-monitor/platform/data-security.md#sending-data-securely-using-tls-12). "
"\platform\gateway.md","88","log analytics","## Download the Log Analytics gateway"
"\platform\gateway.md","90","log analytics","There are two ways to get the latest version of the Log Analytics gateway Setup file."
"\platform\gateway.md","96","log analytics","   1. Browse the list of services, and then select **Log Analytics**.  "
"\platform\gateway.md","100","log analytics","   1. In the **Direct Agent** blade, click **Download Log Analytics gateway**.<br><br> ![download Log Analytics gateway](./media/gateway/download-gateway.png)"
"\platform\gateway.md","105","log analytics","   1. Navigate to **Connected Sources** > **Windows Servers** and click **Download Log Analytics gateway**."
"\platform\gateway.md","107","log analytics","## Install the Log Analytics gateway"
"\platform\gateway.md","109","log analytics","To install a gateway, perform the following steps.  If you installed a previous version, formerly called *Log Analytics Forwarder*, it will be upgraded to this release.  "
"\platform\gateway.md","111","log analytics","1. From the destination folder, double-click **Log Analytics gateway.msi**."
"\platform\gateway.md","122","log analytics","1. After Setup completes, click **Finish**. You can verify that the service is running by opening the services.msc snap-in and verify that **Log Analytics gateway** appears in the list of services and it status is **Running**.<br><br> ![Services ??? Log Analytics gateway](./media/gateway/gateway-service.png)  "
"\platform\gateway.md","125","log analytics","You can configure the gateway for high availability using network load balancing (NLB) using either Microsoft Network Load Balancing (NLB) or hardware-based load balancers.  The load balancer manages traffic by redirecting the requested connections from the Log Analytics agents or Operations Manager management servers across its nodes. If one Gateway server goes down, the traffic gets redirected to other nodes."
"\platform\gateway.md","131","log analytics","1. To connect an Log Analytics gateway server with the Microsoft Monitoring Agent installed, right-click the cluster's IP address, and then click **Add Host to Cluster**.<br><br> ![Network Load Balancing Manager ??? Add Host To Cluster](./media/gateway/nlb02.png)<br> "
"\platform\gateway.md","134","log analytics","## Configure Log Analytics agent and Operations Manager management group"
"\platform\gateway.md","135","log analytics","The following section includes steps on how to configure directly connected Log Analytics agents, an Operations Manager management group, or Azure Automation Hybrid Runbook Workers with the Log Analytics gateway to communicate with Azure Automation or Log Analytics.  "
"\platform\gateway.md","137","log analytics","### Configure standalone Log Analytics agent"
"\platform\gateway.md","138","log analytics","To understand requirements and steps on how to install the Log Analytics agent on Windows computers directly connecting to Log Analytics, see [Connect Windows computers to Log Analytics](agent-windows.md) or for Linux computers see [Connect Linux computers to Log Analytics](../../azure-monitor/learn/quick-collect-linux-computer.md). In the place of specifying a proxy server while configuring the agent, you replace that value with the IP address of the Log Analytics gateway server and its port number.  If you have deployed multiple gateway servers behind a network load balancer, the Log Analytics agent proxy configuration is the virtual IP address of the NLB.  "
"\platform\gateway.md","147","log analytics","* Microsoft Monitoring Agent (agent version ??? **8.0.10900.0** or later) installed on the Gateway server and configured for a Log Analytics workspaces with which you want to communicate."
"\platform\gateway.md","154","log analytics","If this is the first time your Operations Manager management group is registering with a Log Analytics workspace, the option to specify the proxy configuration for the management group is not available in the Operations console.  The management group has to be successfully registered with the service before this option is available.  You need to update the system proxy configuration using Netsh on the system your running the Operations console from to configure integration, and all management servers in the management group.  "
"\platform\gateway.md","163","log analytics","After completing the integration with Log Analytics, you can remove the change by running `netsh winhttp reset proxy` and then use the **Configure proxy server** option in the Operations console to specify the Log Analytics gateway server. "
"\platform\gateway.md","166","log analytics","1. Select **Use a proxy server to access the Operations Management Suite** and then type the IP address of the Log Analytics gateway server or virtual IP address of the NLB. Ensure that you start with the `http://` prefix.<br><br> ![Operations Manager ??? proxy server address](./media/gateway/scom02.png)<br> "
"\platform\gateway.md","167","log analytics","1. Click **Finish**. Your Operations Manager management group is now configured to communicate through the gateway server to the Log Analytics service."
"\platform\gateway.md","170","log analytics","For large or complex environments, you may only want specific servers (or groups) to use the Log Analytics gateway server.  For these servers, you cannot update the Operations Manager agent directly as this value is overwritten by the global value for the management group.  Instead you need to override the rule used to push these values.  "
"\platform\gateway.md","173","log analytics","> This same configuration technique can be used to allow the use of multiple Log Analytics gateway servers in your environment.  For example, you may require specific Log Analytics gateway servers to be specified on a per-region basis."
"\platform\gateway.md","180","log analytics","1. In the **Override Properties** dialog box, click to place a check mark in the **Override** column next to the **WebProxyAddress** parameter.  In the **Override Value** field, enter the URL of the Log Analytics gateway server ensuring that you start with the `http://` prefix.  "
"\platform\gateway.md","231","management solution","If your computer is registered as a Hybrid Runbook Worker automatically for patching using the Update Management solution, follow these steps:"
"\platform\gateway.md","233","log analytics","1. Add the Job Runtime Data service URLs to the Allowed Host list on the Log Analytics gateway. For example:"
"\platform\gateway.md","235","log analytics","1. Restart the Log Analytics gateway service by using the following PowerShell cmdlet:"
"\platform\gateway.md","240","log analytics","1. Add the agent service registration URL to the Allowed Host list on the Log Analytics gateway. For example:"
"\platform\gateway.md","242","log analytics","1. Add the Job Runtime Data service URLs to the Allowed Host list on the Log Analytics gateway. For example:"
"\platform\gateway.md","244","log analytics","1. Restart the Log Analytics gateway service."
"\platform\gateway.md","248","log analytics","Cmdlets can help you complete tasks that are needed to update the Log Analytics gateway's configuration settings. Before you use them, be sure to:"
"\platform\gateway.md","250","log analytics","1. Install the Log Analytics gateway (MSI)."
"\platform\gateway.md","272","log analytics","To collect events logged by the gateway, you need to also have the Log Analytics agent installed.<br><br> ![Event Viewer ??? Log Analytics gateway Log](./media/gateway/event-viewer.png)"
"\platform\gateway.md","274","log analytics","**Log Analytics gateway Event IDs and descriptions**"
"\platform\gateway.md","276","log analytics","The following table shows the event IDs and descriptions for Log Analytics gateway Log events."
"\platform\gateway.md","289","log analytics","| 105 |Destination server is not in allowed list or the destination port is not secure port (443) <br> <br> Ensure that the MMA agent on your Gateway server and the agents communicating with the Gateway are connected to the same Log Analytics workspace. |"
"\platform\gateway.md","290","log analytics","| 105 |ERROR TcpConnection ??? Invalid Client certificate: CN=Gateway <br><br> Ensure that: <br>    <br> &#149; You are using a Gateway with version number 1.0.395.0 or greater. <br> &#149; The MMA agent on your Gateway server and the agents communicating with the Gateway are connected to the same Log Analytics workspace. |"
"\platform\gateway.md","291","log analytics","| 106 |The Log Analytics gateway only supports TLS 1.0, TLS 1.1 and 1.2.  It does not support SSL. For any unsupported TLS/SSL protocol version, Log Analytics gateway generates event ID 106.|"
"\platform\gateway.md","296","log analytics","The following table shows the performance counters available for the Log Analytics gateway. You can add the counters using Performance Monitor."
"\platform\gateway.md","300","log analytics","| Log Analytics Gateway/Active Client Connection |Number of active client network (TCP) connections |"
"\platform\gateway.md","301","log analytics","| Log Analytics Gateway/Error Count |Number of errors |"
"\platform\gateway.md","302","log analytics","| Log Analytics Gateway/Connected Client |Number of connected clients |"
"\platform\gateway.md","303","log analytics","| Log Analytics Gateway/Rejection Count |Number of rejections due to any TLS validation error |"
"\platform\gateway.md","305","log analytics","![Log Analytics gateway performance counters](./media/gateway/counters.png)"
"\platform\gateway.md","308","log analytics","When you are signed in to the Azure portal, you can create a request for assistance with the Log Analytics gateway or any other Azure service or feature of a service."
"\platform\gateway.md","314","log analytics","[Add data sources](../../azure-monitor/platform/agent-data-sources.md) to collect data from your Connected Sources and store it in your Log Analytics workspace."
"\platform\itsmc-connections.md","2","log analytics","title: Supported connections with IT Service Management Connector in Azure Log Analytics | Microsoft Docs"
"\platform\itsmc-connections.md","18","log analytics","This article provides information about how to configure the connection between your ITSM product/service and the IT Service Management Connector (ITSMC) in Log Analytics to centrally manage your work items. For more information about ITSMC,  see [Overview](../../azure-monitor/platform/itsmc-overview.md)."
"\platform\itsmc-connections.md","65","log analytics","| **Connection Name**   | Type a name for the System Center Service Manager instance that you want to connect with ITSMC.  You use this name later when you configure work items in this instance/ view detailed log analytics. |"
"\platform\itsmc-connections.md","70","log analytics","| **Data Sync Scope**   | Select the Service Manager work items that you want to sync through ITSMC.  These work items are imported into Log Analytics. **Options:**  Incidents, Change Requests.|"
"\platform\itsmc-connections.md","72","log analytics","| **Create new configuration item in ITSM solution** | Select this option if you want to create the configuration items in the ITSM product. When selected, Log Analytics creates the affected CIs as configuration items (in case of non-existing CIs) in the supported ITSM system. **Default**: disabled. |"
"\platform\itsmc-connections.md","78","log analytics","- Selected work items from Service Manager are imported into Azure **Log Analytics.** You can view the summary of these work items on the IT Service Management Connector tile."
"\platform\itsmc-connections.md","80","log analytics","- You can create incidents from Log Analytics alerts or from log records, or from Azure alerts in this Service Manager instance."
"\platform\itsmc-connections.md","195","log analytics","- Install the User App for Microsoft Log Analytics integration (ServiceNow app). [Learn more](https://store.servicenow.com/sn_appstore_store.do#!/store/application/ab0265b2dbd53200d36cdc50cf961980/1.0.1 )."
"\platform\itsmc-connections.md","217","log analytics","| **Connection Name**   | Type a name for the ServiceNow instance that you want to connect with ITSMC.  You use this name later in Log Analytics when you configure work items in this ITSM/ view detailed log analytics. |"
"\platform\itsmc-connections.md","224","log analytics","| **Data Sync Scope**   | Select the ServiceNow work items that you want to sync to Azure Log Analytics, through the ITSMC.  The selected values are imported into log analytics.   **Options:**  Incidents and Change Requests.|"
"\platform\itsmc-connections.md","232","log analytics","- Selected work items from ServiceNow instance are imported into Azure **Log Analytics.** You can view the summary of these work items on the IT Service Management Connector tile."
"\platform\itsmc-connections.md","234","log analytics","- You can create incidents from Log Analytics alerts or from log records, or from Azure alerts in this ServiceNow instance."
"\platform\itsmc-connections.md","245","log analytics","   >As part of the ongoing transition from Microsoft Operations Management Suite (OMS) to Azure Monitor, OMS is now referred to as Log Analytics.     "
"\platform\itsmc-connections.md","312","log analytics","| **Connection Name**   | Type a name for the Provance instance that you want to connect with ITSMC.  You use this name later when you configure work items in this ITSM/ view detailed log analytics. |"
"\platform\itsmc-connections.md","318","log analytics","| **Data Sync Scope**   | Select the Provance work items that you want to sync to Azure Log Analytics, through ITSMC.  These work items are imported into log analytics.   **Options:**   Incidents, Change Requests.|"
"\platform\itsmc-connections.md","326","log analytics","- Selected work items from this Provance instance are imported into Azure **Log Analytics.** You can view the summary of these work items on the IT Service Management Connector tile."
"\platform\itsmc-connections.md","328","log analytics","- You can create incidents from Log Analytics alerts or from log records, or from Azure alerts in this Provance instance."
"\platform\itsmc-connections.md","363","log analytics","| **Connection Name**   | Type a name for the Cherwell instance that you want to connect to ITSMC.  You use this name later when you configure work items in this ITSM/ view detailed log analytics. |"
"\platform\itsmc-connections.md","369","log analytics","| **Data Sync Scope**   | Select the Cherwell work items that you want to sync through ITSMC.  These work items are imported into log analytics.   **Options:**  Incidents, Change Requests. |"
"\platform\itsmc-connections.md","378","log analytics","- Selected work items from this Cherwell instance are imported into Azure **Log Analytics.** You can view the summary of these work items on the IT Service Management Connector tile."
"\platform\itsmc-connections.md","380","log analytics","- You can create incidents from Log Analytics alerts or from log records, or from Azure alerts in this Cherwell instance."
"\platform\itsmc-overview.md","2","log analytics","title: IT Service Management Connector in Azure Log Analytics | Microsoft Docs"
"\platform\itsmc-overview.md","3","log analytics","description: This article provides an overview of IT Service Management Connector (ITSMC) and information about how to use this solution to centrally monitor and manage the ITSM work items in Azure Log Analytics, and resolve any issues quickly."
"\platform\itsmc-overview.md","24","log analytics","Azure services like Log Analytics and Azure Monitor provide tools to detect, analyze and troubleshoot issues with your Azure and non-Azure resources. However, the work items related to an issue  typically reside in an ITSM product/service. The ITSM connector provides a bi-directional connection between Azure and ITSM tools to help you resolve issues faster."
"\platform\itsmc-overview.md","35","log analytics","-  Create work items in ITSM tool, based on your Azure alerts (metric alerts, Activity Log alerts and Log Analytics alerts)."
"\platform\itsmc-overview.md","36","log analytics","-  Optionally, you can sync your incident and change request data from your ITSM tool to an Azure Log Analytics workspace."
"\platform\itsmc-overview.md","58","log analytics","3.	In the **OMS Workspace** section, select the Azure Log Analytics workspace where you want to install the solution."
"\platform\itsmc-overview.md","60","log analytics","   >As part of the ongoing transition from Microsoft Operations Management Suite (OMS) to Azure Monitor, OMS Workspaces are now referred to as Log Analytics workspaces."
"\platform\itsmc-overview.md","65","log analytics","    >As part of the ongoing transition from Microsoft Operations Management Suite (OMS) to Azure Monitor, OMS Workspaces are now referred to as Log Analytics workspaces."
"\platform\itsmc-overview.md","106","log analytics","   By using the ITSM Connector solution, you can create work items from Azure alerts, Log Analytics alerts  and  Log Analytics log records."
"\platform\itsmc-overview.md","112","log analytics","Action Groups provide a modular and reusable way of triggering actions for your Azure Alerts. You can use Action Groups with metric alerts, Activity Log alerts and Azure Log Analytics alerts in Azure portal."
"\platform\itsmc-overview.md","126","log analytics","5. Select the **Subscription** where your Log Analytics workspace is located. Select the **Connection** name (your ITSM Connector name) followed by your Workspace name. For example, ""MyITSMMConnector(MyWorkspace)."""
"\platform\itsmc-overview.md","147","log analytics","![Log Analytics screen](media/itsmc-overview/itsmc-overview-sample-log-analytics.png)"
"\platform\itsmc-overview.md","157","log analytics","![Log Analytics screen](media/itsmc-overview/itsmc-overview-integrated-solutions.png)"
"\platform\itsmc-overview.md","165","log analytics","Incidents and change requests are synced from your ITSM product to your Log Analytics workspace based on the connection's configuration."
"\platform\itsmc-overview.md","171","log analytics","> Depending on the work item type imported into Log Analytics, **ServiceDesk_CL** contains the following fields:"
"\platform\itsmc-overview.md","235","log analytics","| Log Analytics field | ServiceNow field |"
"\platform\itsmc-overview.md","257","log analytics","| Log Analytics | ServieNow field |"
"\platform\itsmc-overview.md","289","log analytics","2.	If data from ServiceNow is not getting synced to Log Analytics, ensure that the ServiceNow instance is not sleeping. ServiceNow Dev Instances sometimes go to sleep when idle for a long period. Else, report the issue."
"\platform\itsmc-overview.md","290","log analytics","3.	If Log Analytics alerts fire but work items are not created in ITSM product or configuration items are not created/linked to work items or for any other generic information, look in the following places:"
"\platform\log-analytics-agent.md","2","log analytics","title: Collect log data with Azure Log Analytics agent | Microsoft Docs"
"\platform\log-analytics-agent.md","3","log analytics","description: This topic helps you understand how to collect data and monitor computers hosted in Azure, on-premises, or other cloud environment with Log Analytics."
"\platform\log-analytics-agent.md","18","log analytics","# Collect log data with the Azure Log Analytics agent"
"\platform\log-analytics-agent.md","20","log analytics","The Azure Log Analytics (OMS) agent, previously referred to as the Microsoft Monitoring Agent (MMA) or OMS Linux agent, was developed for comprehensive management across on-premises machines, computers monitored by [System Center Operations Manager](https://docs.microsoft.com/system-center/scom/), and virtual machines in any cloud. The Windows and Linux agents attach to a Log Analytics workspace to collect data from different sources as well as any unique logs or metrics as defined in a monitoring solution. "
"\platform\log-analytics-agent.md","26","log analytics","![Log Analytics agent communication diagram](./media/log-analytics-agent/log-analytics-agent-01.png)"
"\platform\log-analytics-agent.md","28","log analytics","Before analyzing and acting on collected data, you first need to install and connect agents for all of the machines that you want to send data to the Log Analytics service. You can install agents on your Azure VMs using the Azure Log Analytics VM extension for Windows and Linux, and for machines in a hybrid environment using setup, command line, or with Desired State Configuration (DSC) in Azure Automation. "
"\platform\log-analytics-agent.md","30","log analytics","The agent for Linux and Windows communicates outbound to the Log Analytics service over TCP port 443, and if the machine connects through a firewall or proxy server to communicate over the Internet, review requirements below to understand the network configuration required. If your IT security policies do not allow computers on the network to connect to the Internet, you can set up a [Log Analytics gateway](gateway.md) and then configure the agent to connect through the gateway to Log Analytics. The agent can then receive configuration information and send data collected depending on what data collection rules and monitoring solutions you have enabled. "
"\platform\log-analytics-agent.md","32","log analytics","If you are monitoring the computer with System Center Operations Manager 2012 R2 or later, it can be multi-homed with the Log Analytics service to collect data and forward to the service and still be monitored by [Operations Manager](../../azure-monitor/platform/om-agents.md). Linux computers monitored by an Operations Manager management group integrated with Log Analytics do not receive configuration for data sources and forward collected data through the management group. The Windows agent can report up to four Log Analytics workspaces, while the Linux agent only supports reporting to a single workspace.  "
"\platform\log-analytics-agent.md","34","log analytics","The agent for Linux and Windows isn't only for connecting to Log Analytics, it also supports Azure Automation to host the Hybrid Runbook worker role and other services such as [Change Tracking](../../automation/automation-change-tracking.md) and [Update Management](../../automation/automation-update-management.md). For more information about the Hybrid Runbook Worker role, see [Azure Automation Hybrid Runbook Worker](../../automation/automation-hybrid-runbook-worker.md).  "
"\platform\log-analytics-agent.md","69","log analytics","To insure the security of data in transit to Log Analytics, we strongly encourage you to configure the agent to use at least Transport Layer Security (TLS) 1.2. Older versions of TLS/Secure Sockets Layer (SSL) have been found to be vulnerable and while they still currently work to allow backwards compatibility, they are **not recommended**.  For additional information, review [Sending data securely using TLS 1.2](../../azure-monitor/platform/data-security.md#sending-data-securely-using-tls-12). "
"\platform\log-analytics-agent.md","72","log analytics","The information below list the proxy and firewall configuration information required for the Linux and Windows agent to communicate with Log Analytics.  "
"\platform\log-analytics-agent.md","84","log analytics","The Windows and Linux agent supports communicating either through a proxy server or Log Analytics gateway to the Log Analytics service using the HTTPS protocol.  Both anonymous and basic authentication (username/password) are supported.  For the Windows agent connected directly to the service, the proxy configuration is specified during installation or [after deployment](agent-manage.md#update-proxy-settings) from Control Panel or with PowerShell.  "
"\platform\log-analytics-agent.md","98","log analytics","|proxyhost | Address or FQDN of the proxy server/Log Analytics gateway |"
"\platform\log-analytics-agent.md","99","log analytics","|port | Optional port number for the proxy server/Log Analytics gateway |"
"\platform\log-analytics-agent.md","108","log analytics","Connecting machines in your Azure subscription or hybrid environment directly with Azure Log Analytics can be accomplished using different methods depending on your requirements. The following table highlights each method to determine which works best in your organization."
"\platform\log-analytics-agent.md","112","log analytics","|Azure VM| - Log Analytics VM extension for [Windows](../../virtual-machines/extensions/oms-windows.md) or [Linux](../../virtual-machines/extensions/oms-linux.md) using Azure CLI or with an Azure Resource Manager template<br>- [Manually from the Azure portal](../../azure-monitor/learn/quick-collect-azurevm.md?toc=/azure/azure-monitor/toc.json). | The extension installs the Log Analytics agent on Azure virtual machines and enrolls them into an existing Azure Monitor workspace.|"
"\platform\log-analytics-agent.md","115","log analytics","| System Center Operations Manager|[Integrate Operations Manager with Log Analytics](../../azure-monitor/platform/om-agents.md) | Configure integration between Operations Manager and Log Analytics to forward collected data from Linux and Windows computers reporting to a management group.|  "
"\platform\log-analytics-agent.md","123","log analytics","* Learn about [monitoring solutions](../../azure-monitor/insights/solutions.md) that add functionality to Azure Monitor and also collect data into the Log Analytics workspace."
"\platform\log-faq.md","2","log analytics","title: Log Analytics FAQ | Microsoft Docs"
"\platform\log-faq.md","3","log analytics","description: Answers to frequently asked questions about the Azure Log Analytics service."
"\platform\log-faq.md","18","log analytics","# Log Analytics FAQ"
"\platform\log-faq.md","19","log analytics","This Microsoft FAQ is a list of commonly asked questions about Log Analytics in Microsoft Azure. If you have any additional questions about Log Analytics, go to the [discussion forum](https://social.msdn.microsoft.com/Forums/azure/home?forum=opinsights) and post your questions. When a question is frequently asked, we add it to this article so that it can be found quickly and easily."
"\platform\log-faq.md","24","log analytics","### Q: What's the difference between the new Logs experience and Log Analytics?"
"\platform\log-faq.md","26","log analytics","A: They are the same thing. [Log Analytics is being integrated as a feature in Azure Monitor](../../azure-monitor/azure-monitor-rebrand.md) to provide a more unified monitoring experience. The new Logs experience in Azure Monitor is exactly the same as the Log Analytics queries that many customers have already been using."
"\platform\log-faq.md","37","log analytics","**Query Explorer**, **Save** and **Set Alert** buttons are not available when exploring Logs in the context of a specific resource. To create alerts, save or load a query, Logs must be scoped to a workspace. To open Logs in workspace context, select **All services** > **Monitor** > **Logs**. The last used workspace is selected, but you can select any other workspace. See [Viewing and analyzing data in Log Analytics](../log-query/portals.md) for more information."
"\platform\log-faq.md","67","log analytics","A. Yes, the Logs page in Azure and the Advanced Analytics portal are based on the same code. Log Analytics is being integrated as a feature in Azure Monitor to provide a more unified monitoring experience. You can still access Analytics portal using the URL: https://portal.loganalytics.io/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/workspaces/{workspaceName}."
"\platform\log-faq.md","82","log analytics","### Q. Does Log Analytics use the same agent as Azure Security Center?"
"\platform\log-faq.md","98","log analytics","A: Depending on what Update Rollup of Operations Manager you are on, you may see a node for *System Center Advisor*, *Operational Insights*, or *Log Analytics*."
"\platform\log-faq.md","102","log analytics","### Q: Is there an on-premises version of Log Analytics?"
"\platform\log-faq.md","104","log analytics","A: No. Log Analytics is a scalable cloud service that processes and stores large amounts of data. "
"\platform\log-faq.md","106","log analytics","### Q. How do I troubleshoot if Log Analytics is no longer collecting data?"
"\platform\log-faq.md","108","log analytics","A: For a subscription and workspace created before April 2, 2018 that is on the *Free* pricing tier, if more than 500 MB of data is sent in a day, data collection stops for the rest of the day. Reaching the daily limit is a common reason that Log Analytics stops collecting data, or data appears to be missing.  "
"\platform\log-faq.md","137","log analytics","- **Define alert condition** specify your Log Analytics workspace as the resource target."
"\platform\log-faq.md","154","log analytics","### Q. What IP addresses does the Log Analytics service use? How do I ensure that my firewall only allows traffic to the Log Analytics service?"
"\platform\log-faq.md","156","log analytics","A. The Log Analytics service is built on top of Azure. Log Analytics IP addresses are in the [Microsoft Azure Datacenter IP Ranges](https://www.microsoft.com/download/details.aspx?id=41653)."
"\platform\log-faq.md","158","log analytics","As service deployments are made, the actual IP addresses of the Log Analytics service change. The DNS names to allow through your firewall are documented in [network requirements](../../azure-monitor/platform/log-analytics-agent.md#network-firewall-requirements)."
"\platform\log-faq.md","160","log analytics","### Q. I use ExpressRoute for connecting to Azure. Does my Log Analytics traffic use my ExpressRoute connection?"
"\platform\log-faq.md","164","log analytics","Traffic to Log Analytics uses the public-peering ExpressRoute circuit."
"\platform\log-faq.md","166","log analytics","### Q. Is there a simple and easy way to move an existing Log Analytics workspace to another Log Analytics workspace/Azure subscription?"
"\platform\log-faq.md","168","log analytics","A. The `Move-AzureRmResource` cmdlet lets you move a Log Analytics workspace, and also an Automation account from one Azure subscription to another. For more information, see [Move-AzureRmResource](https://msdn.microsoft.com/library/mt652516.aspx)."
"\platform\log-faq.md","172","log analytics","You can???t move data from one Log Analytics workspace to another, or change the region that Log Analytics data is stored in."
"\platform\log-faq.md","174","log analytics","### Q: How do I add Log Analytics to System Center Operations Manager?"
"\platform\log-faq.md","176","log analytics","A:  Updating to the latest update rollup and importing management packs enables you to connect Operations Manager to Log Analytics."
"\platform\log-faq.md","179","log analytics",">The Operations Manager connection to Log Analytics is only available for System Center Operations Manager 2012 SP1 and later."
"\platform\log-faq.md","181","log analytics","### Q: How can I confirm that an agent is able to communicate with Log Analytics?"
"\platform\log-faq.md","185","log analytics","Under the **Azure Log Analytics (OMS)** tab, look for a green check mark. A green check mark icon confirms that the agent is able to communicate with the Azure service."
"\platform\log-faq.md","187","log analytics","A yellow warning icon means the agent is having issues communication with Log Analytics. One common reason is the Microsoft Monitoring Agent service has stopped. Use service control manager to restart the service."
"\platform\log-faq.md","189","log analytics","### Q: How do I stop an agent from communicating with Log Analytics?"
"\platform\log-faq.md","191","log analytics","A: In System Center Operations Manager, remove the computer from the OMS managed computers list. Operations Manager updates the configuration of the agent to no longer report to Log Analytics. For agents connected to Log Analytics directly, you can stop them from communicating through: Control Panel, Security & Settings, **Microsoft Monitoring Agent**."
"\platform\log-faq.md","192","log analytics","Under **Azure Log Analytics (OMS)**, remove all workspaces listed."
"\platform\log-faq.md","214","log analytics","### Q. How much data can I send through the agent to Log Analytics? Is there a maximum amount of data per customer?"
"\platform\log-faq.md","215","log analytics","A. The free plan sets a daily cap of 500 MB per workspace. The standard and premium plans have no limit on the amount of data that is uploaded. As a cloud service, Log Analytics is designed to automatically scale up to handle the volume coming from a customer ??? even if it is terabytes per day."
"\platform\log-faq.md","217","log analytics","The Log Analytics agent was designed to ensure it has a small footprint. The data volume varies based on the solutions you enable. You can find detailed information on the data volume and see the breakdown by solution in the [Usage](../../azure-monitor/platform/data-usage.md) page."
"\platform\log-faq.md","221","log analytics","### Q. How much network bandwidth is used by the Microsoft Management Agent (MMA) when sending data to Log Analytics?"
"\platform\log-faq.md","242","log analytics","* [Get started with Log Analytics](../../azure-monitor/overview.md) to learn more about Log Analytics and get up and running in minutes."
"\platform\log-standard-properties.md","2","log analytics","title: Standard properties in Azure Monitor Log Analytics records | Microsoft Docs"
"\platform\log-standard-properties.md","3","log analytics","description: Describes properties that are common to multiple data types in Azure Monitor Log Analytics."
"\platform\log-standard-properties.md","17","log analytics","# Standard properties in Log Analytics records"
"\platform\log-standard-properties.md","18","log analytics","Data in [Log Analytics](../log-query/log-query-overview.md) is stored as a set of records, each with a particular data type that has a unique set of properties. Many data types will have standard properties that are common across multiple types. This article describes these properties and provides examples of how you can use them in queries."
"\platform\log-standard-properties.md","29","kusto","```Kusto"
"\platform\log-standard-properties.md","43","kusto","```Kusto"
"\platform\log-standard-properties.md","60","kusto","```Kusto"
"\platform\log-standard-properties.md","71","kusto","```Kusto"
"\platform\log-standard-properties.md","85","log analytics","- Read more about how [Log Analytics data is stored](../log-query/log-query-overview.md)."
"\platform\log-standard-properties.md","86","log analytics","- Get a lesson on [writing queries in Log Analytics](../../azure-monitor/log-query/get-started-queries.md)."
"\platform\log-standard-properties.md","87","log analytics","- Get a lesson on [joining tables in Log Analytics queries](../../azure-monitor/log-query/joins.md)."
"\platform\manage-access.md","2","log analytics","title: Manage workspaces in Azure Log Analytics and the OMS portal | Microsoft Docs"
"\platform\manage-access.md","3","log analytics","description: You can manage workspaces in Azure Log Analytics and the OMS portal using a variety of administrative tasks on users, accounts, workspaces, and Azure accounts."
"\platform\manage-access.md","20","log analytics","To manage access to Log Analytics, you perform various administrative tasks related to workspaces. This article provides advice and procedures to manage workspaces. A workspace is essentially a container that includes account information and simple configuration information for the account. You or other members of your organization might use multiple workspaces to manage different sets of data that is collected from all or portions of your IT infrastructure."
"\platform\manage-access.md","45","log analytics","* You are a managed service provider and need to keep the Log Analytics data for each customer you manage isolated from other customer???s data."
"\platform\manage-access.md","50","log analytics","If you are using System Center Operations Manager, each Operations Manager management group can be connected with only one workspace. You can install the Microsoft Monitoring Agent on computers managed by Operations Manager and have the agent report to both Operations Manager and a different Log Analytics workspace."
"\platform\manage-access.md","58","log analytics","2. In the Azure portal, click **All services**. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**.  "
"\platform\manage-access.md","62","log analytics","3. On the Log Analytics subscriptions pane, select a workspace."
"\platform\manage-access.md","76","management solution","| Adding and removing management solutions                        | `Microsoft.Resources/deployments/*` <br> `Microsoft.OperationalInsights/*` <br> `Microsoft.OperationsManagement/*` <br> `Microsoft.Automation/*` <br> `Microsoft.Resources/deployments/*/write` | These permissions need to be granted at resource group or subscription level. |"
"\platform\manage-access.md","82","log analytics","### Managing access to Log Analytics using Azure permissions"
"\platform\manage-access.md","83","log analytics","To grant access to the Log Analytics workspace using Azure permissions, follow the steps in [use role assignments to manage access to your Azure subscription resources](../../role-based-access-control/role-assignments-portal.md)."
"\platform\manage-access.md","85","log analytics","Azure has two built-in user roles for Log Analytics:"
"\platform\manage-access.md","86","log analytics","- Log Analytics Reader"
"\platform\manage-access.md","87","log analytics","- Log Analytics Contributor"
"\platform\manage-access.md","89","log analytics","Members of the *Log Analytics Reader* role can:"
"\platform\manage-access.md","93","log analytics","The Log Analytics Reader role includes the following Azure actions:"
"\platform\manage-access.md","104","log analytics","Members of the *Log Analytics Contributor* role can:"
"\platform\manage-access.md","105","log analytics","- Read all monitoring data as Log Analytics Reader can  "
"\platform\manage-access.md","107","management solution","- Adding and removing management solutions    "
"\platform\manage-access.md","120","log analytics","The Log Analytics Contributor role includes the following Azure actions:"
"\platform\manage-access.md","127","log analytics","| `Microsoft.ClassicStorage/storageAccounts/listKeys/action` <br> `Microsoft.Storage/storageAccounts/listKeys/action` | View the storage account key. Required to configure Log Analytics to read logs from Azure storage accounts |"
"\platform\manage-access.md","130","log analytics","| `Microsoft.OperationalInsights/*` | Add, update, and remove configuration for Log Analytics workspaces |"
"\platform\manage-access.md","131","management solution","| `Microsoft.OperationsManagement/*` | Add and remove management solutions |"
"\platform\manage-access.md","148","log analytics","1. In the Azure portal, click **All services**. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**.  "
"\platform\manage-access.md","150","log analytics","2. On the Log Analytics subscriptions pane, click **Add**.  "
"\platform\manage-access.md","154","log analytics","3. From the **Log Analytics workspace** pane, click **Link existing**.  "
"\platform\manage-access.md","174","log analytics","There are three workspace plan types for OMS: **Free**, **Standalone**, and **OMS**.  If you are on the *Free* plan, there is a limit of 500 MB of data per day sent to Log Analytics.  If you exceed this amount, you need to change your workspace to a paid plan to avoid not collecting data beyond this limit. You can change your plan type at any time.  For more information on OMS pricing, see [Pricing Details](https://www.microsoft.com/en-us/cloud-platform/operations-management-suite-pricing)."
"\platform\manage-access.md","177","log analytics","To use the entitlements that come from purchasing OMS E1, OMS E2 OMS or OMS Add-On for System Center, choose the *OMS* plan of OMS Log Analytics."
"\platform\manage-access.md","188","log analytics","> If your workspace was created before September 26, 2016 and your Log Analytics pricing plan is *Premium*, then this workspace uses entitlements from the OMS Add-On for System Center. You can also use your entitlements by changing to the *OMS* pricing tier."
"\platform\manage-access.md","199","log analytics","If you have Azure monetary commitment on the enterprise enrollment to which your Azure subscriptions are linked, usage of Log Analytics will automatically debit against the remaining monetary commit."
"\platform\manage-access.md","204","log analytics","1. In the Azure portal, from the Log Analytics subscriptions pane, select a workspace."
"\platform\manage-access.md","235","log analytics","* See [Log Analytics agent overview](../../azure-monitor/platform/log-analytics-agent.md) to gather data from computers in your datacenter or other cloud environment."
"\platform\manage-access.md","237","log analytics","* [Add Log Analytics solutions from the Solutions Gallery](../../azure-monitor/insights/solutions.md) to add functionality and gather data."
"\platform\manage-cost-storage.md","2","log analytics","title: Manage cost of data in Azure Log Analytics | Microsoft Docs"
"\platform\manage-cost-storage.md","3","log analytics","description: Learn how to change the pricing plan and manage data volume and retention policy for your Log Analytics workspace in Azure."
"\platform\manage-cost-storage.md","18","log analytics","# Manage cost by controlling data volume and retention in Log Analytics"
"\platform\manage-cost-storage.md","21","log analytics","> This article describes how to control your costs in Log Analytics by setting the data retention period.  Refer to the following articles for related information."
"\platform\manage-cost-storage.md","22","log analytics","> - [Analyze data usage in Log Analytics](manage-cost-storage.md) describes how to analyze and alert on your data usage."
"\platform\manage-cost-storage.md","35","management solution","- Number of Management solutions enabled, data source, and collection frequency "
"\platform\manage-cost-storage.md","40","log analytics","Customers with an Enterprise Agreement signed prior to July 1, 2018 or who already created a Log Analytics workspace in a subscription, you still have access to the *Free* plan. If your subscription is not tied to an existing EA enrollment, the *Free* tier is not available when you create a workspace in a new subscription after April 2, 2018.  Data is limited to 7 days retention for the *Free* tier.  For the *Standalone* or *Paid* tier, data collected is available for the last 31 days. The *Free* tier has 500 MB daily ingestion limit, and if you find that you consistently exceed the amounts allowed volume, you can change your workspace to a paid plan to collect data beyond this limit. "
"\platform\manage-cost-storage.md","51","log analytics","2. In the Azure portal, click **All services**. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics**.<br><br> ![Azure portal](media/manage-cost-storage/azure-portal-01.png)<br><br>  "
"\platform\manage-cost-storage.md","52","log analytics","3. In the Log Analytics subscriptions pane, select your workspace and then click **Usage and estimated costs**  from the left-hand pane.<br><br> ![Usage and estimated costs page](media/manage-cost-storage/usage-estimated-cost-dashboard-01.png)<br>"
"\platform\manage-cost-storage.md","54","log analytics","From here you can review your data volume for the month. This includes all the data received and retained in your Log Analytics workspace.  Click **Usage details** from the top of the page to view the usage dashboard with information on data volume trends by source, computers and offering. To view and set a daily cap or to modify the retention period, click **Data volume management**."
"\platform\manage-cost-storage.md","59","log analytics","When creating a Log Analytics workspace from the Azure portal and you choose the *Free* plan, it is set to a 500 MB per day limit. There is no limit for the other pricing plans. You can configure a daily cap and limit the daily ingestion for your workspace, but use care as your goal should not be to hit the daily limit.  Otherwise, you lose data for the remainder of the day, which can impact other Azure services and solutions whose functionality may depend on up-to-date data being available in the workspace.  As a result, your ability to observe and receive alerts when the health conditions of resources supporting IT services are impacted.  The daily cap is intended to be used as a way to manage the unexpected increase in data volume from your managed resources and stay within your limit, or when you want to simply limit unplanned charges for your workspace.  "
"\platform\manage-cost-storage.md","61","log analytics","When the daily limit is reached, the collection of billable data types stops for the rest of the day. A warning banner appears across the top of the page for the selected Log Analytics workspace and an operation event is sent to the *Operation* table under **LogManagement** category. Data collection resumes after the reset time defined under *Daily limit will be set at*. We recommend defining an alert rule based on this operation event, configured to notify when the daily data limit has been reached. "
"\platform\manage-cost-storage.md","64","log analytics","Review [Log Analytics Usage and estimated costs](../../azure-monitor/platform/data-usage.md) to understand the data ingestion trend and what is the daily volume cap to define. It should be considered with care, since you won???t be able to monitor your resources after the limit is reached. "
"\platform\manage-cost-storage.md","67","log analytics","The following steps describe how to configure a limit to manage the volume of data that Log Analytics will ingest per day.  "
"\platform\manage-cost-storage.md","71","log analytics","5. Daily cap is **OFF** by default ??? click **ON** to enable it, and then set the data volume limit in GB/day.<br><br> ![Log Analytics configure data limit](media/manage-cost-storage/set-daily-volume-cap-01.png)"
"\platform\manage-cost-storage.md","78","log analytics","* Target: Select your Log Analytics resource"
"\platform\manage-cost-storage.md","100","log analytics","**Question**: How do I troubleshoot if Log Analytics is no longer collecting data? "
"\platform\manage-cost-storage.md","101","log analytics","**Answer**:  If you are on the free pricing tier and have sent more than 500 MB of data in a day, data collection stops for the rest of the day. Reaching the daily limit is a common reason that Log Analytics stops collecting data, or data appears to be missing.  "
"\platform\manage-cost-storage.md","122","log analytics","To determine how much data is collected, which sources are sending it, and the different types of data sent to help manage consumption and cost, see [Analyze data usage in Log Analytics](../../azure-monitor/platform/data-usage.md)."
"\platform\om-agents.md","2","log analytics","title: Connect Operations Manager to Log Analytics | Microsoft Docs"
"\platform\om-agents.md","3","log analytics","description: To maintain your existing investment in System Center Operations Manager and use extended capabilities with Log Analytics, you can integrate Operations Manager with your workspace."
"\platform\om-agents.md","18","log analytics","# Connect Operations Manager to Log Analytics"
"\platform\om-agents.md","19","log analytics","To maintain your existing investment in [System Center Operations Manager](https://docs.microsoft.com/system-center/scom/key-concepts?view=sc-om-1807) and use extended capabilities with Log Analytics, you can integrate Operations Manager with your Log Analytics workspace. This allows you leverage the opportunities of Log Analytics while continuing to use Operations Manager to:"
"\platform\om-agents.md","25","log analytics","Integrating with System Center Operations Manager adds value to your service operations strategy by using the speed and efficiency of Log Analytics in collecting, storing, and analyzing data from Operations Manager. Log Analytics helps correlate and work towards identifying the faults of problems and surfacing recurrences in support of your existing problem management process. The flexibility of the search engine to examine performance, event and alert data, with rich dashboards and reporting capabilities to expose this data in meaningful ways, demonstrates the strength Log Analytics brings in complimenting Operations Manager."
"\platform\om-agents.md","27","log analytics","The agents reporting to the Operations Manager management group collect data from your servers based on the Log Analytics data sources and solutions you have enabled in your workspace. Depending on the solutions enabled, their data are either sent directly from an Operations Manager management server to the service, or because of the volume of data collected on the agent-managed system, are sent directly from the agent to Log Analytics. The management server forwards the data directly to the service; it is never written to the operational or data warehouse database. When a management server loses connectivity with Log Analytics, it caches the data locally until communication is re-established with Log Analytics. If the management server is offline due to planned maintenance or unplanned outage, another management server in the management group resumes connectivity with Log Analytics.  "
"\platform\om-agents.md","29","log analytics","The following diagram shows the connection between the management servers and agents in a System Center Operations Manager management group and Log Analytics, including the direction and ports.   "
"\platform\om-agents.md","33","log analytics","If your IT security policies do not allow computers on your network to connect to the Internet, management servers can be configured to connect to the Log Analytics gateway to receive configuration information and send collected data depending on the solutions enabled. For more information and steps on how to configure your Operations Manager management group to communicate through a Log Analytics gateway to the Log Analytics service, see [Connect computers to Log Analytics using the Log Analytics gateway](../../azure-monitor/platform/gateway.md).  "
"\platform\om-agents.md","38","log analytics","* Log Analytics only supports System Center Operations Manager 1807, Operations Manager 1801, Operations Manager 2016, Operations Manager 2012 SP1 UR6 or later, and Operations Manager 2012 R2 UR2 or later. Proxy support was added in Operations Manager 2012 SP1 UR7 and Operations Manager 2012 R2 UR3."
"\platform\om-agents.md","40","log analytics","* A Log Analytics workspace. For further information, review [Log Analytics workspace overview](../../azure-monitor/platform/manage-access.md?toc=/azure/azure-monitor/toc.json)."
"\platform\om-agents.md","41","log analytics","* You authenticate to Azure with an account that is a member of the [Log Analytics Contributor role](../../azure-monitor/platform/manage-access.md#manage-accounts-and-users).  "
"\platform\om-agents.md","44","log analytics",">Recent changes to Azure APIs will prevent customers from being able to successfully configure integration between their management group and Log Analytics for the first time. For customers who have already integrated their management group with the service, you are not impacted unless you need to reconfigure your existing connection.  "
"\platform\om-agents.md","54","log analytics","The information below list the proxy and firewall configuration information required for the Operations Manager agent, management servers, and Operations console to communicate with Log Analytics. Traffic from each component is outbound from your network to the Log Analytics service.   "
"\platform\om-agents.md","68","log analytics","|**Operations Manager console to Log Analytics**|||  "
"\platform\om-agents.md","81","log analytics","To insure the security of data in transit to Log Analytics, we strongly encourage you to configure the agent and management group to use at least Transport Layer Security (TLS) 1.2. Older versions of TLS/Secure Sockets Layer (SSL) have been found to be vulnerable and while they still currently work to allow backwards compatibility, they are **not recommended**. For additional information, review [Sending data securely using TLS 1.2](../../azure-monitor/platform/data-security.md#sending-data-securely-using-tls-12). "
"\platform\om-agents.md","83","log analytics","## Connecting Operations Manager to Log Analytics"
"\platform\om-agents.md","84","log analytics","Perform the following series of steps to configure your Operations Manager management group to connect to one of your Log Analytics workspaces."
"\platform\om-agents.md","86","log analytics","During initial registration of your Operations Manager management group with a Log Analytics workspace, the option to specify the proxy configuration for the management group is not available in the Operations console.  The management group has to be successfully registered with the service before this option is available.  To work around this, you need to update the system proxy configuration using Netsh on the system your running the Operations console from to configure integration, and all management servers in the management group.  "
"\platform\om-agents.md","95","log analytics","After completing the following steps to integrate with Log Analytics, you can remove the configuration by running `netsh winhttp reset proxy` and then use the **Configure proxy server** option in the Operations console to specify the proxy or Log Analytics gateway server. "
"\platform\om-agents.md","103","log analytics","   >OMS is now referred to as Log Analytics."
"\platform\om-agents.md","105","log analytics","1. After you are successfully authenticated, on the **Operations Management Suite Onboarding Wizard: Select Workspace** page, you are prompted to select your Azure tenant, subscription, and Log Analytics workspace. If you have more than one workspace, select the workspace you want to register with the Operations Manager management group from the drop-down list, and then click **Next**."
"\platform\om-agents.md","108","log analytics","   > Operations Manager only supports one Log Analytics workspace at a time. The connection and the computers that were registered to Log Analytics with the previous workspace are removed from Log Analytics."
"\platform\om-agents.md","115","log analytics","After configuring integration with your Log Analytics workspace, it only establishes a connection with the service, no data is collected from the agents reporting to your management group. This won???t happen until after you configure which specific agent-managed computers collect data for Log Analytics. You can either select the computer objects individually or you can select a group that contains Windows computer objects. You cannot select a group that  contains instances of another class, such as logical disks or SQL databases."
"\platform\om-agents.md","120","log analytics","1. In the **Computer Search** dialog box, you can search for computers or groups monitored by Operations Manager. Select computers or groups to onboard to Log Analytics, click **Add**, and then click **OK**."
"\platform\om-agents.md","125","log analytics","Perform the following steps if an internal proxy server is between the management group and Log Analytics service. These settings are centrally managed from the management group and distributed to agent-managed systems that are included in the scope to collect data for Log Analytics.  This is beneficial for when certain solutions bypass the management server and send data directly to the service."
"\platform\om-agents.md","132","log analytics","If your proxy server requires authentication, perform the following steps to configure credentials and settings that need to propagate to managed computers that reports to Log Analytics in the management group."
"\platform\om-agents.md","143","log analytics","After the connection is created and you configure which agents will collect and report data to Log Analytics, the following configuration is applied in the management group, not necessarily in order:"
"\platform\om-agents.md","146","log analytics","* Two connectors are created.  The first is named **Microsoft.SystemCenter.Advisor.DataConnector** and is automatically configured with a subscription that forwards all alerts generated from instances of all classes in the management group to Log Analytics. The second connector is **Advisor Connector**, which is responsible for communicating with Log Analytics and sharing data."
"\platform\om-agents.md","150","log analytics","After configuration is completed, the Operations Manager management group establishes a connection with the Log Analytics service. The management server synchronizes with the web service and receive updated configuration information in the form of management packs for the solutions you have enabled that integrate with Operations Manager. Operations Manager checks for updates of these management packs and automatically download and imports them when they???re available. There are two rules in particular which control this behavior:"
"\platform\om-agents.md","152","log analytics","* **Microsoft.SystemCenter.Advisor.MPUpdate** - Updates the base Log Analytics management packs. Runs every 12 hours by default."
"\platform\om-agents.md","155","log analytics","You can override these two rules to either prevent automatic download by disabling them, or modify the frequency for how often the management server synchronizes with Log Analytics to determine if a new management pack is available and should be downloaded. Follow the steps [How to Override a Rule or Monitor](https://technet.microsoft.com/library/hh212869.aspx) to modify the **Frequency** parameter with a value in seconds to change the synchronization schedule, or modify the **Enabled** parameter to disable the rules. Target the overrides to all objects of class Operations Manager Management Group."
"\platform\om-agents.md","157","log analytics","To continue following your existing change control process for controlling management pack releases in your production management group, you can disable the rules and enable them during specific times when updates are allowed. If you have a development or QA management group in your environment and it has connectivity to the Internet, you can configure that management group with a Log Analytics workspace to support this scenario. This allows you to review and evaluate the iterative releases of the Log Analytics management packs before releasing them into your production management group."
"\platform\om-agents.md","159","log analytics","## Switch an Operations Manager group to a new Log Analytics Workspace"
"\platform\om-agents.md","161","log analytics","1. In the Azure portal, click **More services** found on the lower left-hand corner. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input. Select **Log Analytics** and then create a workspace.  "
"\platform\om-agents.md","163","log analytics","1. Expand Log Analytics, and select **Connections**."
"\platform\om-agents.md","165","log analytics","1. Follow the **Log Analytics Onboarding Wizard** and enter the email address or phone number and password of the administrator account that is associated with your new Log Analytics workspace."
"\platform\om-agents.md","172","log analytics","## Validate Operations Manager Integration with Log Analytics"
"\platform\om-agents.md","173","log analytics","There are a few different ways you can verify that Log Analytics to Operations Manager integration is successful."
"\platform\om-agents.md","176","log analytics","1. In the Azure portal, click **More services** found on the lower left-hand corner. In the list of resources, type **Log Analytics**. As you begin typing, the list filters based on your input."
"\platform\om-agents.md","177","log analytics","1. In your list of Log Analytics workspaces, select the applicable workspace.  "
"\platform\om-agents.md","186","management solution","1. Depending on the solutions you have enabled, you see a corresponding management pack listed in the search results.  For example, if you have enabled the Alert Management solution, the management pack Microsoft System Center Advisor Alert Management is in the list."
"\platform\om-agents.md","187","log analytics","1. From the **Monitoring** view, navigate to the **Operations Management Suite\Health State** view.  Select a Management server under the **Management Server State** pane, and in the **Detail View** pane confirm the value for property **Authentication service URI** matches the Log Analytics Workspace ID."
"\platform\om-agents.md","191","log analytics","## Remove Integration with Log Analytics"
"\platform\om-agents.md","192","log analytics","When you no longer require integration between your Operations Manager management group and the Log Analytics workspace, there are several steps required to properly remove the connection and configuration in the management group. The following procedure has you update your Log Analytics workspace by deleting the reference of your management group, delete the Log Analytics connectors, and then delete management packs supporting integration with the service.  "
"\platform\om-agents.md","194","log analytics","Management packs for the solutions you have enabled that integrate with Operations Manager and the management packs required to support integration with the Log Analytics service cannot be easily deleted from the management group. This is because some of the Log Analytics management packs have dependencies on other related management packs. To delete management packs having a dependency on other management packs, download the script [remove a management pack with dependencies](https://gallery.technet.microsoft.com/scriptcenter/Script-to-remove-a-84f6873e) from TechNet Script Center.  "
"\platform\om-agents.md","324","log analytics","In the future if you plan on reconnecting your management group to a Log Analytics workspace, you need to re-import the `Microsoft.SystemCenter.Advisor.Resources.\<Language>\.mpb` management pack file. Depending on the version of System Center Operations Manager deployed in your environment, you can find this file in the following location:"
"\platform\om-agents.md","330","log analytics","To add functionality and gather data, see [Add Log Analytics solutions from the Solutions Gallery](../../azure-monitor/insights/solutions.md)."
"\platform\oms-portal-faq.md","2","log analytics","title: Common questions for transition from OMS portal to Azure portal for Log Analytics users | Microsoft Docs"
"\platform\oms-portal-faq.md","3","log analytics","description: Answers to common questions for Log Analytics users transitioning from the OMS portal to the Azure portal."
"\platform\oms-portal-faq.md","17","log analytics","# Common questions for transition from OMS portal to Azure portal for Log Analytics users"
"\platform\oms-portal-faq.md","20","log analytics","This article answers common questions for users making this transition.  If you used Log Analytics in the OMS portal, then you can find answers here for how you can perform the same tasks in the Azure portal."
"\platform\oms-portal-faq.md","23","log analytics","No. There are no changes being made to Log Analytics itself, so there is nothing that needs to be migrated. The only thing that's changing is the interface that you use to access it. In fact, you can use the Azure portal now to access the same workspaces, solutions, views, and log searches that you use in the OMS portal today."
"\platform\oms-portal-faq.md","25","log analytics","## Where do I find Log Analytics in Azure?"
"\platform\oms-portal-faq.md","26","log analytics","Log in to the Azure portal at [https://portal.azure.com](https://portal.azure.com).  Click **All services**, and in the list of resources, type **Log Analytics**. Select **Log Analytics** and then select your workspace. The summary page for the workspace is displayed."
"\platform\oms-portal-faq.md","28","log analytics","![Log Analytics workspace](media/oms-portal-faq/log-analytics.png)"
"\platform\oms-portal-faq.md","31","log analytics","If you don't have access to your Log Analytics workspace in the Azure portal, you need to configure your permissions using [Azure role-based access](../../role-based-access-control/role-assignments-portal.md). For details on managing workspace permissions, see [Manage workspaces](manage-access.md#manage-accounts-and-users). For information on managing permissions for alerts, see [Get started with roles, permissions, and security with Azure Monitor](../../monitoring-and-diagnostics/monitoring-roles-permissions-security.md)."
"\platform\oms-portal-faq.md","34","log analytics","From the list of workspaces in the Azure portal, click **Add** in the list of workspaces.  For complete details, see [Create a Log Analytics workspace in the Azure portal](../learn/quick-create-workspace.md)."
"\platform\oms-portal-faq.md","39","management solution","The main screen in the OMS portal displays the tiles for all the management solutions installed in your workspace and any custom views that you've created. This same view is available in the Azure portal. From your workspace, select **Workspace Summary**."
"\platform\oms-portal-faq.md","64","log analytics","Alert rules based on Log Analytics queries are now managed in the [unified alerting experience](#how-do-i-create-and-manage-alerts). "
"\platform\oms-portal-faq.md","78","management solution","| Office 365        | See the [documentation for Office 365 management solution](../insights/solution-office-365.md) for configuration details. |"
"\platform\oms-portal-faq.md","80","log analytics","| ITSM Connector    | See  [Connect ITSM products/services with IT Service Management Connector](itsmc-connections.md) for instructions on connecting your ITSM service with Log Analytics. |"
"\platform\oms-portal-faq.md","94","log analytics","| Application Insights         | This solution has been deprecated now that Log Analytics and Application Insights share the same data engine.  |"
"\platform\oms-portal-faq.md","102","management solution","## How do I install and remove management solutions?"
"\platform\oms-portal-faq.md","103","management solution","In the OMS portal, you install management solutions from the Solutions Gallery and removed them from **Settings**. In the Azure portal, [install management solutions](../insights/solutions.md#install-a-management-solution) from the Azure Marketplace. [Remove solutions](../insights/solutions.md#remove-a-management-solution) from the list of installed solutions."
"\platform\oms-portal-faq.md","106","log analytics","Alert rules based on Log Analytics queries are now managed in the [unified alerting experience](../../azure-monitor/platform/alerts-metric.md). See [How to extend alerts from Log Analytics into Azure Alerts](../../monitoring-and-diagnostics/monitoring-alerts-extend-tool.md) for details on configuring and using alerts in the Azure portal."
"\platform\oms-portal-faq.md","109","log analytics","The [My Dashboard](dashboards.md) feature in Log Analytics has been deprecated. This feature allowed you to have a private collection of View Designer parts, and is superseded by the built-in Azure Dashboard functionality. You can continue to visualize data in Log Analytics using [View Designer](view-designer.md) for shared views. You can also pin visualizations from these views or for [individual queries](../learn/tutorial-logs-dashboards.md) to Azure Dashboards."
"\platform\oms-portal-faq.md","112","log analytics","You can now easily view and manage your usage and cost of Log Analytics by selecting **Usage and estimated costs** in your workspace."
"\platform\oms-portal-faq.md","123","management solution","- [Find and install management solutions](../insights/solutions.md) using the Azure portal."
"\platform\oms-portal-transition.md","30","management solution","- The new alert management experience [replaces the Alert Management solution](#changes-to-alerts)."
"\platform\oms-portal-transition.md","35","log analytics","- New connections from System Center Operations Manager to Log Analytics require [updated management packs](#system-center-operations-manager)."
"\platform\oms-portal-transition.md","43","management solution","- See [Migrate your OMS Update Deployments to Azure](../../automation/migrate-oms-update-deployments.md) for details on transitioning the Update Management solution."
"\platform\oms-portal-transition.md","45","log analytics","Refer to [Common questions for transition from OMS portal to Azure portal for Log Analytics users](oms-portal-faq.md) for information about how to transition to the Azure portal. Send any feedback, questions, or concerns to **LAUpgradeFeedback@microsoft.com**."
"\platform\oms-portal-transition.md","48","log analytics","Azure portal access management is richer and more powerful than the access management in the OMS Portal. See [Manage workspaces](manage-access.md#manage-accounts-and-users) for details of access management in Log Analytics."
"\platform\oms-portal-transition.md","62","log analytics","| ReadOnly | Log Analytics Reader |"
"\platform\oms-portal-transition.md","63","log analytics","| Contributor | Log Analytics Contributor |"
"\platform\oms-portal-transition.md","68","log analytics","You are no longer be able to create new workspaces using the OMS portal. Follow the guidance in [Create a Log Analytics workspace in the Azure portal](../../azure-monitor/learn/quick-create-workspace.md) to create a new workspace in the Azure portal."
"\platform\oms-portal-transition.md","77","log analytics","Alerts have been [extended into the Azure portal](../../monitoring-and-diagnostics/monitoring-alerts-extend.md). Once this is complete, management actions on alerts will only be available in Azure portal. Existing alerts will continue to be listed in the OMS portal. If you access alerts programmatically by using the Log Analytics Alert REST API or Log Analytics Alert Resource Template, you'll need to use action groups instead of actions in your API calls, Azure Resource Manager templates, and PowerShell commands."
"\platform\oms-portal-transition.md","79","management solution","### Alert management solution"
"\platform\oms-portal-transition.md","80","log analytics","Instead of the [alert management solution](../../azure-monitor/platform/alert-management-solution.md), you can use [Azure Monitor's unified alerting interface](../../monitoring-and-diagnostics/monitoring-overview-alerts.md) to visualize and manage your alerts. This new experience aggregates alerts from multiple sources within Azure including log alerts from Log Analytics. You can see distributions of your alerts, take advantage of automated grouping of related alerts via smart groups, and view alerts across multiple subscriptions while applying rich filters. All these features are available in preview starting June 4, 2018. The alert management solution will not be available in the Azure portal. "
"\platform\oms-portal-transition.md","80","management solution","Instead of the [alert management solution](../../azure-monitor/platform/alert-management-solution.md), you can use [Azure Monitor's unified alerting interface](../../monitoring-and-diagnostics/monitoring-overview-alerts.md) to visualize and manage your alerts. This new experience aggregates alerts from multiple sources within Azure including log alerts from Log Analytics. You can see distributions of your alerts, take advantage of automated grouping of related alerts via smart groups, and view alerts across multiple subscriptions while applying rich filters. All these features are available in preview starting June 4, 2018. The alert management solution will not be available in the Azure portal. "
"\platform\oms-portal-transition.md","82","log analytics","The data collected by the Alert Management solution (records with a type of Alert) continues to be in Log Analytics as long as the solution is installed for the workspace. Starting August 2018, streaming of alerts from unified alerting into workspaces will be enabled, replacing this capability. Some schema changes are expected and will be announced at a later date."
"\platform\oms-portal-transition.md","82","management solution","The data collected by the Alert Management solution (records with a type of Alert) continues to be in Log Analytics as long as the solution is installed for the workspace. Starting August 2018, streaming of alerts from unified alerting into workspaces will be enabled, replacing this capability. Some schema changes are expected and will be announced at a later date."
"\platform\oms-portal-transition.md","88","log analytics","[Application Insights Connector](../../azure-monitor/platform/app-insights-connector.md) provides a way to bring Application Insights data into a Log Analytics workspace. This data duplication was required to enable visibility across infrastructure and application data."
"\platform\oms-portal-transition.md","90","log analytics","With the support of [cross-resource queries](../../azure-monitor/log-query/cross-workspace-query.md), there is no longer this need to duplicate data. As such, the existing Application Insights solution will be deprecated. Starting October, you will not be able to link new Application Insights resources to Log Analytics workspaces. Existing links and dashboards will continue to function until January 15, 2019."
"\platform\oms-portal-transition.md","105","log analytics","You can continue to rely on Diagnostics Settings to send NSG logs to Log Analytics so your existing saved searches, alerts, dashboards will continue to work. Customers who have already installed the solution can continue to use it until further notice. Starting September 5, the Network Security Group Analytics solution will be removed from the marketplace and made available through the community as a [Azure QuickStart Template](https://azure.microsoft.com/resources/templates/?resourceType=Microsoft.Operationalinsights)."
"\platform\oms-portal-transition.md","108","log analytics","If you've [connected your Operations Manager management group to Log Analytics](../../azure-monitor/platform/om-agents.md), then it will continue to work with no changes. For new connections though, you must follow the guidance in [Microsoft System Center Operations Manager Management Pack to configure Operations Management Suite](https://blogs.technet.microsoft.com/momteam/2018/07/25/microsoft-system-center-operations-manager-management-pack-to-configure-operations-management-suite/)."
"\platform\oms-portal-transition.md","111","log analytics","- See [Common questions for transition from OMS portal to Azure portal for Log Analytics users](oms-portal-faq.md) for guidance on moving from the OMS portal to the Azure portal."
"\platform\personal-data-mgmt.md","2","log analytics","title: Guidance for personal data stored in Azure Log Analytics| Microsoft Docs"
"\platform\personal-data-mgmt.md","3","log analytics","description: This article describes how to manage personal data stored in Azure Log Analytics and the methods to identify and remove it."
"\platform\personal-data-mgmt.md","18","log analytics","# Guidance for personal data stored in Log Analytics and Application Insights"
"\platform\personal-data-mgmt.md","23","log analytics","> For the purposes of this article _log data_ refers to data sent to a Log Analytics workspace, while _application data_ refers to data collected by Application Insights."
"\platform\personal-data-mgmt.md","35","log analytics","## Where to look for private data in Log Analytics?"
"\platform\personal-data-mgmt.md","41","log analytics","* *IP addresses*: Log Analytics collects a variety of IP information across many different tables. For example, the following query shows all tables where IPv4 addresses have been collected over the last 24 hours:"
"\platform\personal-data-mgmt.md","53","log analytics","* *Custom data*: Log Analytics allows the collection in a variety of methods: custom logs and custom fields, the [HTTP Data Collector API](../../azure-monitor/platform/data-collector-api.md) , and custom data collected as part of system event logs. All of these are susceptible to containing private data, and should be examined to verify whether any such data exists."
"\platform\personal-data-mgmt.md","77","log analytics","As mentioned in the [strategy for personal data handling](#strategy-for-personal-data-handling) section earlier, it is __strongly__ recommended to if it all possible, to restructure your data collection policy to disable the collection of private data, obfuscating or anonymizing it, or otherwise modifying it to remove it from being considered ""private"". Handling the data will foremost result in costs to you and your team to define and automate a strategy, build an interface for your customers to interact with their data through, and ongoing maintenance costs. Further, it is computationally costly for Log Analytics and Application Insights, and a large volume of concurrent query or purge API calls have the potential to negatively impact all other interaction with Log Analytics functionality. That said, there are indeed some valid scenarios where private data must be collected. For these cases, data should be handled as described in this section."
"\platform\personal-data-mgmt.md","83","log analytics","For both view and export data requests, the [Log Analytics query API](https://dev.loganalytics.io/) or the  [Application Insights query API](https://dev.applicationinsights.io/quickstart) should be used. Logic to convert the shape of the data to an appropriate one to deliver to your users will be up to you to implement. [Azure Functions](https://azure.microsoft.com/services/functions/) makes a great place to host such logic."
"\platform\personal-data-mgmt.md","88","log analytics","> Deletes in Log Analytics are destructive and non-reversible! Please use extreme caution in their execution."
"\platform\personal-data-mgmt.md","90","log analytics","We have made available as part of a privacy handling a *purge* API path. This path should be used sparingly due to the risk associated with doing so, the potential performance impact, and the potential to skew all-up aggregations, measurements, and other aspects of your Log Analytics data. See the [Strategy for personal data handling](#strategy-for-personal-data-handling) section for alternative approaches to handle private data."
"\platform\personal-data-mgmt.md","106","log analytics",">  While we expect the vast majority of purge operations to complete much quicker than our SLA, due to their heavy impact on the data platform used by Log Analytics, **the formal SLA for the completion of purge operations is set at 30 days**. "
"\platform\personal-data-mgmt.md","121","log analytics","- To learn more about how Log Analytics data is collected, processed, and secured, see [Log Analytics data security](../../azure-monitor/platform/data-security.md)."
"\platform\powerbi.md","2","log analytics","title: Import Azure Log Analytics data into Power BI | Microsoft Docs"
"\platform\powerbi.md","3","log analytics","description: Power BI is a cloud based business analytics service from Microsoft that provides rich visualizations and reports for analysis of different sets of data.  This article describes how to configure and import Log Analytics data into Power BI and configure it to automatically refresh."
"\platform\powerbi.md","17","log analytics","# Import Azure Log Analytics data into Power BI"
"\platform\powerbi.md","20","log analytics","[Power BI](https://powerbi.microsoft.com/documentation/powerbi-service-get-started/) is a cloud based business analytics service from Microsoft that provides rich visualizations and reports for analysis of different sets of data.  You can import the results of a Log Analytics log search into a Power BI dataset so you can take advantage of its features  such as combining data from different sources and sharing reports on the web and mobile devices."
"\platform\powerbi.md","23","log analytics","To import data from a Log Analytics workspace into Power BI, you create a dataset in Power BI based on a log search query in Log Analytics.  The query is run each time the dataset is refreshed.  You can then build Power BI reports that use data from the dataset.  To create the dataset in Power BI, you export your query from Log Analytics to [Power Query (M) language](https://msdn.microsoft.com/library/mt807488.aspx).  You then use this to create a query in Power BI Desktop and then publish it to Power BI as a dataset.  The details for this process are described below."
"\platform\powerbi.md","25","log analytics","![Log Analytics to Power BI](media/powerbi/overview.png)"
"\platform\powerbi.md","28","log analytics","Start by creating a [log search](../../azure-monitor/log-query/log-query-overview.md) that returns the data from Log Analytics that you want to populate the Power BI dataset.  You then export that query to [Power Query (M) language](https://msdn.microsoft.com/library/mt807488.aspx) which can be used by Power BI Desktop."
"\platform\powerbi.md","30","log analytics","1. Create the log search in Log Analytics to extract the data for your dataset."
"\platform\powerbi.md","38","log analytics","Power BI Desktop is a desktop application that allows you to create datasets and reports that can be published to Power BI.  You can also use it to create a query using the Power Query language exported from Log Analytics. "
"\platform\powerbi.md","63","log analytics","The dataset created in Power BI will have the same data that you previously saw in Power BI Desktop.  You need to refresh the dataset periodically to run the query again and populate it with the latest data from Log Analytics.  "
"\platform\powerbi.md","65","log analytics","1. Click on the workspace where you uploaded your report and select the **Datasets** menu. Select the context menu next to your new dataset and select **Settings**. Under **Data source credentials** you should have a message that the credentials are invalid.  This is because you haven't provided credentials yet for the dataset to use when it refreshes its data.  Click **Edit credentials** and specify credentials with access to Log Analytics."
"\platform\powerbi.md","77","log analytics","* Learn more about [Power BI](https://powerbi.microsoft.com) to build visualizations based on Log Analytics exports."
"\platform\powershell-samples.md","2","log analytics","title: Azure Log Analytics PowerShell Samples | Microsoft Docs"
"\platform\powershell-samples.md","3","log analytics","description: Azure Log Analytics PowerShell Samples"
"\platform\powershell-samples.md","20","log analytics","# Azure Log Analytics PowerShell samples"
"\platform\powershell-samples.md","22","log analytics","The following table includes links to PowerShell scripts samples to perform various functions in Log Analytics."
"\platform\powershell-samples.md","27","log analytics","| [Create a Log Analytics workspace](../scripts/powershell-sample-create-workspace.md) | Creates a workspace in Log Analytics.|"
"\platform\powershell-workspace-configuration.md","2","log analytics","title: Use PowerShell to Create and Configure a Log Analytics Workspace | Microsoft Docs"
"\platform\powershell-workspace-configuration.md","3","log analytics","description: Log Analytics uses data from servers in your on-premises or cloud infrastructure. You can collect machine data from Azure storage when generated by Azure diagnostics."
"\platform\powershell-workspace-configuration.md","19","log analytics","# Manage Log Analytics using PowerShell"
"\platform\powershell-workspace-configuration.md","20","log analytics","You can use the [Log Analytics PowerShell cmdlets](https://docs.microsoft.com/powershell/module/azurerm.operationalinsights/) to perform various functions in Log Analytics from a command line or as part of a script.  Examples of the tasks you can perform with PowerShell include:"
"\platform\powershell-workspace-configuration.md","31","log analytics","* Add the log analytics agent to an Azure virtual machine"
"\platform\powershell-workspace-configuration.md","32","log analytics","* Configure log analytics to index data collected using Azure diagnostics"
"\platform\powershell-workspace-configuration.md","34","log analytics","This article provides two code samples that illustrate some of the functions that you can perform from PowerShell.  You can refer to the [Log Analytics PowerShell cmdlet reference](https://docs.microsoft.com/powershell/module/azurerm.operationalinsights/) for other functions."
"\platform\powershell-workspace-configuration.md","37","log analytics","> Log Analytics was previously called Operational Insights, which is why it is the name used in the cmdlets."
"\platform\powershell-workspace-configuration.md","45","log analytics","## Create and configure a Log Analytics Workspace"
"\platform\powershell-workspace-configuration.md","185","log analytics","## Configuring Log Analytics to index Azure diagnostics"
"\platform\powershell-workspace-configuration.md","186","log analytics","For agentless monitoring of Azure resources, the resources need to have Azure diagnostics enabled and configured to write to a Log Analytics workspace. This approach sends data directly to Log Analytics and does not require data to be written to a storage account. Supported resources include:"
"\platform\powershell-workspace-configuration.md","224","log analytics","## Configuring Log Analytics to index Azure diagnostics from storage"
"\platform\powershell-workspace-configuration.md","225","log analytics","To collect log data from within a running instance of a classic cloud service or a service fabric cluster, you need to first write the data to Azure storage. Log Analytics is then configured to collect the logs from the storage account. Supported resources include:"
"\platform\powershell-workspace-configuration.md","232","log analytics","1. List the existing storage accounts and locations that Log Analytics will index data from"
"\platform\powershell-workspace-configuration.md","241","log analytics","# Update these two lines with the storage account resource ID and the storage account key for the storage account you want to Log Analytics to  "
"\platform\powershell-workspace-configuration.md","263","log analytics","* [Review Log Analytics PowerShell cmdlets](https://docs.microsoft.com/powershell/module/azurerm.operationalinsights/) for additional information on using PowerShell for configuration of Log Analytics."
"\platform\runbook-datacollect.md","2","log analytics","title: Collecting Log Analytics data with a runbook in Azure Automation | Microsoft Docs"
"\platform\runbook-datacollect.md","3","log analytics","description: Step by step tutorial that walks through creating a runbook in Azure Automation to collect data into the repository for analysis by Log Analytics."
"\platform\runbook-datacollect.md","17","log analytics","# Collect data in Log Analytics with an Azure Automation runbook"
"\platform\runbook-datacollect.md","18","log analytics","You can collect a significant amount of data in Log Analytics from a variety of sources including [data sources](../../azure-monitor/platform/agent-data-sources.md) on agents and also [data collected from Azure](../../azure-monitor/platform/collect-azure-metrics-logs.md).  There are a scenarios though where you need to collect data that isn't accessible through these standard sources.  In these cases, you can use the [HTTP Data Collector API](../../azure-monitor/platform/data-collector-api.md) to write data to Log Analytics from any REST API client.  A common method to perform this data collection is using a runbook in Azure Automation.   "
"\platform\runbook-datacollect.md","20","log analytics","This tutorial walks through the process for creating and scheduling a runbook in Azure Automation to write data to Log Analytics."
"\platform\runbook-datacollect.md","26","log analytics","- [Log Analytics workspace](../../azure-monitor/learn/quick-create-workspace.md)."
"\platform\runbook-datacollect.md","30","log analytics","For this tutorial, you'll write a runbook that collects information about Automation jobs.  Runbooks in Azure Automation are implemented with PowerShell, so you'll start by writing and testing a script in the Azure Automation editor.  Once you verify that you're collecting the required information, you'll write that data to Log Analytics and verify the custom data type.  Finally, you'll create a schedule to start the runbook at regular intervals."
"\platform\runbook-datacollect.md","33","log analytics","> You can configure Azure Automation to send job information to Log Analytics without this runbook.  This scenario is primarily used to support the tutorial, and it's recommended that you send the data to a test workspace.  "
"\platform\runbook-datacollect.md","52","log analytics","[Automation variables](../../automation/automation-variables.md) hold values that can be used by all runbooks in your Automation account.  They make runbooks more flexible by allowing you to change these values without editing the actual runbook. Every request from the HTTP Data Collector API requires the ID and key of the Log Analytics workspace, and variable assets are ideal to store this information.  "
"\platform\runbook-datacollect.md","64","log analytics","| Value | Paste in the Workspace ID of your Log Analytics workspace. | Paste in with the Primary or Secondary Key of your Log Analytics workspace. |"
"\platform\runbook-datacollect.md","103","log analytics","		# Get information required for Log Analytics workspace from Automation variables."
"\platform\runbook-datacollect.md","120","log analytics","		    # Send the data to Log Analytics."
"\platform\runbook-datacollect.md","126","log analytics","Azure Automation includes an environment to [test your runbook](../../automation/automation-testing-runbook.md) before you publish it.  You can inspect the data collected by the runbook and verify that it writes to Log Analytics as expected before publishing it to production. "
"\platform\runbook-datacollect.md","136","log analytics","4. Ensure that the output doesn't show any errors in the post command to Log Analytics.  You should have a message similar to the following."
"\platform\runbook-datacollect.md","140","log analytics","## 5. Verify records in Log Analytics"
"\platform\runbook-datacollect.md","141","log analytics","Once the runbook has completed in test, and you verified that the output was successfully received, you can verify that the records were created using a [log search in Log Analytics](../../azure-monitor/log-query/log-query-overview.md)."
"\platform\runbook-datacollect.md","145","log analytics","1. In the Azure portal, select your Log Analytics workspace."
"\platform\runbook-datacollect.md","162","log analytics","For test, you were able to view [verbose output](../../automation/automation-runbook-output-and-messages.md#message-streams) because you set the $VerbosePreference variable in the script.  For production, you need to set the logging properties for the runbook if you want to view verbose output.  For the runbook used in this tutorial, this will display the json data being sent to Log Analytics."
"\platform\runbook-datacollect.md","203","log analytics","6. Click on this entry to view the detailed json data  that was sent to Log Analytics."
"\platform\runbook-datacollect.md","208","log analytics","- Use [View Designer](../../azure-monitor/platform/view-designer.md) to create a view displaying the data that you've collected to the Log Analytics repository."
"\platform\runbook-datacollect.md","209","management solution","- Package your runbook in a [management solution](../../azure-monitor/insights/solutions-creating.md) to distribute to customers."
"\platform\runbook-datacollect.md","210","log analytics","- Learn more about [Log Analytics](https://docs.microsoft.com/azure/log-analytics/)."
"\platform\service-providers.md","2","log analytics","title: Log Analytics for Service Providers | Microsoft Docs"
"\platform\service-providers.md","3","log analytics","description: Log Analytics can help Managed Service Providers (MSPs), large Enterprises, Independent Sofware Vendors (ISVs) and hosting service providers manage and monitor servers in customer's on-premises or cloud infrastructure."
"\platform\service-providers.md","18","log analytics","# Log Analytics for Service Providers"
"\platform\service-providers.md","23","log analytics","For partners and service providers who are part of the [Cloud Solution Provider (CSP)](https://partner.microsoft.com/Solutions/cloud-reseller-overview) program, Log Analytics is one of the Azure services available in [Azure CSP subscriptions](https://docs.microsoft.com/azure/cloud-solution-provider/overview/azure-csp-overview). "
"\platform\service-providers.md","29","log analytics","There are three possible architectures for service providers regarding Log Analytics workspaces:"
"\platform\service-providers.md","68","log analytics","There are two options to implement the central location in Log Analytics:"
"\platform\service-providers.md","72","log analytics","2. Power BI as a central location: Power BI can act as the central location when the various workspaces export data to it using the integration between Log Analytics and [Power BI](../../azure-monitor/platform/powerbi.md). "
"\platform\service-providers.md","80","log analytics","* Review the process of [configuring Log Analytics and Power BI to monitor multiple CSP customers](https://docs.microsoft.com/azure/cloud-solution-provider/support/monitor-multiple-customers)"
"\platform\template-workspace-configuration.md","2","log analytics","title: Use Azure Resource Manager templates to Create and Configure a Log Analytics Workspace | Microsoft Docs"
"\platform\template-workspace-configuration.md","3","log analytics","description: You can use Azure Resource Manager templates to create and configure Log Analytics workspaces."
"\platform\template-workspace-configuration.md","18","log analytics","# Manage Log Analytics using Azure Resource Manager templates"
"\platform\template-workspace-configuration.md","19","log analytics","You can use [Azure Resource Manager templates](../../azure-resource-manager/resource-group-authoring-templates.md) to create and configure Log Analytics workspaces. Examples of the tasks you can perform with templates include:"
"\platform\template-workspace-configuration.md","29","log analytics","* Add the log analytics agent to an Azure virtual machine"
"\platform\template-workspace-configuration.md","30","log analytics","* Configure log analytics to index data collected using Azure diagnostics"
"\platform\template-workspace-configuration.md","44","log analytics","## Create a Log Analytics workspace"
"\platform\template-workspace-configuration.md","53","log analytics",">If creating or configuring a Log Analytics workspace in a subscription that has opted into the new April 2018 pricing model, the only valid Log Analytics pricing tier is **PerGB2018**. "
"\platform\template-workspace-configuration.md","132","log analytics","## Configure a Log Analytics workspace"
"\platform\template-workspace-configuration.md","174","log analytics","        ""description"": ""Number of days of retention. Free plans can only have 7 days, Standalone and Log Analytics plans include 30 days for free"""
"\platform\template-workspace-configuration.md","508","log analytics","The Azure quickstart template gallery includes several templates for Log Analytics, including:"
"\platform\template-workspace-configuration.md","510","log analytics","* [Deploy a virtual machine running Windows with the Log Analytics VM extension](https://azure.microsoft.com/documentation/templates/201-oms-extension-windows-vm/)"
"\platform\template-workspace-configuration.md","511","log analytics","* [Deploy a virtual machine running Linux with the Log Analytics VM extension](https://azure.microsoft.com/documentation/templates/201-oms-extension-ubuntu-vm/)"
"\platform\template-workspace-configuration.md","512","log analytics","* [Monitor Azure Site Recovery using an existing Log Analytics workspace](https://azure.microsoft.com/documentation/templates/asr-oms-monitoring/)"
"\platform\template-workspace-configuration.md","513","log analytics","* [Monitor Azure Web Apps using an existing Log Analytics workspace](https://azure.microsoft.com/documentation/templates/101-webappazure-oms-monitoring/)"
"\platform\template-workspace-configuration.md","514","log analytics","* [Add an existing storage account to Log Analytics](https://azure.microsoft.com/resources/templates/oms-existing-storage-account/)"
"\platform\view-designer-filters.md","2","log analytics","title: Filters in Azure Log Analytics views | Microsoft Docs"
"\platform\view-designer-filters.md","3","log analytics","description: A filter in a Log Analytics view allows users to filter the data in the view by the value of a particular property without modifying the view itself.  This article describes how to use a filter and add one to a custom view."
"\platform\view-designer-filters.md","18","log analytics","# Filters in Log Analytics views"
"\platform\view-designer-filters.md","19","log analytics","A **filter** in a [Log Analytics view](view-designer.md) allows users to filter the data in the view by the value of a particular property without modifying the view itself.  For example, you could allow users of your view to filter the view for data only from a particular computer or set of computers.  You can create multiple filters on a single view to allow users to filter by multiple properties.  This article describes how to use a filter and add one to a custom view."
"\platform\view-designer-filters.md","45","kusto","| Query for Values | Query to run to populate filter dropdown for the user.  This must use either [summarize](/azure/kusto/query/summarizeoperator) or [distinct](/azure/kusto/query/distinctoperator) to provide unique values for a particular field, and it must match the **Field Name**.  You can use [sort](/azure/kusto/query/sortoperator) to sort the values that are displayed to the user. |"
"\platform\view-designer-parts.md","2","log analytics","title: A reference guide to the View Designer parts in Azure Log Analytics | Microsoft Docs"
"\platform\view-designer-parts.md","3","log analytics","description: By using View Designer in Log Analytics, you can create custom views in the Azure portal that display a variety of data visualizations in your Log Analytics workspace. This article is a reference guide to the settings for the visualization parts that are available in your custom views."
"\platform\view-designer-parts.md","18","log analytics","# Reference guide to View Designer visualization parts in Log Analytics"
"\platform\view-designer-parts.md","19","log analytics","By using View Designer in Azure Log Analytics, you can create custom views in the Azure portal that present a variety of data visualizations from your Log Analytics workspace. This article is a reference guide to the settings for the visualization parts that are available in your custom views."
"\platform\view-designer-tiles.md","2","log analytics","title: A reference guide to the View Designer tiles in Azure Log Analytics | Microsoft Docs"
"\platform\view-designer-tiles.md","3","log analytics","description: By using View Designer in Log Analytics, you can create custom views in the Azure portal that display a variety of data visualizations in your Log Analytics workspace. This article is a reference guide to the settings for the tiles that are available in your custom views."
"\platform\view-designer-tiles.md","18","log analytics","# Reference guide to View Designer tiles in Log Analytics"
"\platform\view-designer-tiles.md","19","log analytics","By using View Designer in Azure Log Analytics, you can create custom views in the Azure portal that present a variety of data visualizations in your Log Analytics workspace. This article is a reference guide to the settings for the tiles that are available in your custom views."
"\platform\view-designer.md","2","log analytics","title: Create views to analyze data in Azure Log Analytics | Microsoft Docs"
"\platform\view-designer.md","3","log analytics","description: By using View Designer in Log Analytics, you can create custom views that are displayed in the Azure portal and contain a variety of data visualizations in the Log Analytics workspace. This article contains an overview of View Designer and presents procedures for creating and editing custom views."
"\platform\view-designer.md","18","log analytics","# Create custom views by using View Designer in Log Analytics"
"\platform\view-designer.md","19","log analytics","By using View Designer in [Azure Log Analytics](../../azure-monitor/log-query/log-query-overview.md), you can create a variety of custom views in the Azure portal that can help you visualize data in your Log Analytics workspace. This article presents an overview of View Designer and procedures for creating and editing custom views."
"\platform\view-designer.md","28","log analytics","Views are displayed on the **Overview** page of your Log Analytics workspace in the Azure portal. The tiles in each custom view are displayed alphabetically, and the tiles for the solutions are installed the same workspace."
"\platform\view-designer.md","36","log analytics","| Tiles | Are displayed on your Log Analytics workspace **Overview** page. Each tile displays a visual summary of the custom view it represents. Each tile type provides a different visualization of your records. You select a tile to display a custom view. |"
"\platform\view-designer.md","38","log analytics","| Visualization parts | Present a visualization of data in the Log Analytics workspace based on one or more [log searches](../../azure-monitor/log-query/log-query-overview.md). Most parts include a header, which provides a high-level visualization, and a list, which displays the top results. Each part type provides a different visualization of the records in the Log Analytics workspace. You select elements in the part to perform a log search that provides detailed records. |"
"\platform\view-designer.md","59","log analytics","You can create a new view in View Designer by selecting **View Designer** in the menu of your Log Analytics workspace."
"\platform\vmext-troubleshoot.md","2","log analytics","title: Troubleshoot Azure Log Analytics VM Extension | Microsoft Docs"
"\platform\vmext-troubleshoot.md","3","log analytics","description: Describe the symptoms, causes, and resolution for the most common issues with the Log Analytics VM extension for Windows and Linux Azure VMs."
"\platform\vmext-troubleshoot.md","18","log analytics","# Troubleshooting the Log Analytics VM extension"
"\platform\vmext-troubleshoot.md","19","log analytics","This article provides help troubleshooting errors you might experience with the Log Analytics VM extension for Windows and Linux virtual machines running on Microsoft Azure, and suggests possible solutions to resolve them."
"\platform\vmext-troubleshoot.md","27","log analytics","4. From the list, check to see if the Log Analytics extension is enabled or not.  For Linux, the agent is listed as **OMSAgentforLinux** and for Windows, the agent is listed as **MicrosoftMonitoringAgent**."
"\platform\vmext-troubleshoot.md","58","log analytics","If the *Log Analytics agent for Linux* VM extension is not installing or reporting, you can perform the following steps to troubleshoot the issue."
"\platform\vmext-troubleshoot.md","63","log analytics","2. For other unhealthy statuses, review the Log Analytics agent for Linux VM extension logs files in `/var/log/azure/Microsoft.EnterpriseCloud.Monitoring.OmsAgentForLinux/*/extension.log` and `/var/log/azure/Microsoft.EnterpriseCloud.Monitoring.OmsAgentForLinux/*/CommandExecution.log`"
"\platform\vmext-troubleshoot.md","64","log analytics","3. If the extension status is healthy, but data is not being uploaded review the Log Analytics agent for Linux log files in `/var/opt/microsoft/omsagent/log/omsagent.log`"
"\platform\vmext-troubleshoot.md","70","log analytics","For additional troubleshooting guidance related to the Log Analytics agent for Linux hosted on computers outside of Azure, see [Troubleshoot Azure Log Analytics Linux Agent](agent-linux-troubleshoot.md).  "
"\scripts\powershell-sample-create-workspace.md","2","log analytics","title: Azure PowerShell Script Sample -  Create a Log Analytics workspace| Microsoft Docs"
"\scripts\powershell-sample-create-workspace.md","3","log analytics","description: Azure PowerShell Script Sample -  Create a Log Analytics workspace to "
"\scripts\powershell-sample-create-workspace.md","20","log analytics","# Create a Log Analytics workspace with PowerShell"
"\scripts\powershell-sample-create-workspace.md","22","log analytics","This script gets you up and running quickly with an Azure Log Analytics workspace, which is required if you want to start collecting, analyzing, and taking action on data.  "
"\scripts\powershell-sample-create-workspace.md","30","log analytics","[!code-powershell[main](../../../powershell_scripts/log-analytics/log-analytics-create-new-resource/log-analytics-create-new-resource.ps1 ""Create new Log Analytics workspace"")]"
"\scripts\powershell-sample-create-workspace.md","34","log analytics","This script uses following commands to create a new Log Analytics workspace in your  subscription. Each command in the table links to command specific documentation."
